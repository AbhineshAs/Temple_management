function $C(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dT={exports:{}},ed={},fT={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),VC=Symbol.for("react.portal"),FC=Symbol.for("react.fragment"),UC=Symbol.for("react.strict_mode"),BC=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),WC=Symbol.for("react.context"),HC=Symbol.for("react.forward_ref"),qC=Symbol.for("react.suspense"),KC=Symbol.for("react.memo"),GC=Symbol.for("react.lazy"),q_=Symbol.iterator;function YC(t){return t===null||typeof t!="object"?null:(t=q_&&t[q_]||t["@@iterator"],typeof t=="function"?t:null)}var pT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mT=Object.assign,gT={};function ko(t,e,n){this.props=t,this.context=e,this.refs=gT,this.updater=n||pT}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vT(){}vT.prototype=ko.prototype;function lg(t,e,n){this.props=t,this.context=e,this.refs=gT,this.updater=n||pT}var ug=lg.prototype=new vT;ug.constructor=lg;mT(ug,ko.prototype);ug.isPureReactComponent=!0;var K_=Array.isArray,yT=Object.prototype.hasOwnProperty,cg={current:null},_T={key:!0,ref:!0,__self:!0,__source:!0};function wT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)yT.call(e,r)&&!_T.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gl,type:t,key:s,ref:o,props:i,_owner:cg.current}}function QC(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function XC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G_=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XC(""+t.key):e.toString(36)}function Tc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gl:case VC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bf(o,0):r,K_(i)?(n="",t!=null&&(n=t.replace(G_,"$&/")+"/"),Tc(i,e,n,"",function(c){return c})):i!=null&&(hg(i)&&(i=QC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(G_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",K_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bf(s,a);o+=Tc(s,e,n,l,i)}else if(l=YC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bf(s,a++),o+=Tc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wu(t,e,n){if(t==null)return t;var r=[],i=0;return Tc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Sc={transition:null},ZC={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:cg};function ET(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Wu,forEach:function(t,e,n){Wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ko;oe.Fragment=FC;oe.Profiler=BC;oe.PureComponent=lg;oe.StrictMode=UC;oe.Suspense=qC;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZC;oe.act=ET;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yT.call(e,l)&&!_T.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:WC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zC,_context:t},t.Consumer=t};oe.createElement=wT;oe.createFactory=function(t){var e=wT.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:HC,render:t}};oe.isValidElement=hg;oe.lazy=function(t){return{$$typeof:GC,_payload:{_status:-1,_result:t},_init:JC}};oe.memo=function(t,e){return{$$typeof:KC,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};oe.unstable_act=ET;oe.useCallback=function(t,e){return Mt.current.useCallback(t,e)};oe.useContext=function(t){return Mt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Mt.current.useEffect(t,e)};oe.useId=function(){return Mt.current.useId()};oe.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Mt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};oe.useRef=function(t){return Mt.current.useRef(t)};oe.useState=function(t){return Mt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Mt.current.useTransition()};oe.version="18.3.1";fT.exports=oe;var j=fT.exports;const M=Kt(j),ex=$C({__proto__:null,default:M},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=j,nx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),ix=Object.prototype.hasOwnProperty,sx=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function TT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ix.call(e,r)&&!ox.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nx,type:t,key:s,ref:o,props:i,_owner:sx.current}}ed.Fragment=rx;ed.jsx=TT;ed.jsxs=TT;dT.exports=ed;var m=dT.exports,Ap={},ST={exports:{}},nn={},IT={exports:{}},AT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var J=B.length;B.push(q);e:for(;0<J;){var ae=J-1>>>1,se=B[ae];if(0<i(se,q))B[ae]=q,B[J]=se,J=ae;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],J=B.pop();if(J!==q){B[0]=J;e:for(var ae=0,se=B.length,ue=se>>>1;ae<ue;){var pt=2*(ae+1)-1,Qe=B[pt],Rt=pt+1,jt=B[Rt];if(0>i(Qe,J))Rt<se&&0>i(jt,Qe)?(B[ae]=jt,B[Rt]=J,ae=Rt):(B[ae]=Qe,B[pt]=J,ae=pt);else if(Rt<se&&0>i(jt,J))B[ae]=jt,B[Rt]=J,ae=Rt;else break e}}return q}function i(B,q){var J=B.sortIndex-q.sortIndex;return J!==0?J:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(B){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=B)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function P(B){if(y=!1,I(B),!w)if(n(l)!==null)w=!0,X(O);else{var q=n(c);q!==null&&te(P,q.startTime-B)}}function O(B,q){w=!1,y&&(y=!1,E(T),T=-1),g=!0;var J=f;try{for(I(q),d=n(l);d!==null&&(!(d.expirationTime>q)||B&&!k());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var se=ae(d.expirationTime<=q);q=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),I(q)}else r(l);d=n(l)}if(d!==null)var ue=!0;else{var pt=n(c);pt!==null&&te(P,pt.startTime-q),ue=!1}return ue}finally{d=null,f=J,g=!1}}var N=!1,A=null,T=-1,b=5,C=-1;function k(){return!(t.unstable_now()-C<b)}function D(){if(A!==null){var B=t.unstable_now();C=B;var q=!0;try{q=A(!0,B)}finally{q?x():(N=!1,A=null)}}else N=!1}var x;if(typeof _=="function")x=function(){_(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=D,x=function(){Q.postMessage(null)}}else x=function(){S(D,0)};function X(B){A=B,N||(N=!0,x())}function te(B,q){T=S(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,X(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var J=f;f=q;try{return B()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=f;f=B;try{return q()}finally{f=J}},t.unstable_scheduleCallback=function(B,q,J){var ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ae+J:ae):J=ae,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=J+se,B={id:h++,callback:q,priorityLevel:B,startTime:J,expirationTime:se,sortIndex:-1},J>ae?(B.sortIndex=J,e(c,B),n(l)===null&&B===n(c)&&(y?(E(T),T=-1):y=!0,te(P,J-ae))):(B.sortIndex=se,e(l,B),w||g||(w=!0,X(O))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var q=f;return function(){var J=f;f=q;try{return B.apply(this,arguments)}finally{f=J}}}})(AT);IT.exports=AT;var ax=IT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=j,en=ax;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT=new Set,sl={};function ys(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(sl[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=Object.prototype.hasOwnProperty,ux=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y_={},Q_={};function cx(t){return bp.call(Q_,t)?!0:bp.call(Y_,t)?!1:ux.test(t)?Q_[t]=!0:(Y_[t]=!0,!1)}function hx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dx(t,e,n,r){if(e===null||typeof e>"u"||hx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dg=/[\-:]([a-z])/g;function fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dg,fg);ct[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dg,fg);ct[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dg,fg);ct[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function pg(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dx(e,n,i,r)&&(n=null),r||i===null?cx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hu=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),CT=Symbol.for("react.offscreen"),X_=Symbol.iterator;function ya(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Pf;function Da(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Rf=!1;function Cf(t,e){if(!t||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function fx(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=Cf(t.type,!1),t;case 11:return t=Cf(t.type.render,!1),t;case 1:return t=Cf(t.type,!0),t;default:return""}}function xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case Fs:return"Portal";case Pp:return"Profiler";case mg:return"StrictMode";case Rp:return"Suspense";case Cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RT:return(t.displayName||"Context")+".Consumer";case PT:return(t._context.displayName||"Context")+".Provider";case gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vg:return e=t.displayName||null,e!==null?e:xp(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return xp(t(e))}catch{}}return null}function px(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xp(e);case 8:return e===mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mx(t){var e=xT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qu(t){t._valueTracker||(t._valueTracker=mx(t))}function kT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kp(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function J_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DT(t,e){e=e.checked,e!=null&&pg(t,"checked",e,!1)}function Dp(t,e){DT(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Op(t,e.type,n):e.hasOwnProperty("defaultValue")&&Op(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Op(t,e,n){(e!=="number"||Yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oa=Array.isArray;function Zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Oa(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function OT(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ku,MT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gx=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(t){gx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),za[e]=za[t]})});function LT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||za.hasOwnProperty(t)&&za[t]?(""+e).trim():e+"px"}function jT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vx=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(vx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function jp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vp=null,eo=null,to=null;function n0(t){if(t=Xl(t)){if(typeof Vp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=sd(e),Vp(t.stateNode,t.type,e))}}function $T(t){eo?to?to.push(t):to=[t]:eo=t}function VT(){if(eo){var t=eo,e=to;if(to=eo=null,n0(t),e)for(t=0;t<e.length;t++)n0(e[t])}}function FT(t,e){return t(e)}function UT(){}var xf=!1;function BT(t,e,n){if(xf)return t(e,n);xf=!0;try{return FT(t,e,n)}finally{xf=!1,(eo!==null||to!==null)&&(UT(),VT())}}function al(t,e){var n=t.stateNode;if(n===null)return null;var r=sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Fp=!1;if(_r)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Fp=!1}function yx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Wa=!1,Qc=null,Xc=!1,Up=null,_x={onError:function(t){Wa=!0,Qc=t}};function wx(t,e,n,r,i,s,o,a,l){Wa=!1,Qc=null,yx.apply(_x,arguments)}function Ex(t,e,n,r,i,s,o,a,l){if(wx.apply(this,arguments),Wa){if(Wa){var c=Qc;Wa=!1,Qc=null}else throw Error(U(198));Xc||(Xc=!0,Up=c)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(_s(t)!==t)throw Error(U(188))}function Tx(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r0(i),t;if(s===r)return r0(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function WT(t){return t=Tx(t),t!==null?HT(t):null}function HT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HT(t);if(e!==null)return e;t=t.sibling}return null}var qT=en.unstable_scheduleCallback,i0=en.unstable_cancelCallback,Sx=en.unstable_shouldYield,Ix=en.unstable_requestPaint,Ve=en.unstable_now,Ax=en.unstable_getCurrentPriorityLevel,_g=en.unstable_ImmediatePriority,KT=en.unstable_UserBlockingPriority,Jc=en.unstable_NormalPriority,bx=en.unstable_LowPriority,GT=en.unstable_IdlePriority,td=null,zn=null;function Px(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(td,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:xx,Rx=Math.log,Cx=Math.LN2;function xx(t){return t>>>=0,t===0?32:31-(Rx(t)/Cx|0)|0}var Gu=64,Yu=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Na(a):(s&=o,s!==0&&(r=Na(s)))}else o=n&~i,o!==0?r=Na(o):s!==0&&(r=Na(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function kx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=kx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YT(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function Ox(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function QT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XT,Eg,JT,ZT,eS,zp=!1,Qu=[],Xr=null,Jr=null,Zr=null,ll=new Map,ul=new Map,Ur=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s0(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(e.pointerId)}}function wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&Eg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mx(t,e,n,r,i){switch(e){case"focusin":return Xr=wa(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=wa(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=wa(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ll.set(s,wa(ll.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ul.set(s,wa(ul.get(s)||null,t,e,n,r,i)),!0}return!1}function tS(t){var e=Wi(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=zT(n),e!==null){t.blockedOn=e,eS(t.priority,function(){JT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return e=Xl(n),e!==null&&Eg(e),t.blockedOn=n,!1;e.shift()}return!0}function o0(t,e,n){Ic(t)&&n.delete(e)}function Lx(){zp=!1,Xr!==null&&Ic(Xr)&&(Xr=null),Jr!==null&&Ic(Jr)&&(Jr=null),Zr!==null&&Ic(Zr)&&(Zr=null),ll.forEach(o0),ul.forEach(o0)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,zp||(zp=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,Lx)))}function cl(t){function e(i){return Ea(i,t)}if(0<Qu.length){Ea(Qu[0],t);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&Ea(Xr,t),Jr!==null&&Ea(Jr,t),Zr!==null&&Ea(Zr,t),ll.forEach(e),ul.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)tS(n),n.blockedOn===null&&Ur.shift()}var no=Cr.ReactCurrentBatchConfig,eh=!0;function jx(t,e,n,r){var i=ge,s=no.transition;no.transition=null;try{ge=1,Tg(t,e,n,r)}finally{ge=i,no.transition=s}}function $x(t,e,n,r){var i=ge,s=no.transition;no.transition=null;try{ge=4,Tg(t,e,n,r)}finally{ge=i,no.transition=s}}function Tg(t,e,n,r){if(eh){var i=Wp(t,e,n,r);if(i===null)Uf(t,e,r,th,n),s0(t,r);else if(Mx(i,t,e,n,r))r.stopPropagation();else if(s0(t,r),e&4&&-1<Nx.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&XT(s),s=Wp(t,e,n,r),s===null&&Uf(t,e,r,th,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var th=null;function Wp(t,e,n,r){if(th=null,t=yg(r),t=Wi(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return th=t,null}function nS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ax()){case _g:return 1;case KT:return 4;case Jc:case bx:return 16;case GT:return 536870912;default:return 16}default:return 16}}var Kr=null,Sg=null,Ac=null;function rS(){if(Ac)return Ac;var t,e=Sg,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ac=i.slice(t,1<r?1-r:void 0)}function bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function a0(){return!1}function rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xu:a0,this.isPropagationStopped=a0,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=rn(Do),Ql=De({},Do,{view:0,detail:0}),Vx=rn(Ql),Df,Of,Ta,nd=De({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ag,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ta&&(Ta&&t.type==="mousemove"?(Df=t.screenX-Ta.screenX,Of=t.screenY-Ta.screenY):Of=Df=0,Ta=t),Df)},movementY:function(t){return"movementY"in t?t.movementY:Of}}),l0=rn(nd),Fx=De({},nd,{dataTransfer:0}),Ux=rn(Fx),Bx=De({},Ql,{relatedTarget:0}),Nf=rn(Bx),zx=De({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=rn(zx),Hx=De({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qx=rn(Hx),Kx=De({},Do,{data:0}),u0=rn(Kx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qx[t])?!!e[t]:!1}function Ag(){return Xx}var Jx=De({},Ql,{key:function(t){if(t.key){var e=Gx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ag,charCode:function(t){return t.type==="keypress"?bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zx=rn(Jx),ek=De({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=rn(ek),tk=De({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ag}),nk=rn(tk),rk=De({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=rn(rk),sk=De({},nd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ok=rn(sk),ak=[9,13,27,32],bg=_r&&"CompositionEvent"in window,Ha=null;_r&&"documentMode"in document&&(Ha=document.documentMode);var lk=_r&&"TextEvent"in window&&!Ha,iS=_r&&(!bg||Ha&&8<Ha&&11>=Ha),h0=" ",d0=!1;function sS(t,e){switch(t){case"keyup":return ak.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function uk(t,e){switch(t){case"compositionend":return oS(e);case"keypress":return e.which!==32?null:(d0=!0,h0);case"textInput":return t=e.data,t===h0&&d0?null:t;default:return null}}function ck(t,e){if(Bs)return t==="compositionend"||!bg&&sS(t,e)?(t=rS(),Ac=Sg=Kr=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iS&&e.locale!=="ko"?null:e.data;default:return null}}var hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hk[t.type]:e==="textarea"}function aS(t,e,n,r){$T(r),e=nh(e,"onChange"),0<e.length&&(n=new Ig("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,hl=null;function dk(t){yS(t,0)}function rd(t){var e=Hs(t);if(kT(e))return t}function fk(t,e){if(t==="change")return e}var lS=!1;if(_r){var Mf;if(_r){var Lf="oninput"in document;if(!Lf){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),Lf=typeof p0.oninput=="function"}Mf=Lf}else Mf=!1;lS=Mf&&(!document.documentMode||9<document.documentMode)}function m0(){qa&&(qa.detachEvent("onpropertychange",uS),hl=qa=null)}function uS(t){if(t.propertyName==="value"&&rd(hl)){var e=[];aS(e,hl,t,yg(t)),BT(dk,e)}}function pk(t,e,n){t==="focusin"?(m0(),qa=e,hl=n,qa.attachEvent("onpropertychange",uS)):t==="focusout"&&m0()}function mk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rd(hl)}function gk(t,e){if(t==="click")return rd(e)}function vk(t,e){if(t==="input"||t==="change")return rd(e)}function yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:yk;function dl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bp.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function g0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v0(t,e){var n=g0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g0(n)}}function cS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hS(){for(var t=window,e=Yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yc(t.document)}return e}function Pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _k(t){var e=hS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cS(n.ownerDocument.documentElement,n)){if(r!==null&&Pg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v0(n,s);var o=v0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wk=_r&&"documentMode"in document&&11>=document.documentMode,zs=null,Hp=null,Ka=null,qp=!1;function y0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qp||zs==null||zs!==Yc(r)||(r=zs,"selectionStart"in r&&Pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&dl(Ka,r)||(Ka=r,r=nh(Hp,"onSelect"),0<r.length&&(e=new Ig("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zs)))}function Ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},jf={},dS={};_r&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function id(t){if(jf[t])return jf[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dS)return jf[t]=e[n];return t}var fS=id("animationend"),pS=id("animationiteration"),mS=id("animationstart"),gS=id("transitionend"),vS=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){vS.set(t,e),ys(e,[t])}for(var $f=0;$f<_0.length;$f++){var Vf=_0[$f],Ek=Vf.toLowerCase(),Tk=Vf[0].toUpperCase()+Vf.slice(1);wi(Ek,"on"+Tk)}wi(fS,"onAnimationEnd");wi(pS,"onAnimationIteration");wi(mS,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(gS,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function w0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ex(r,e,void 0,t),t.currentTarget=null}function yS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;w0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;w0(i,a,c),s=l}}}if(Xc)throw t=Up,Xc=!1,Up=null,t}function Se(t,e){var n=e[Xp];n===void 0&&(n=e[Xp]=new Set);var r=t+"__bubble";n.has(r)||(_S(e,t,2,!1),n.add(r))}function Ff(t,e,n){var r=0;e&&(r|=4),_S(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function fl(t){if(!t[Zu]){t[Zu]=!0,bT.forEach(function(n){n!=="selectionchange"&&(Sk.has(n)||Ff(n,!1,t),Ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,Ff("selectionchange",!1,e))}}function _S(t,e,n,r){switch(nS(e)){case 1:var i=jx;break;case 4:i=$x;break;default:i=Tg}n=i.bind(null,e,n,t),i=void 0,!Fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BT(function(){var c=s,h=yg(n),d=[];e:{var f=vS.get(t);if(f!==void 0){var g=Ig,w=t;switch(t){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":g=Zx;break;case"focusin":w="focus",g=Nf;break;case"focusout":w="blur",g=Nf;break;case"beforeblur":case"afterblur":g=Nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nk;break;case fS:case pS:case mS:g=Wx;break;case gS:g=ik;break;case"scroll":g=Vx;break;case"wheel":g=ok;break;case"copy":case"cut":case"paste":g=qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=c0}var y=(e&4)!==0,S=!y&&t==="scroll",E=y?f!==null?f+"Capture":null:f;y=[];for(var _=c,I;_!==null;){I=_;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,E!==null&&(P=al(_,E),P!=null&&y.push(pl(_,P,I)))),S)break;_=_.return}0<y.length&&(f=new g(f,w,null,n,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==$p&&(w=n.relatedTarget||n.fromElement)&&(Wi(w)||w[wr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Wi(w):null,w!==null&&(S=_s(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(y=l0,P="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=c0,P="onPointerLeave",E="onPointerEnter",_="pointer"),S=g==null?f:Hs(g),I=w==null?f:Hs(w),f=new y(P,_+"leave",g,n,h),f.target=S,f.relatedTarget=I,P=null,Wi(h)===c&&(y=new y(E,_+"enter",w,n,h),y.target=I,y.relatedTarget=S,P=y),S=P,g&&w)t:{for(y=g,E=w,_=0,I=y;I;I=Ns(I))_++;for(I=0,P=E;P;P=Ns(P))I++;for(;0<_-I;)y=Ns(y),_--;for(;0<I-_;)E=Ns(E),I--;for(;_--;){if(y===E||E!==null&&y===E.alternate)break t;y=Ns(y),E=Ns(E)}y=null}else y=null;g!==null&&E0(d,f,g,y,!1),w!==null&&S!==null&&E0(d,S,w,y,!0)}}e:{if(f=c?Hs(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var O=fk;else if(f0(f))if(lS)O=vk;else{O=mk;var N=pk}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=gk);if(O&&(O=O(t,c))){aS(d,O,n,h);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Op(f,"number",f.value)}switch(N=c?Hs(c):window,t){case"focusin":(f0(N)||N.contentEditable==="true")&&(zs=N,Hp=c,Ka=null);break;case"focusout":Ka=Hp=zs=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,y0(d,n,h);break;case"selectionchange":if(wk)break;case"keydown":case"keyup":y0(d,n,h)}var A;if(bg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bs?sS(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iS&&n.locale!=="ko"&&(Bs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bs&&(A=rS()):(Kr=h,Sg="value"in Kr?Kr.value:Kr.textContent,Bs=!0)),N=nh(c,T),0<N.length&&(T=new u0(T,t,null,n,h),d.push({event:T,listeners:N}),A?T.data=A:(A=oS(n),A!==null&&(T.data=A)))),(A=lk?uk(t,n):ck(t,n))&&(c=nh(c,"onBeforeInput"),0<c.length&&(h=new u0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=A))}yS(d,e)})}function pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=al(t,n),s!=null&&r.unshift(pl(t,s,i)),s=al(t,e),s!=null&&r.push(pl(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=al(n,s),l!=null&&o.unshift(pl(n,l,a))):i||(l=al(n,s),l!=null&&o.push(pl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ik=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(Ik,`
`).replace(Ak,"")}function ec(t,e,n){if(e=T0(e),T0(t)!==e&&n)throw Error(U(425))}function rh(){}var Kp=null,Gp=null;function Yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,bk=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,Pk=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(Rk)}:Qp;function Rk(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cl(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Oo,ml="__reactProps$"+Oo,wr="__reactContainer$"+Oo,Xp="__reactEvents$"+Oo,Ck="__reactListeners$"+Oo,xk="__reactHandles$"+Oo;function Wi(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I0(t);t!==null;){if(n=t[Fn])return n;t=I0(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Fn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function sd(t){return t[ml]||null}var Jp=[],qs=-1;function Ei(t){return{current:t}}function Pe(t){0>qs||(t.current=Jp[qs],Jp[qs]=null,qs--)}function Ee(t,e){qs++,Jp[qs]=t.current,t.current=e}var hi={},It=Ei(hi),Ut=Ei(!1),Zi=hi;function co(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function ih(){Pe(Ut),Pe(It)}function A0(t,e,n){if(It.current!==hi)throw Error(U(168));Ee(It,e),Ee(Ut,n)}function wS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,px(t)||"Unknown",i));return De({},n,r)}function sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Zi=It.current,Ee(It,t),Ee(Ut,Ut.current),!0}function b0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=wS(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ut),Pe(It),Ee(It,t)):Pe(Ut),Ee(Ut,n)}var cr=null,od=!1,zf=!1;function ES(t){cr===null?cr=[t]:cr.push(t)}function kk(t){od=!0,ES(t)}function Ti(){if(!zf&&cr!==null){zf=!0;var t=0,e=ge;try{var n=cr;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,od=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),qT(_g,Ti),i}finally{ge=e,zf=!1}}return null}var Ks=[],Gs=0,oh=null,ah=0,un=[],cn=0,es=null,hr=1,dr="";function $i(t,e){Ks[Gs++]=ah,Ks[Gs++]=oh,oh=t,ah=e}function TS(t,e,n){un[cn++]=hr,un[cn++]=dr,un[cn++]=es,es=t;var r=hr;t=dr;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Cn(e)+i|n<<i|r,dr=s+t}else hr=1<<s|n<<i|r,dr=t}function Rg(t){t.return!==null&&($i(t,1),TS(t,1,0))}function Cg(t){for(;t===oh;)oh=Ks[--Gs],Ks[Gs]=null,ah=Ks[--Gs],Ks[Gs]=null;for(;t===es;)es=un[--cn],un[cn]=null,dr=un[--cn],un[cn]=null,hr=un[--cn],un[cn]=null}var Zt=null,Xt=null,Re=!1,bn=null;function SS(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function Zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function em(t){if(Re){var e=Xt;if(e){var n=e;if(!P0(t,e)){if(Zp(t))throw Error(U(418));e=ei(n.nextSibling);var r=Zt;e&&P0(t,e)?SS(r,n):(t.flags=t.flags&-4097|2,Re=!1,Zt=t)}}else{if(Zp(t))throw Error(U(418));t.flags=t.flags&-4097|2,Re=!1,Zt=t}}}function R0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function tc(t){if(t!==Zt)return!1;if(!Re)return R0(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yp(t.type,t.memoizedProps)),e&&(e=Xt)){if(Zp(t))throw IS(),Error(U(418));for(;e;)SS(t,e),e=ei(e.nextSibling)}if(R0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?ei(t.stateNode.nextSibling):null;return!0}function IS(){for(var t=Xt;t;)t=ei(t.nextSibling)}function ho(){Xt=Zt=null,Re=!1}function xg(t){bn===null?bn=[t]:bn.push(t)}var Dk=Cr.ReactCurrentBatchConfig;function Sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C0(t){var e=t._init;return e(t._payload)}function AS(t){function e(E,_){if(t){var I=E.deletions;I===null?(E.deletions=[_],E.flags|=16):I.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=ii(E,_),E.index=0,E.sibling=null,E}function s(E,_,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<_?(E.flags|=2,_):I):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,I,P){return _===null||_.tag!==6?(_=Qf(I,E.mode,P),_.return=E,_):(_=i(_,I),_.return=E,_)}function l(E,_,I,P){var O=I.type;return O===Us?h(E,_,I.props.children,P,I.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vr&&C0(O)===_.type)?(P=i(_,I.props),P.ref=Sa(E,_,I),P.return=E,P):(P=Oc(I.type,I.key,I.props,null,E.mode,P),P.ref=Sa(E,_,I),P.return=E,P)}function c(E,_,I,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=Xf(I,E.mode,P),_.return=E,_):(_=i(_,I.children||[]),_.return=E,_)}function h(E,_,I,P,O){return _===null||_.tag!==7?(_=Yi(I,E.mode,P,O),_.return=E,_):(_=i(_,I),_.return=E,_)}function d(E,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Qf(""+_,E.mode,I),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hu:return I=Oc(_.type,_.key,_.props,null,E.mode,I),I.ref=Sa(E,null,_),I.return=E,I;case Fs:return _=Xf(_,E.mode,I),_.return=E,_;case Vr:var P=_._init;return d(E,P(_._payload),I)}if(Oa(_)||ya(_))return _=Yi(_,E.mode,I,null),_.return=E,_;nc(E,_)}return null}function f(E,_,I,P){var O=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:a(E,_,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Hu:return I.key===O?l(E,_,I,P):null;case Fs:return I.key===O?c(E,_,I,P):null;case Vr:return O=I._init,f(E,_,O(I._payload),P)}if(Oa(I)||ya(I))return O!==null?null:h(E,_,I,P,null);nc(E,I)}return null}function g(E,_,I,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(I)||null,a(_,E,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hu:return E=E.get(P.key===null?I:P.key)||null,l(_,E,P,O);case Fs:return E=E.get(P.key===null?I:P.key)||null,c(_,E,P,O);case Vr:var N=P._init;return g(E,_,I,N(P._payload),O)}if(Oa(P)||ya(P))return E=E.get(I)||null,h(_,E,P,O,null);nc(_,P)}return null}function w(E,_,I,P){for(var O=null,N=null,A=_,T=_=0,b=null;A!==null&&T<I.length;T++){A.index>T?(b=A,A=null):b=A.sibling;var C=f(E,A,I[T],P);if(C===null){A===null&&(A=b);break}t&&A&&C.alternate===null&&e(E,A),_=s(C,_,T),N===null?O=C:N.sibling=C,N=C,A=b}if(T===I.length)return n(E,A),Re&&$i(E,T),O;if(A===null){for(;T<I.length;T++)A=d(E,I[T],P),A!==null&&(_=s(A,_,T),N===null?O=A:N.sibling=A,N=A);return Re&&$i(E,T),O}for(A=r(E,A);T<I.length;T++)b=g(A,E,T,I[T],P),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?T:b.key),_=s(b,_,T),N===null?O=b:N.sibling=b,N=b);return t&&A.forEach(function(k){return e(E,k)}),Re&&$i(E,T),O}function y(E,_,I,P){var O=ya(I);if(typeof O!="function")throw Error(U(150));if(I=O.call(I),I==null)throw Error(U(151));for(var N=O=null,A=_,T=_=0,b=null,C=I.next();A!==null&&!C.done;T++,C=I.next()){A.index>T?(b=A,A=null):b=A.sibling;var k=f(E,A,C.value,P);if(k===null){A===null&&(A=b);break}t&&A&&k.alternate===null&&e(E,A),_=s(k,_,T),N===null?O=k:N.sibling=k,N=k,A=b}if(C.done)return n(E,A),Re&&$i(E,T),O;if(A===null){for(;!C.done;T++,C=I.next())C=d(E,C.value,P),C!==null&&(_=s(C,_,T),N===null?O=C:N.sibling=C,N=C);return Re&&$i(E,T),O}for(A=r(E,A);!C.done;T++,C=I.next())C=g(A,E,T,C.value,P),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?T:C.key),_=s(C,_,T),N===null?O=C:N.sibling=C,N=C);return t&&A.forEach(function(D){return e(E,D)}),Re&&$i(E,T),O}function S(E,_,I,P){if(typeof I=="object"&&I!==null&&I.type===Us&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Hu:e:{for(var O=I.key,N=_;N!==null;){if(N.key===O){if(O=I.type,O===Us){if(N.tag===7){n(E,N.sibling),_=i(N,I.props.children),_.return=E,E=_;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vr&&C0(O)===N.type){n(E,N.sibling),_=i(N,I.props),_.ref=Sa(E,N,I),_.return=E,E=_;break e}n(E,N);break}else e(E,N);N=N.sibling}I.type===Us?(_=Yi(I.props.children,E.mode,P,I.key),_.return=E,E=_):(P=Oc(I.type,I.key,I.props,null,E.mode,P),P.ref=Sa(E,_,I),P.return=E,E=P)}return o(E);case Fs:e:{for(N=I.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(E,_.sibling),_=i(_,I.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Xf(I,E.mode,P),_.return=E,E=_}return o(E);case Vr:return N=I._init,S(E,_,N(I._payload),P)}if(Oa(I))return w(E,_,I,P);if(ya(I))return y(E,_,I,P);nc(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,I),_.return=E,E=_):(n(E,_),_=Qf(I,E.mode,P),_.return=E,E=_),o(E)):n(E,_)}return S}var fo=AS(!0),bS=AS(!1),lh=Ei(null),uh=null,Ys=null,kg=null;function Dg(){kg=Ys=uh=null}function Og(t){var e=lh.current;Pe(lh),t._currentValue=e}function tm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){uh=t,kg=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(kg!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(uh===null)throw Error(U(308));Ys=t,uh.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Hi=null;function Ng(t){Hi===null?Hi=[t]:Hi.push(t)}function PS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ng(e)):(n.next=i.next,i.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Er(t,n)}return i=r.interleaved,i===null?(e.next=e,Ng(r)):(e.next=i.next,i.next=e),r.interleaved=e,Er(t,n)}function Pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}function x0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ch(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=De({},d,f);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=d}}function k0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Jl={},Wn=Ei(Jl),gl=Ei(Jl),vl=Ei(Jl);function qi(t){if(t===Jl)throw Error(U(174));return t}function Lg(t,e){switch(Ee(vl,e),Ee(gl,t),Ee(Wn,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mp(e,t)}Pe(Wn),Ee(Wn,e)}function po(){Pe(Wn),Pe(gl),Pe(vl)}function CS(t){qi(vl.current);var e=qi(Wn.current),n=Mp(e,t.type);e!==n&&(Ee(gl,t),Ee(Wn,n))}function jg(t){gl.current===t&&(Pe(Wn),Pe(gl))}var xe=Ei(0);function hh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function $g(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var Rc=Cr.ReactCurrentDispatcher,Hf=Cr.ReactCurrentBatchConfig,ts=0,ke=null,He=null,Ze=null,dh=!1,Ga=!1,yl=0,Ok=0;function vt(){throw Error(U(321))}function Vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Fg(t,e,n,r,i,s){if(ts=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rc.current=t===null||t.memoizedState===null?jk:$k,t=n(r,i),Ga){s=0;do{if(Ga=!1,yl=0,25<=s)throw Error(U(301));s+=1,Ze=He=null,e.updateQueue=null,Rc.current=Vk,t=n(r,i)}while(Ga)}if(Rc.current=fh,e=He!==null&&He.next!==null,ts=0,Ze=He=ke=null,dh=!1,e)throw Error(U(300));return t}function Ug(){var t=yl!==0;return yl=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function gn(){if(He===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ze===null?ke.memoizedState:Ze.next;if(e!==null)Ze=e,He=t;else{if(t===null)throw Error(U(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function _l(t,e){return typeof e=="function"?e(t):e}function qf(t){var e=gn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ts&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ke.lanes|=h,ns|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kf(t){var e=gn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xS(){}function kS(t,e){var n=ke,r=gn(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,Bg(NS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,wl(9,OS.bind(null,n,r,i,e),void 0,null),et===null)throw Error(U(349));ts&30||DS(n,e,i)}return i}function DS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OS(t,e,n,r){e.value=n,e.getSnapshot=r,MS(e)&&LS(t)}function NS(t,e,n){return n(function(){MS(e)&&LS(t)})}function MS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function LS(t){var e=Er(t,1);e!==null&&xn(e,t,1,-1)}function D0(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:t},e.queue=t,t=t.dispatch=Lk.bind(null,ke,t),[e.memoizedState,t]}function wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jS(){return gn().memoizedState}function Cc(t,e,n,r){var i=$n();ke.flags|=t,i.memoizedState=wl(1|e,n,void 0,r===void 0?null:r)}function ad(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Vg(r,o.deps)){i.memoizedState=wl(e,n,s,r);return}}ke.flags|=t,i.memoizedState=wl(1|e,n,s,r)}function O0(t,e){return Cc(8390656,8,t,e)}function Bg(t,e){return ad(2048,8,t,e)}function $S(t,e){return ad(4,2,t,e)}function VS(t,e){return ad(4,4,t,e)}function FS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function US(t,e,n){return n=n!=null?n.concat([t]):null,ad(4,4,FS.bind(null,e,t),n)}function zg(){}function BS(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zS(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WS(t,e,n){return ts&21?(Dn(n,e)||(n=YT(),ke.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function Nk(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Hf.transition;Hf.transition={};try{t(!1),e()}finally{ge=n,Hf.transition=r}}function HS(){return gn().memoizedState}function Mk(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qS(t))KS(e,n);else if(n=PS(t,e,n,r),n!==null){var i=Ot();xn(n,t,r,i),GS(n,e,r)}}function Lk(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qS(t))KS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ng(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PS(t,e,i,r),n!==null&&(i=Ot(),xn(n,t,r,i),GS(n,e,r))}}function qS(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function KS(t,e){Ga=dh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wg(t,n)}}var fh={readContext:mn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},jk={readContext:mn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:O0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cc(4194308,4,FS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cc(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mk.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:D0,useDebugValue:zg,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=D0(!1),e=t[0];return t=Nk.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=$n();if(Re){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),et===null)throw Error(U(349));ts&30||DS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,O0(NS.bind(null,r,s,t),[t]),r.flags|=2048,wl(9,OS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$n(),e=et.identifierPrefix;if(Re){var n=dr,r=hr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ok++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$k={readContext:mn,useCallback:BS,useContext:mn,useEffect:Bg,useImperativeHandle:US,useInsertionEffect:$S,useLayoutEffect:VS,useMemo:zS,useReducer:qf,useRef:jS,useState:function(){return qf(_l)},useDebugValue:zg,useDeferredValue:function(t){var e=gn();return WS(e,He.memoizedState,t)},useTransition:function(){var t=qf(_l)[0],e=gn().memoizedState;return[t,e]},useMutableSource:xS,useSyncExternalStore:kS,useId:HS,unstable_isNewReconciler:!1},Vk={readContext:mn,useCallback:BS,useContext:mn,useEffect:Bg,useImperativeHandle:US,useInsertionEffect:$S,useLayoutEffect:VS,useMemo:zS,useReducer:Kf,useRef:jS,useState:function(){return Kf(_l)},useDebugValue:zg,useDeferredValue:function(t){var e=gn();return He===null?e.memoizedState=t:WS(e,He.memoizedState,t)},useTransition:function(){var t=Kf(_l)[0],e=gn().memoizedState;return[t,e]},useMutableSource:xS,useSyncExternalStore:kS,useId:HS,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ld={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ri(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(xn(e,t,i,r),Pc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ri(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(xn(e,t,i,r),Pc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=ri(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(xn(e,t,r,n),Pc(e,t,r))}};function N0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!dl(n,r)||!dl(i,s):!0}function YS(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Bt(e)?Zi:It.current,r=e.contextTypes,s=(r=r!=null)?co(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ld,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function M0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ld.enqueueReplaceState(e,e.state,null)}function rm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Bt(e)?Zi:It.current,i.context=co(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ld.enqueueReplaceState(i,i.state,null),ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",r=e;do n+=fx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fk=typeof WeakMap=="function"?WeakMap:Map;function QS(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mh||(mh=!0,pm=r),im(t,e)},n}function XS(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){im(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){im(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=e2.bind(null,t,e,n),e.then(t,t))}function j0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var Uk=Cr.ReactCurrentOwner,Ft=!1;function xt(t,e,n,r){e.child=t===null?bS(e,null,n,r):fo(e,t.child,n,r)}function V0(t,e,n,r,i){n=n.render;var s=e.ref;return ro(e,i),r=Fg(t,e,n,r,s,i),n=Ug(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(Re&&n&&Rg(e),e.flags|=1,xt(t,e,r,i),e.child)}function F0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JS(t,e,s,r,i)):(t=Oc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(o,r)&&t.ref===e.ref)return Tr(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function JS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dl(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,Tr(t,e,i)}return sm(t,e,n,r,i)}function ZS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Xs,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Xs,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Xs,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Xs,Qt),Qt|=r;return xt(t,e,i,n),e.child}function eI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sm(t,e,n,r,i){var s=Bt(n)?Zi:It.current;return s=co(e,s),ro(e,i),n=Fg(t,e,n,r,s,i),r=Ug(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(Re&&r&&Rg(e),e.flags|=1,xt(t,e,n,i),e.child)}function U0(t,e,n,r,i){if(Bt(n)){var s=!0;sh(e)}else s=!1;if(ro(e,i),e.stateNode===null)xc(t,e),YS(e,n,r),rm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Bt(n)?Zi:It.current,c=co(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&M0(e,o,r,c),Fr=!1;var f=e.memoizedState;o.state=f,ch(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ut.current||Fr?(typeof h=="function"&&(nm(e,n,h,r),l=e.memoizedState),(a=Fr||N0(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Bt(n)?Zi:It.current,l=co(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&M0(e,o,r,l),Fr=!1,f=e.memoizedState,o.state=f,ch(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||Ut.current||Fr?(typeof g=="function"&&(nm(e,n,g,r),w=e.memoizedState),(c=Fr||N0(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return om(t,e,n,r,s,i)}function om(t,e,n,r,i,s){eI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b0(e,n,!1),Tr(t,e,s);r=e.stateNode,Uk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fo(e,t.child,null,s),e.child=fo(e,null,a,s)):xt(t,e,a,s),e.memoizedState=r.state,i&&b0(e,n,!0),e.child}function tI(t){var e=t.stateNode;e.pendingContext?A0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A0(t,e.context,!1),Lg(t,e.containerInfo)}function B0(t,e,n,r,i){return ho(),xg(i),e.flags|=256,xt(t,e,n,r),e.child}var am={dehydrated:null,treeContext:null,retryLane:0};function lm(t){return{baseLanes:t,cachePool:null,transitions:null}}function nI(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(xe,i&1),t===null)return em(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hd(o,r,0,null),t=Yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lm(n),e.memoizedState=am,t):Wg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Bk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=am,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wg(t,e){return e=hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&xg(r),fo(e,t.child,null,n),t=Wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gf(Error(U(422))),rc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hd({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fo(e,t.child,null,o),e.child.memoizedState=lm(o),e.memoizedState=am,s);if(!(e.mode&1))return rc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Gf(s,r,void 0),rc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Er(t,i),xn(r,t,i,-1))}return Qg(),r=Gf(Error(U(421))),rc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=t2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xt=ei(i.nextSibling),Zt=e,Re=!0,bn=null,t!==null&&(un[cn++]=hr,un[cn++]=dr,un[cn++]=es,hr=t.id,dr=t.overflow,es=e),e=Wg(e,r.children),e.flags|=4096,e)}function z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tm(t.return,e,n)}function Yf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z0(t,n,e);else if(t.tag===19)z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yf(e,!0,n,null,s);break;case"together":Yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zk(t,e,n){switch(e.tag){case 3:tI(e),ho();break;case 5:CS(e);break;case 1:Bt(e.type)&&sh(e);break;case 4:Lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(lh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?nI(t,e,n):(Ee(xe,xe.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);Ee(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,ZS(t,e,n)}return Tr(t,e,n)}var iI,um,sI,oI;iI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};um=function(){};sI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qi(Wn.current);var s=null;switch(n){case"input":i=kp(t,i),r=kp(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=Np(t,i),r=Np(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rh)}Lp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};oI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ia(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wk(t,e,n){var r=e.pendingProps;switch(Cg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Bt(e.type)&&ih(),yt(e),null;case 3:return r=e.stateNode,po(),Pe(Ut),Pe(It),$g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(vm(bn),bn=null))),um(t,e),yt(e),null;case 5:jg(e);var i=qi(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)sI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return yt(e),null}if(t=qi(Wn.current),tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[ml]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<Ma.length;i++)Se(Ma[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":J_(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":e0(r,s),Se("invalid",r)}Lp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),i=["children",""+a]):sl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":qu(r),Z_(r,s,!0);break;case"textarea":qu(r),t0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[ml]=r,iI(t,e,!1,!1),e.stateNode=t;e:{switch(o=jp(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ma.length;i++)Se(Ma[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":J_(t,r),i=kp(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Se("invalid",t);break;case"textarea":e0(t,r),i=Np(t,r),Se("invalid",t);break;default:i=r}Lp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ol(t,l):typeof l=="number"&&ol(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&pg(t,s,l,o))}switch(n){case"input":qu(t),Z_(t,r,!1);break;case"textarea":qu(t),t0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)oI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=qi(vl.current),qi(Wn.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return yt(e),null;case 13:if(Pe(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Xt!==null&&e.mode&1&&!(e.flags&128))IS(),ho(),e.flags|=98560,s=!1;else if(s=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Fn]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else bn!==null&&(vm(bn),bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?qe===0&&(qe=3):Qg())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return po(),um(t,e),t===null&&fl(e.stateNode.containerInfo),yt(e),null;case 10:return Og(e.type._context),yt(e),null;case 17:return Bt(e.type)&&ih(),yt(e),null;case 19:if(Pe(xe),s=e.memoizedState,s===null)return yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ia(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hh(t),o!==null){for(e.flags|=128,Ia(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>go&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304)}else{if(!r)if(t=hh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return yt(e),null}else 2*Ve()-s.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=xe.current,Ee(xe,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Hk(t,e){switch(Cg(e),e.tag){case 1:return Bt(e.type)&&ih(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),Pe(Ut),Pe(It),$g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jg(e),null;case 13:if(Pe(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(xe),null;case 4:return po(),null;case 10:return Og(e.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var ic=!1,Tt=!1,qk=typeof WeakSet=="function"?WeakSet:Set,K=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function cm(t,e,n){try{n()}catch(r){Me(t,e,r)}}var W0=!1;function Kk(t,e){if(Kp=eh,t=hS(),Pg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gp={focusedElem:t,selectionRange:n},eh=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:In(e.type,y),S);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(P){Me(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=W0,W0=!1,w}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cm(e,n,s)}i=i.next}while(i!==r)}}function ud(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aI(t){var e=t.alternate;e!==null&&(t.alternate=null,aI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[ml],delete e[Xp],delete e[Ck],delete e[xk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lI(t){return t.tag===5||t.tag===3||t.tag===4}function H0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rh));else if(r!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}function fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}var it=null,An=!1;function Mr(t,e,n){for(n=n.child;n!==null;)uI(t,e,n),n=n.sibling}function uI(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(td,n)}catch{}switch(n.tag){case 5:Tt||Qs(n,e);case 6:var r=it,i=An;it=null,Mr(t,e,n),it=r,An=i,it!==null&&(An?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(An?(t=it,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),cl(t)):Bf(it,n.stateNode));break;case 4:r=it,i=An,it=n.stateNode.containerInfo,An=!0,Mr(t,e,n),it=r,An=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cm(n,e,o),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!Tt&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Mr(t,e,n),Tt=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qk),e.forEach(function(r){var i=n2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,An=!1;break e;case 3:it=a.stateNode.containerInfo,An=!0;break e;case 4:it=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(it===null)throw Error(U(160));uI(s,o,i),it=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cI(e,t),e=e.sibling}function cI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),jn(t),r&4){try{Ya(3,t,t.return),ud(3,t)}catch(y){Me(t,t.return,y)}try{Ya(5,t,t.return)}catch(y){Me(t,t.return,y)}}break;case 1:Sn(e,t),jn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(Sn(e,t),jn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{ol(i,"")}catch(y){Me(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DT(i,s),jp(a,o);var c=jp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?jT(i,d):h==="dangerouslySetInnerHTML"?MT(i,d):h==="children"?ol(i,d):pg(i,h,d,c)}switch(a){case"input":Dp(i,s);break;case"textarea":OT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zs(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zs(i,!!s.multiple,s.defaultValue,!0):Zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ml]=s}catch(y){Me(t,t.return,y)}}break;case 6:if(Sn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Me(t,t.return,y)}}break;case 3:if(Sn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cl(e.containerInfo)}catch(y){Me(t,t.return,y)}break;case 4:Sn(e,t),jn(t);break;case 13:Sn(e,t),jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kg=Ve())),r&4&&q0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||h,Sn(e,t),Tt=c):Sn(e,t),jn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(d=K=h;K!==null;){switch(f=K,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ya(4,f,f.return);break;case 1:Qs(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Me(r,n,y)}}break;case 5:Qs(f,f.return);break;case 22:if(f.memoizedState!==null){G0(d);continue}}g!==null?(g.return=f,K=g):G0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=LT("display",o))}catch(y){Me(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Me(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sn(e,t),jn(t),r&4&&q0(t);break;case 21:break;default:Sn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lI(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ol(i,""),r.flags&=-33);var s=H0(t);fm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=H0(t);dm(t,a,o);break;default:throw Error(U(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gk(t,e,n){K=t,hI(t)}function hI(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ic;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=ic;var c=Tt;if(ic=o,(Tt=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?Y0(i):l!==null?(l.return=o,K=l):Y0(i);for(;s!==null;)K=s,hI(s),s=s.sibling;K=i,ic=a,Tt=c}K0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):K0(t)}}function K0(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||ud(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&cl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Tt||e.flags&512&&hm(e)}catch(f){Me(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function G0(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Y0(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ud(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Me(e,i,l)}}var s=e.return;try{hm(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{hm(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var Yk=Math.ceil,ph=Cr.ReactCurrentDispatcher,Hg=Cr.ReactCurrentOwner,fn=Cr.ReactCurrentBatchConfig,de=0,et=null,Ue=null,lt=0,Qt=0,Xs=Ei(0),qe=0,El=null,ns=0,cd=0,qg=0,Qa=null,$t=null,Kg=0,go=1/0,ur=null,mh=!1,pm=null,ni=null,sc=!1,Gr=null,gh=0,Xa=0,mm=null,kc=-1,Dc=0;function Ot(){return de&6?Ve():kc!==-1?kc:kc=Ve()}function ri(t){return t.mode&1?de&2&&lt!==0?lt&-lt:Dk.transition!==null?(Dc===0&&(Dc=YT()),Dc):(t=ge,t!==0||(t=window.event,t=t===void 0?16:nS(t.type)),t):1}function xn(t,e,n,r){if(50<Xa)throw Xa=0,mm=null,Error(U(185));Yl(t,n,r),(!(de&2)||t!==et)&&(t===et&&(!(de&2)&&(cd|=n),qe===4&&Br(t,lt)),zt(t,r),n===1&&de===0&&!(e.mode&1)&&(go=Ve()+500,od&&Ti()))}function zt(t,e){var n=t.callbackNode;Dx(t,e);var r=Zc(t,t===et?lt:0);if(r===0)n!==null&&i0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i0(n),e===1)t.tag===0?kk(Q0.bind(null,t)):ES(Q0.bind(null,t)),Pk(function(){!(de&6)&&Ti()}),n=null;else{switch(QT(r)){case 1:n=_g;break;case 4:n=KT;break;case 16:n=Jc;break;case 536870912:n=GT;break;default:n=Jc}n=_I(n,dI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dI(t,e){if(kc=-1,Dc=0,de&6)throw Error(U(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Zc(t,t===et?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vh(t,r);else{e=r;var i=de;de|=2;var s=pI();(et!==t||lt!==e)&&(ur=null,go=Ve()+500,Gi(t,e));do try{Jk();break}catch(a){fI(t,a)}while(!0);Dg(),ph.current=s,de=i,Ue!==null?e=0:(et=null,lt=0,e=qe)}if(e!==0){if(e===2&&(i=Bp(t),i!==0&&(r=i,e=gm(t,i))),e===1)throw n=El,Gi(t,0),Br(t,r),zt(t,Ve()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qk(i)&&(e=vh(t,r),e===2&&(s=Bp(t),s!==0&&(r=s,e=gm(t,s))),e===1))throw n=El,Gi(t,0),Br(t,r),zt(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Vi(t,$t,ur);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=Kg+500-Ve(),10<e)){if(Zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qp(Vi.bind(null,t,$t,ur),e);break}Vi(t,$t,ur);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yk(r/1960))-r,10<r){t.timeoutHandle=Qp(Vi.bind(null,t,$t,ur),r);break}Vi(t,$t,ur);break;case 5:Vi(t,$t,ur);break;default:throw Error(U(329))}}}return zt(t,Ve()),t.callbackNode===n?dI.bind(null,t):null}function gm(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=vh(t,e),t!==2&&(e=$t,$t=n,e!==null&&vm(e)),t}function vm(t){$t===null?$t=t:$t.push.apply($t,t)}function Qk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~qg,e&=~cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Q0(t){if(de&6)throw Error(U(327));io();var e=Zc(t,0);if(!(e&1))return zt(t,Ve()),null;var n=vh(t,e);if(t.tag!==0&&n===2){var r=Bp(t);r!==0&&(e=r,n=gm(t,r))}if(n===1)throw n=El,Gi(t,0),Br(t,e),zt(t,Ve()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,$t,ur),zt(t,Ve()),null}function Gg(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(go=Ve()+500,od&&Ti())}}function rs(t){Gr!==null&&Gr.tag===0&&!(de&6)&&io();var e=de;de|=1;var n=fn.transition,r=ge;try{if(fn.transition=null,ge=1,t)return t()}finally{ge=r,fn.transition=n,de=e,!(de&6)&&Ti()}}function Yg(){Qt=Xs.current,Pe(Xs)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bk(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ih();break;case 3:po(),Pe(Ut),Pe(It),$g();break;case 5:jg(r);break;case 4:po();break;case 13:Pe(xe);break;case 19:Pe(xe);break;case 10:Og(r.type._context);break;case 22:case 23:Yg()}n=n.return}if(et=t,Ue=t=ii(t.current,null),lt=Qt=e,qe=0,El=null,qg=cd=ns=0,$t=Qa=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return t}function fI(t,e){do{var n=Ue;try{if(Dg(),Rc.current=fh,dh){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dh=!1}if(ts=0,Ze=He=ke=null,Ga=!1,yl=0,Hg.current=null,n===null||n.return===null){qe=1,El=e,Ue=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=j0(o);if(g!==null){g.flags&=-257,$0(g,o,a,s,e),g.mode&1&&L0(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){L0(s,c,e),Qg();break e}l=Error(U(426))}}else if(Re&&a.mode&1){var S=j0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$0(S,o,a,s,e),xg(mo(l,a));break e}}s=l=mo(l,a),qe!==4&&(qe=2),Qa===null?Qa=[s]:Qa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=QS(s,l,e);x0(s,E);break e;case 1:a=l;var _=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ni===null||!ni.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=XS(s,a,e);x0(s,P);break e}}s=s.return}while(s!==null)}gI(n)}catch(O){e=O,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function pI(){var t=ph.current;return ph.current=fh,t===null?fh:t}function Qg(){(qe===0||qe===3||qe===2)&&(qe=4),et===null||!(ns&268435455)&&!(cd&268435455)||Br(et,lt)}function vh(t,e){var n=de;de|=2;var r=pI();(et!==t||lt!==e)&&(ur=null,Gi(t,e));do try{Xk();break}catch(i){fI(t,i)}while(!0);if(Dg(),de=n,ph.current=r,Ue!==null)throw Error(U(261));return et=null,lt=0,qe}function Xk(){for(;Ue!==null;)mI(Ue)}function Jk(){for(;Ue!==null&&!Sx();)mI(Ue)}function mI(t){var e=yI(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?gI(t):Ue=e,Hg.current=null}function gI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hk(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ue=null;return}}else if(n=Wk(n,e,Qt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);qe===0&&(qe=5)}function Vi(t,e,n){var r=ge,i=fn.transition;try{fn.transition=null,ge=1,Zk(t,e,n,r)}finally{fn.transition=i,ge=r}return null}function Zk(t,e,n,r){do io();while(Gr!==null);if(de&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ox(t,s),t===et&&(Ue=et=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,_I(Jc,function(){return io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fn.transition,fn.transition=null;var o=ge;ge=1;var a=de;de|=4,Hg.current=null,Kk(t,n),cI(n,t),_k(Gp),eh=!!Kp,Gp=Kp=null,t.current=n,Gk(n),Ix(),de=a,ge=o,fn.transition=s}else t.current=n;if(sc&&(sc=!1,Gr=t,gh=i),s=t.pendingLanes,s===0&&(ni=null),Px(n.stateNode),zt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mh)throw mh=!1,t=pm,pm=null,t;return gh&1&&t.tag!==0&&io(),s=t.pendingLanes,s&1?t===mm?Xa++:(Xa=0,mm=t):Xa=0,Ti(),null}function io(){if(Gr!==null){var t=QT(gh),e=fn.transition,n=ge;try{if(fn.transition=null,ge=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,gh=0,de&6)throw Error(U(331));var i=de;for(de|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Ya(8,h,s)}var d=h.child;if(d!==null)d.return=h,K=d;else for(;K!==null;){h=K;var f=h.sibling,g=h.return;if(aI(h),h===c){K=null;break}if(f!==null){f.return=g,K=f;break}K=g}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ya(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,K=I;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ud(9,a)}}catch(O){Me(a,a.return,O)}if(a===o){K=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,K=P;break e}K=a.return}}if(de=i,Ti(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(td,t)}catch{}r=!0}return r}finally{ge=n,fn.transition=e}}return!1}function X0(t,e,n){e=mo(n,e),e=QS(t,e,1),t=ti(t,e,1),e=Ot(),t!==null&&(Yl(t,1,e),zt(t,e))}function Me(t,e,n){if(t.tag===3)X0(t,t,n);else for(;e!==null;){if(e.tag===3){X0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=mo(n,t),t=XS(e,t,1),e=ti(e,t,1),t=Ot(),e!==null&&(Yl(e,1,t),zt(e,t));break}}e=e.return}}function e2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(lt&n)===n&&(qe===4||qe===3&&(lt&130023424)===lt&&500>Ve()-Kg?Gi(t,0):qg|=n),zt(t,e)}function vI(t,e){e===0&&(t.mode&1?(e=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):e=1);var n=Ot();t=Er(t,e),t!==null&&(Yl(t,e,n),zt(t,n))}function t2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vI(t,n)}function n2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),vI(t,n)}var yI;yI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,zk(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Re&&e.flags&1048576&&TS(e,ah,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xc(t,e),t=e.pendingProps;var i=co(e,It.current);ro(e,n),i=Fg(null,e,r,t,i,n);var s=Ug();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(s=!0,sh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mg(e),i.updater=ld,e.stateNode=i,i._reactInternals=e,rm(e,r,t,n),e=om(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Rg(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=i2(r),t=In(r,t),i){case 0:e=sm(null,e,r,t,n);break e;case 1:e=U0(null,e,r,t,n);break e;case 11:e=V0(null,e,r,t,n);break e;case 14:e=F0(null,e,r,In(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),sm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),U0(t,e,r,i,n);case 3:e:{if(tI(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,RS(t,e),ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mo(Error(U(423)),e),e=B0(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(U(424)),e),e=B0(t,e,r,n,i);break e}else for(Xt=ei(e.stateNode.containerInfo.firstChild),Zt=e,Re=!0,bn=null,n=bS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===i){e=Tr(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return CS(e),t===null&&em(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yp(r,i)?o=null:s!==null&&Yp(r,s)&&(e.flags|=32),eI(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&em(e),null;case 13:return nI(t,e,n);case 4:return Lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),V0(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(lh,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Ut.current){e=Tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),tm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ro(e,n),i=mn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),F0(t,e,r,i,n);case 15:return JS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),xc(t,e),e.tag=1,Bt(r)?(t=!0,sh(e)):t=!1,ro(e,n),YS(e,r,i),rm(e,r,i,n),om(null,e,r,!0,t,n);case 19:return rI(t,e,n);case 22:return ZS(t,e,n)}throw Error(U(156,e.tag))};function _I(t,e){return qT(t,e)}function r2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new r2(t,e,n,r)}function Xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i2(t){if(typeof t=="function")return Xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gg)return 11;if(t===vg)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return Yi(n.children,i,s,e);case mg:o=8,i|=8;break;case Pp:return t=dn(12,n,e,i|2),t.elementType=Pp,t.lanes=s,t;case Rp:return t=dn(13,n,e,i),t.elementType=Rp,t.lanes=s,t;case Cp:return t=dn(19,n,e,i),t.elementType=Cp,t.lanes=s,t;case CT:return hd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PT:o=10;break e;case RT:o=9;break e;case gg:o=11;break e;case vg:o=14;break e;case Vr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function hd(t,e,n,r){return t=dn(22,t,r,e),t.elementType=CT,t.lanes=n,t.stateNode={isHidden:!1},t}function Qf(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jg(t,e,n,r,i,s,o,a,l){return t=new s2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(s),t}function o2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wI(t){if(!t)return hi;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Bt(n))return wS(t,n,e)}return e}function EI(t,e,n,r,i,s,o,a,l){return t=Jg(n,r,!0,t,i,s,o,a,l),t.context=wI(null),n=t.current,r=Ot(),i=ri(n),s=vr(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,Yl(t,i,r),zt(t,r),t}function dd(t,e,n,r){var i=e.current,s=Ot(),o=ri(i);return n=wI(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(xn(t,i,o,s),Pc(t,i,o)),o}function yh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zg(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function a2(){return null}var TI=typeof reportError=="function"?reportError:function(t){console.error(t)};function ev(t){this._internalRoot=t}fd.prototype.render=ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));dd(t,e,null,null)};fd.prototype.unmount=ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){dd(null,t,null,null)}),e[wr]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&tS(t)}};function tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function l2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=yh(o);s.call(c)}}var o=EI(e,r,t,0,null,!1,!1,"",Z0);return t._reactRootContainer=o,t[wr]=o.current,fl(t.nodeType===8?t.parentNode:t),rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yh(l);a.call(c)}}var l=Jg(t,0,!1,null,null,!1,!1,"",Z0);return t._reactRootContainer=l,t[wr]=l.current,fl(t.nodeType===8?t.parentNode:t),rs(function(){dd(e,l,n,r)}),l}function md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yh(o);a.call(l)}}dd(e,o,t,i)}else o=l2(n,e,t,i,r);return yh(o)}XT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(wg(e,n|1),zt(e,Ve()),!(de&6)&&(go=Ve()+500,Ti()))}break;case 13:rs(function(){var r=Er(t,1);if(r!==null){var i=Ot();xn(r,t,1,i)}}),Zg(t,1)}};Eg=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Ot();xn(e,t,134217728,n)}Zg(t,134217728)}};JT=function(t){if(t.tag===13){var e=ri(t),n=Er(t,e);if(n!==null){var r=Ot();xn(n,t,e,r)}Zg(t,e)}};ZT=function(){return ge};eS=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Vp=function(t,e,n){switch(e){case"input":if(Dp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sd(r);if(!i)throw Error(U(90));kT(r),Dp(r,i)}}}break;case"textarea":OT(t,n);break;case"select":e=n.value,e!=null&&Zs(t,!!n.multiple,e,!1)}};FT=Gg;UT=rs;var u2={usingClientEntryPoint:!1,Events:[Xl,Hs,sd,$T,VT,Gg]},Aa={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c2={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WT(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||a2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{td=oc.inject(c2),zn=oc}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u2;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(e))throw Error(U(200));return o2(t,e,null,n)};nn.createRoot=function(t,e){if(!tv(t))throw Error(U(299));var n=!1,r="",i=TI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jg(t,1,!1,null,null,n,!1,r,i),t[wr]=e.current,fl(t.nodeType===8?t.parentNode:t),new ev(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=WT(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return rs(t)};nn.hydrate=function(t,e,n){if(!pd(e))throw Error(U(200));return md(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!tv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EI(e,null,t,1,n??null,i,!1,s,o),t[wr]=e.current,fl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fd(e)};nn.render=function(t,e,n){if(!pd(e))throw Error(U(200));return md(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!pd(t))throw Error(U(40));return t._reactRootContainer?(rs(function(){md(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};nn.unstable_batchedUpdates=Gg;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return md(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function SI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SI)}catch(t){console.error(t)}}SI(),ST.exports=nn;var II=ST.exports;const AI=Kt(II);var ew=II;Ap.createRoot=ew.createRoot,Ap.hydrateRoot=ew.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const tw="popstate";function h2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ym("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_h(i)}return f2(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d2(){return Math.random().toString(36).substr(2,8)}function nw(t,e){return{usr:t.state,key:t.key,idx:e}}function ym(t,e,n,r){return n===void 0&&(n=null),Tl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?No(e):e,{state:n,key:e&&e.key||r||d2()})}function _h(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function No(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Yr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Tl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Yr.Pop;let S=h(),E=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:E})}function f(S,E){a=Yr.Push;let _=ym(y.location,S,E);c=h()+1;let I=nw(_,c),P=y.createHref(_);try{o.pushState(I,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:a,location:y.location,delta:1})}function g(S,E){a=Yr.Replace;let _=ym(y.location,S,E);c=h();let I=nw(_,c),P=y.createHref(_);o.replaceState(I,"",P),s&&l&&l({action:a,location:y.location,delta:0})}function w(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:_h(S);return _=_.replace(/ $/,"%20"),ze(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let y={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tw,d),l=S,()=>{i.removeEventListener(tw,d),l=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let E=w(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:g,go(S){return o.go(S)}};return y}var rw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rw||(rw={}));function p2(t,e,n){return n===void 0&&(n="/"),m2(t,e,n)}function m2(t,e,n,r){let i=typeof e=="string"?No(e):e,s=rv(i.pathname||"/",n);if(s==null)return null;let o=bI(t);g2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=R2(s);a=A2(o[l],c)}return a}function bI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=si([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bI(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:S2(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of PI(s.path))i(s,o,l)}),e}function PI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=PI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function g2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v2=/^:[\w-]+$/,y2=3,_2=2,w2=1,E2=10,T2=-2,iw=t=>t==="*";function S2(t,e){let n=t.split("/"),r=n.length;return n.some(iw)&&(r+=T2),e&&(r+=_2),n.filter(i=>!iw(i)).reduce((i,s)=>i+(v2.test(s)?y2:s===""?w2:E2),r)}function I2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function A2(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=b2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:si([s,d.pathname]),pathnameBase:O2(si([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=si([s,d.pathnameBase]))}return o}function b2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function P2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function R2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const C2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x2=t=>C2.test(t);function k2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?No(t):t,s;if(n)if(x2(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),nv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=sw(n.substring(1),"/"):s=sw(n,e)}else s=e;return{pathname:s,search:N2(r),hash:M2(i)}}function sw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RI(t,e){let n=D2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function CI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=No(t):(i=Tl({},t),ze(!i.pathname||!i.pathname.includes("?"),Jf("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),Jf("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),Jf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=k2(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const si=t=>t.join("/").replace(/\/\/+/g,"/"),O2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xI=["post","put","patch","delete"];new Set(xI);const j2=["get",...xI];new Set(j2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}const iv=j.createContext(null),$2=j.createContext(null),ws=j.createContext(null),gd=j.createContext(null),Es=j.createContext({outlet:null,matches:[],isDataRoute:!1}),kI=j.createContext(null);function V2(t,e){let{relative:n}=e===void 0?{}:e;Zl()||ze(!1);let{basename:r,navigator:i}=j.useContext(ws),{hash:s,pathname:o,search:a}=NI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:si([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Zl(){return j.useContext(gd)!=null}function eu(){return Zl()||ze(!1),j.useContext(gd).location}function DI(t){j.useContext(ws).static||j.useLayoutEffect(t)}function OI(){let{isDataRoute:t}=j.useContext(Es);return t?J2():F2()}function F2(){Zl()||ze(!1);let t=j.useContext(iv),{basename:e,future:n,navigator:r}=j.useContext(ws),{matches:i}=j.useContext(Es),{pathname:s}=eu(),o=JSON.stringify(RI(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return DI(()=>{a.current=!0}),j.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=CI(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:si([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function NI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ws),{matches:i}=j.useContext(Es),{pathname:s}=eu(),o=JSON.stringify(RI(i,r.v7_relativeSplatPath));return j.useMemo(()=>CI(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function U2(t,e){return B2(t,e)}function B2(t,e,n,r){Zl()||ze(!1);let{navigator:i}=j.useContext(ws),{matches:s}=j.useContext(Es),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=eu(),h;if(e){var d;let S=typeof e=="string"?No(e):e;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||ze(!1),h=S}else h=c;let f=h.pathname||"/",g=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=p2(t,{pathname:g}),y=K2(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:si([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:si([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&y?j.createElement(gd.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yr.Pop}},y):y}function z2(){let t=X2(),e=L2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const W2=j.createElement(z2,null);class H2 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Es.Provider,{value:this.props.routeContext},j.createElement(kI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q2(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(iv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Es.Provider,{value:e},r)}function K2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||ze(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:g}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,w=!1,y=null,S=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||W2,l&&(c<0&&f===0?(Z2("route-fallback"),w=!0,S=null):c===f&&(w=!0,S=d.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),_=()=>{let I;return g?I=y:w?I=S:d.route.Component?I=j.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=h,j.createElement(q2,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(H2,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var MI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MI||{}),LI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LI||{});function G2(t){let e=j.useContext(iv);return e||ze(!1),e}function Y2(t){let e=j.useContext($2);return e||ze(!1),e}function Q2(t){let e=j.useContext(Es);return e||ze(!1),e}function jI(t){let e=Q2(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function X2(){var t;let e=j.useContext(kI),n=Y2(),r=jI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function J2(){let{router:t}=G2(MI.UseNavigateStable),e=jI(LI.UseNavigateStable),n=j.useRef(!1);return DI(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sl({fromRouteId:e},s)))},[t,e])}const ow={};function Z2(t,e,n){ow[t]||(ow[t]=!0)}function eD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Yt(t){ze(!1)}function tD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yr.Pop,navigator:s,static:o=!1,future:a}=t;Zl()&&ze(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:o,future:Sl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=No(r));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:w="default"}=r,y=j.useMemo(()=>{let S=rv(h,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:g,key:w},navigationType:i}},[l,h,d,f,g,w,i]);return y==null?null:j.createElement(ws.Provider,{value:c},j.createElement(gd.Provider,{children:n,value:y}))}function nD(t){let{children:e,location:n}=t;return U2(_m(e),n)}new Promise(()=>{});function _m(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,_m(r.props.children,s));return}r.type!==Yt&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_m(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}function rD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sD(t,e){return t.button===0&&(!e||e==="_self")&&!iD(t)}const oD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aD="6";try{window.__reactRouterVersion=aD}catch{}const lD="startTransition",aw=ex[lD];function uD(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=h2({window:i,v5Compat:!0}));let o=s.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=j.useCallback(d=>{c&&aw?aw(()=>l(d)):l(d)},[l,c]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>eD(r),[r]),j.createElement(tD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const cD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,f=rD(e,oD),{basename:g}=j.useContext(ws),w,y=!1;if(typeof c=="string"&&hD.test(c)&&(w=c,cD))try{let I=new URL(window.location.href),P=c.startsWith("//")?new URL(I.protocol+c):new URL(c),O=rv(P.pathname,g);P.origin===I.origin&&O!=null?c=O+P.search+P.hash:y=!0}catch{}let S=V2(c,{relative:i}),E=dD(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function _(I){r&&r(I),I.defaultPrevented||E(I)}return j.createElement("a",wm({},f,{href:w||S,onClick:y||s?r:_,ref:n,target:l}))});var lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lw||(lw={}));var uw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uw||(uw={}));function dD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=OI(),c=eu(),h=NI(t,{relative:o});return j.useCallback(d=>{if(sD(d,n)){d.preventDefault();let f=r!==void 0?r:_h(c)===_h(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function fD(){const[t,e]=j.useState(!1),n=eu();return m.jsxs("header",{className:"nav-container",children:[m.jsxs("div",{className:"nav-inner",children:[m.jsxs("div",{className:"nav-logo",children:[m.jsx("span",{className:"logo-icon",children:""}),m.jsxs("div",{children:[m.jsx("div",{className:"logo-main",children:" "}),m.jsx("br",{})]})]}),m.jsxs("nav",{className:"nav-links",children:[m.jsx(Ce,{className:n.pathname==="/"?"active":"",to:"/",children:"Home"}),m.jsx(Ce,{to:"/about",children:"About"}),m.jsx(Ce,{to:"/services",children:"Services"}),m.jsx(Ce,{to:"/book-pooja",children:"Book Pooja"}),m.jsx(Ce,{to:"/gallery",children:"Gallery"}),m.jsx(Ce,{to:"/donate",children:"Donate"}),m.jsx(Ce,{to:"/events",children:"Events"}),m.jsx(Ce,{to:"/admin-login",children:"Admin"}),m.jsx("a",{href:"tel:+919746269438",className:"btn small-btn",children:"Call"}),m.jsx(Ce,{to:"/book-pooja",className:"btn primary-btn",children:"Book Now"})]}),m.jsx("button",{className:"hamburger",onClick:()=>e(!t),children:""})]}),m.jsxs("div",{className:`mobile-menu ${t?"show":""}`,children:[m.jsx(Ce,{to:"/",onClick:()=>e(!1),children:"Home"}),m.jsx(Ce,{to:"/about",onClick:()=>e(!1),children:"About"}),m.jsx(Ce,{to:"/services",onClick:()=>e(!1),children:"Services"}),m.jsx(Ce,{to:"/book-pooja",onClick:()=>e(!1),children:"Book Pooja"}),m.jsx(Ce,{to:"/gallery",onClick:()=>e(!1),children:"Gallery"}),m.jsx(Ce,{to:"/donate",onClick:()=>e(!1),children:"Donate"}),m.jsx(Ce,{to:"/events",onClick:()=>e(!1),children:"Events"}),m.jsx(Ce,{to:"/admin-login",onClick:()=>e(!1),children:"Admin"}),m.jsx("a",{href:"tel:+919061218582",className:"mobile-btn-call",children:" Call"}),m.jsx(Ce,{to:"/book-pooja",className:"mobile-btn-book",children:"Book Now"})]})]})}var $I={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cw=M.createContext&&M.createContext($I),pD=["attr","size","title"];function mD(t,e){if(t==null)return{};var n=gD(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gD(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}function hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(n),!0).forEach(function(r){vD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vD(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=_D(t,"string");return typeof e=="symbol"?e:e+""}function _D(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VI(t){return t&&t.map((e,n)=>M.createElement(e.tag,Eh({key:n},e.attr),VI(e.child)))}function Mo(t){return e=>M.createElement(wD,wh({attr:Eh({},t.attr)},e),VI(t.child))}function wD(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=mD(t,pD),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),M.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Eh(Eh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&M.createElement("title",null,s),t.children)};return cw!==void 0?M.createElement(cw.Consumer,null,n=>e(n)):e($I)}function ED(t){return Mo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function TD(t){return Mo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function SD(t){return Mo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function ID(t){return Mo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function AD(t){return Mo({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function bD(t){return Mo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function PD(){const t=new Date().getFullYear();return m.jsxs("footer",{className:"site-footer",children:[m.jsxs("div",{className:"footer-container",children:[m.jsxs("div",{className:"footer-column",children:[m.jsx("h3",{className:"footer-title",children:" "}),m.jsx("p",{className:"footer-sub",children:"A centre of devotion and community"}),m.jsxs("div",{className:"footer-social",children:[m.jsx("a",{href:"https://www.facebook.com/groups/pangodesreekavilbhagavathy/",children:m.jsx(ED,{})}),m.jsx("a",{href:"#",children:m.jsx(TD,{})}),m.jsx("a",{href:"#",children:m.jsx(SD,{})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{className:"footer-heading",children:"Quick Links"}),m.jsxs("ul",{className:"footer-links",children:[m.jsx("li",{children:m.jsx("a",{href:"/",children:"Home"})}),m.jsx("li",{children:m.jsx("a",{href:"/about",children:"About Temple"})}),m.jsx("li",{children:m.jsx("a",{href:"/festival",children:"Festivals"})}),m.jsx("li",{children:m.jsx("a",{href:"/gallery",children:"Gallery"})}),m.jsx("li",{children:m.jsx("a",{href:"/contact",children:"Contact Us"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{className:"footer-heading",children:"Contact"}),m.jsxs("p",{className:"footer-contact",children:[m.jsx(bD,{})," ",m.jsx("a",{href:"tel:+919746269438",children:"+91 97462 69438"})]}),m.jsxs("p",{className:"footer-contact",children:[m.jsx(ID,{})," ",m.jsx("a",{href:"mailto:pangodkavilbhagavathitempletru@gmail.com",children:"pangodkavilbhagavathitempletru@gmail.com"})]}),m.jsxs("p",{className:"footer-contact",children:[m.jsx(AD,{}),"  Pangodu Kavil Bhagavathy Temple",m.jsx("br",{}),"Pangodu, Thiruvananthapuram, Kerala"]})]})]}),m.jsx("hr",{className:"footer-divider"}),m.jsx("div",{className:"footer-bottom",children:m.jsxs("p",{children:[" ",t,"    All Rights Reserved"]})})]})}const RD=""+new URL("home-DhGq5UZi.mp4",import.meta.url).href,FI=""+new URL("goddess1-DWVWN5gD.jpg",import.meta.url).href,UI=""+new URL("goddess2-CfGFssw3.jpg",import.meta.url).href;function BI(){return m.jsxs("div",{className:"background-layers","aria-hidden":!0,children:[m.jsx("div",{className:"mandala-bg"}),m.jsx("div",{className:"vignette"}),m.jsx("div",{className:"gold-dust"}),m.jsx("div",{className:"saffron-overlay"}),m.jsx("div",{className:"diya",style:{left:"8%",bottom:"-20px"}}),m.jsx("div",{className:"diya",style:{left:"28%",bottom:"-30px",animationDelay:"2s"}}),m.jsx("div",{className:"diya",style:{left:"50%",bottom:"-20px",animationDelay:"1s"}}),m.jsx("div",{className:"diya",style:{left:"72%",bottom:"-18px",animationDelay:"3s"}}),m.jsx("div",{className:"diya",style:{left:"90%",bottom:"-26px",animationDelay:"4s"}})]})}function CD(){const t=[{date:"2025-12-24",title:"Navaratri Celebrations",desc:"Nine days of devotional events & homams."},{date:"2026-01-14",title:"Makara Vilakku",desc:"Special bhajans and abhishekams."},{date:"2026-02-15",title:"Kumbhabhishekam",desc:"Temple anniversary & consecration rites."}];return m.jsx("div",{className:"festival-timeline",children:t.map((e,n)=>m.jsxs("div",{className:"f-item",children:[m.jsxs("h4",{children:[e.title,"  ",m.jsx("small",{style:{color:"#333",fontWeight:600},children:e.date})]}),m.jsx("p",{children:e.desc})]},n))})}function xD({name:t,experience:e,specialization:n,desc:r}){return m.jsxs("div",{className:"admin-card",style:{textAlign:"left",marginBottom:14},children:[m.jsx("div",{style:{fontSize:18,fontWeight:800,color:"#c66d00"},children:t}),m.jsxs("div",{style:{fontSize:13,color:"#666",marginTop:6},children:[n,"  ",e]}),m.jsx("p",{style:{marginTop:8,color:"#333"},children:r}),m.jsx("div",{style:{marginTop:10,display:"flex",gap:8}})]})}function kD({items:t=[]}){const e=j.useRef(0),n=j.useRef();return j.useEffect(()=>{const r=setInterval(()=>{e.current=(e.current+1)%t.length,n.current&&(n.current.style.transform=`translateX(-${e.current*100}%)`)},3500);return()=>clearInterval(r)},[t.length]),m.jsx("div",{style:{overflow:"hidden",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.08)"},children:m.jsx("div",{style:{display:"flex",width:`${t.length*100}%`,transition:"transform .6s ease"},ref:n,children:t.map((r,i)=>m.jsxs("div",{style:{minWidth:"100%",padding:24,background:"#fff"},children:[m.jsxs("p",{style:{fontSize:18,fontWeight:600,color:"#333"},children:['"',r.text,'"']}),m.jsxs("div",{style:{marginTop:12,color:"#777"},children:[" ",r.who]})]},i))})})}function DD(){j.useEffect(()=>{const r=Array.from(document.querySelectorAll("[data-ani]"));function i(){const s=window.innerHeight*.85;r.forEach(o=>{o.getBoundingClientRect().top<s&&o.classList.add("show")})}return i(),window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const t=[{name:".  ",experience:"18 ",desc:" "},{name:"  ",experience:".  "},{name:" ",experience:".  .  ",desc:". .  "}],e=[{who:"Sajith",text:"Calm, traditional and spiritual atmosphere."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Satheesh Kumar",text:"Beautiful place, well maintained."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."},{who:"Renjith",text:"Blessings for health, wealth & protection."}],n=[{day:"SUNDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"},{day:"MONDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"},{day:"TUESDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"},{day:"WEDNESDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"},{day:"THURSDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"},{day:"FRIDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"},{day:"SATURDAY",time1:"05:30 AM  10:00 AM",time2:"05:30 PM  08:00 PM"}];return m.jsxs("div",{className:"home-premium",children:[m.jsx("div",{className:"about-video-bg",children:m.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"bg-video",children:m.jsx("source",{src:RD,type:"video/mp4"})})}),m.jsx(BI,{}),m.jsxs("div",{className:"container page-container",children:[m.jsx("section",{className:"hero-banner","aria-label":"hero",children:m.jsxs("div",{className:"hero-content","data-ani":"zoom",children:[m.jsxs("div",{className:"hero-left",children:[m.jsxs("h1",{className:"hero-title",children:[m.jsx("b",{children:"Welcome to"}),"  "]}),m.jsx("p",{className:"hero-sub",children:"Experience peace, divinity and the blessings of Devi."}),m.jsxs("div",{className:"hero-buttons",children:[m.jsx(Ce,{to:"/book-pooja",className:"btn-primary",children:"Book Pooja"}),m.jsx(Ce,{to:"/donate",className:"btn-primary",children:"Donate"})]}),m.jsx("br",{})]}),m.jsx("div",{className:"hero-right",children:m.jsxs("div",{className:"hero-card responsive-images",children:[m.jsx("img",{src:FI,alt:"Temple",className:"hero-img"}),m.jsx("img",{src:UI,alt:"Temple",className:"hero-img"})]})})]})}),m.jsxs("div",{className:"Back",children:[m.jsxs("section",{className:"services-container","data-ani":"left",children:[m.jsx("h3",{className:"section-title",children:"Popular Poojas & Services"}),m.jsxs("div",{className:"services-grid",children:[m.jsx("div",{className:"service-card",children:"Bhagavathi Seva"}),m.jsx("div",{className:"service-card",children:"Kalasha Pooja"}),m.jsx("div",{className:"service-card",children:"Ayillya Pooja"}),m.jsx("div",{className:"service-card",children:"Ganapathi Homam"}),m.jsx("div",{className:"service-card",children:"Mrithunjaya Homam"}),m.jsx("div",{className:"service-card",children:"Nagaroott"}),m.jsx("div",{className:"service-card",children:"Jaladhara"}),m.jsx("div",{className:"service-card",children:"Valiya Pudukka"})]})]}),m.jsxs("section",{className:"services-container","data-ani":"zoom",children:[m.jsx("h3",{className:"section-title",children:"Temple Timings"}),m.jsx("div",{className:"timing-grid",children:n.map(r=>m.jsxs("div",{className:"timing-card gold-card",children:[m.jsx("h4",{children:r.day}),m.jsx("p",{children:r.time1}),m.jsx("p",{children:r.time2})]},r.day))})]}),m.jsxs("div",{className:"festival-priest-layout",style:{marginTop:26},children:[m.jsxs("div",{"data-ani":"left",children:[m.jsx("h3",{className:"section-title",children:"Upcoming Festivals"}),m.jsx(CD,{})]}),m.jsxs("aside",{"data-ani":"right",children:[m.jsx("h3",{className:"section-title",children:" "}),m.jsx("div",{className:"priest-list",children:t.map(r=>m.jsx(xD,{...r},r.name))})]})]})]})]}),m.jsxs("section",{style:{marginTop:20},"data-ani":"zoom",children:[m.jsx("h3",{className:"section-title",children:"Testimonials"}),m.jsx(kD,{items:e})]}),m.jsxs("section",{className:"map-section","data-ani":"zoom",children:[m.jsx("h3",{className:"section-title",children:"Temple Location"}),m.jsxs("div",{className:"map-card gold-card",children:[m.jsx("p",{style:{marginBottom:10,color:"#000000ff"},children:"Visit Pangodu Kavil Sree Bhagavathy Temple and receive Devi's divine blessings."}),m.jsx("div",{className:"map-wrapper",children:m.jsx("iframe",{title:"temple-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3938.8137696934835!2d76.96906587445977!3d8.50469259383659!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b05ba49dfce3c8d%3A0x3d7e90c9c9d6dd72!2sPangodu%20Kavil%20Sree%20Bhagavathy%20Temple!5e0!3m2!1sen!2sin!4v1733748502001!5m2!1sen!2sin",loading:"lazy",allowFullScreen:"",referrerPolicy:"no-referrer-when-downgrade"})}),m.jsxs("p",{style:{marginTop:10,color:"#000000ff"},children:[m.jsx("b",{children:"Address:"})," Pangodu, Kerala, India"]}),m.jsx("a",{href:"https://maps.app.goo.gl/DnwcwLyyjQVRETkW6",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",style:{marginTop:12,display:"inline-block"},children:" Get Directions"})]})]})]})}const zI=""+new URL("temple2-qE1dF5-a.jpg",import.meta.url).href,OD=""+new URL("Renjith-g9vBz4h3.jpg",import.meta.url).href,ND=""+new URL("murali-DzHkBs1_.jpg",import.meta.url).href,MD=""+new URL("sasi-CH0yNM3L.jpg",import.meta.url).href,LD=""+new URL("satheesh-hO4iGxvR.jpg",import.meta.url).href,jD=""+new URL("anil-yQY5Zczv.jpg",import.meta.url).href,$D=""+new URL("rajan-B_V-4TNw.jpg",import.meta.url).href,VD=""+new URL("gopan-UDtGx3hM.jpg",import.meta.url).href,Zf=""+new URL("arun-BiKiO8Ee.jpg",import.meta.url).href,FD=""+new URL("pssnthosh-BRt0oorr.jpg",import.meta.url).href,UD=""+new URL("manoj-CUueHpgY.jpg",import.meta.url).href,BD=""+new URL("divakaran-B6I_qOeN.jpg",import.meta.url).href;function zD(){j.useEffect(()=>{const e=document.querySelectorAll("[data-ani]"),n=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("show")})},{threshold:.2});e.forEach(r=>n.observe(r))},[]);const t=()=>{const e=document.querySelector(".extra-content"),n=document.querySelector(".readmore-btn");e.classList.toggle("show-extra"),e.classList.contains("show-extra")?n.textContent="Read Less":n.textContent="Read More"};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"about-background",children:[m.jsx("div",{className:"about-bg-mandala"}),m.jsx("div",{className:"about-bg-dust"}),m.jsx("div",{className:"diya"}),m.jsx("div",{className:"diya"}),m.jsx("div",{className:"diya"}),m.jsx("div",{className:"diya"}),m.jsx("div",{className:"diya"})]}),m.jsxs("div",{className:"about-page",children:[m.jsx("h1",{className:"section-title","data-ani":"zoom",children:"About  "}),m.jsxs("div",{className:"gold-card","data-ani":"left",children:[m.jsx("h2",{className:"section-title",children:" "}),m.jsx("p",{children:"           .         .                    . ... (your full text continues)"})]}),m.jsx("div",{className:"about-slider","data-ani":"zoom",children:m.jsx("div",{className:"slider-track",children:m.jsx("img",{src:zI,className:"slide-img"})})}),m.jsx("h2",{className:"section-title","data-ani":"left",children:"Festival Timeline"}),m.jsxs("div",{className:"festival-timeline",children:[m.jsxs("div",{className:"f-item","data-ani":"right",children:[m.jsx("h4",{children:"January  Makara Sankranti"}),m.jsx("p",{children:"Special poojas & traditional offerings."})]}),m.jsxs("div",{className:"f-item","data-ani":"left",children:[m.jsx("h4",{children:"March  Maha Shivaratri"}),m.jsx("p",{children:"Night-long bhajans & Abhishekam."})]}),m.jsxs("div",{className:"f-item","data-ani":"right",children:[m.jsx("h4",{children:"August  Krishna Janmashtami"}),m.jsx("p",{children:"Kids events, rituals & prasadam."})]}),m.jsxs("div",{className:"f-item","data-ani":"left",children:[m.jsx("h4",{children:"October  Navaratri"}),m.jsx("p",{children:"9 days of Devi pooja, cultural events."})]})]}),m.jsx("h2",{className:"section-title","data-ani":"zoom",children:"Trust Members"}),m.jsxs("div",{className:"about-gallery","data-ani":"zoom",children:[m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:MD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"Ak. Sasi Kumar"}),m.jsx("h6",{className:"gallery-caption",children:"President"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:LD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"S. Satheesh Kumar"}),m.jsx("h6",{className:"gallery-caption",children:"Secretary"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:OD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"S.Renjith"}),m.jsx("h6",{className:"gallery-caption",children:"Treasurer"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:$D,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"A. Rajan"}),m.jsx("h6",{className:"gallery-caption",children:"Vice President"})]})]}),m.jsxs("div",{className:"about-gallery","data-ani":"zoom",children:[m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:Zf,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"Arun Surendran"}),m.jsx("h6",{className:"gallery-caption",children:"Vice President"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:VD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"AK. Gopakumar"}),m.jsx("h6",{className:"gallery-caption",children:"Joint Secretary"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:jD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"A.D. Anilkumar"}),m.jsx("h6",{className:"gallery-caption",children:"Vice President"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:BD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"P. Divakaran"}),m.jsx("h6",{className:"gallery-caption",children:"Vice President"})]})]}),m.jsxs("div",{className:"about-gallery","data-ani":"zoom",children:[m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:Zf,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"Santhosh Sivanandan"}),m.jsx("h6",{className:"gallery-caption",children:"Join Secratary"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:UD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"Manoj Balachandran"}),m.jsx("h6",{className:"gallery-caption",children:"Join Secratary"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:FD,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"P.S Santhosh"}),m.jsx("h6",{className:"gallery-caption",children:"Join Secratary"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:ND,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"G.Muraleedharan"}),m.jsx("h6",{className:"gallery-caption",children:"Join Secratary"})]}),m.jsxs("div",{className:"gallery-item",children:[m.jsx("img",{src:Zf,className:"gallery-small-img"}),m.jsx("h2",{className:"gallery-caption",children:"Sushama Ramesh"}),m.jsx("h6",{className:"gallery-caption",children:"Join Secratary"})]})]}),m.jsxs("div",{className:"readmore-section","data-ani":"zoom",children:[m.jsx("button",{className:"readmore-btn",onClick:t,children:"Read More"}),m.jsxs("div",{className:"extra-content",children:[m.jsx("h2",{className:"section-title",children:"Advisory Committee"}),m.jsxs("ul",{className:"committee-list",children:[m.jsx("li",{children:"Sree. N. Raveendran"}),m.jsx("li",{children:"Sree. N. Vijayakumar"}),m.jsx("li",{children:"Sree. V. Prem Kumar"}),m.jsx("li",{children:"Sree. V. Udayakumar"}),m.jsx("li",{children:"Sree. Shaji Sivanandan"}),m.jsx("li",{children:"Sree. Rajagopal"})]}),m.jsx("h2",{className:"section-title",children:"Womens Committee"}),m.jsxs("ul",{className:"committee-list",children:[m.jsx("li",{children:"Smt. Chandrika C  President"}),m.jsx("li",{children:"Smt. Sunitha Mohan  Secretary"}),m.jsx("li",{children:"Smt. Jayakumari C"}),m.jsx("li",{children:"Smt. Usha Rajagopal"}),m.jsx("li",{children:"Smt. Ambikadevi"}),m.jsx("li",{children:"Kumari Devika B"}),m.jsx("li",{children:"Smt. Suvina Deepu"}),m.jsx("li",{children:"Smt. Revathy J"}),m.jsx("li",{children:"Smt. Chandrika Madhavan"}),m.jsx("li",{children:"Smt. Jayalekshmi"}),m.jsx("li",{children:"Smt. Anitha Surendran"}),m.jsx("li",{children:"Smt. Rajeswary Arun"})]})]})]})]})]})}function WD(){j.useEffect(()=>{const t=document.querySelectorAll("[data-ani]"),e=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&r.target.classList.add("show")})},{threshold:.2});return t.forEach(n=>e.observe(n)),()=>e.disconnect()},[])}function HD(){return WD(),m.jsxs(m.Fragment,{children:[m.jsx(BI,{}),m.jsxs("div",{className:"page-container",children:[m.jsx("h2",{className:"section-title","data-ani":"zoom",children:"Temple Services & Poojas"}),m.jsx("div",{className:"services-grid",children:m.jsx("section",{className:"services-container","data-ani":"left",children:m.jsxs("div",{className:"services-grid",children:[m.jsx("div",{className:"service-card",children:"Bhagavathi Seva"}),m.jsx("div",{className:"service-card",children:"Kalasha Pooja"}),m.jsx("div",{className:"service-card",children:"Ayillya Pooja"}),m.jsx("div",{className:"service-card",children:"Ganapathi Homam"}),m.jsx("div",{className:"service-card",children:"Mrithunjaya Homam"}),m.jsx("div",{className:"service-card",children:"Nagaroott"}),m.jsx("div",{className:"service-card",children:"Jaladhara"}),m.jsx("div",{className:"service-card",children:"Valiya Pudukka"})]})})})]})]})}function qD({src:t,alt:e,onClick:n}){return m.jsx("div",{className:"image-card",onClick:n,children:m.jsx("img",{src:t,alt:e})})}function KD({src:t,onClose:e}){return t?m.jsx("div",{className:"modal",onClick:e,children:m.jsx("img",{className:"modal-img",src:t,alt:"Large"})}):null}const GD=""+new URL("temple1-DQxbJgGR.jpg",import.meta.url).href,YD=""+new URL("temple3-DfTCxpky.jpg",import.meta.url).href,QD=""+new URL("temple4-iHwzvLlg.jpg",import.meta.url).href,XD=""+new URL("temple5-CpRY24hu.jpg",import.meta.url).href,JD=""+new URL("temple7-DwdZV7RT.jpg",import.meta.url).href;function ZD(){const[t,e]=j.useState(null),n=[GD,zI,YD,QD,XD,JD,FI,UI];return m.jsxs("div",{className:"gallery-page",children:[m.jsx("h2",{className:"gallery-title",children:"Gallery"}),m.jsx("div",{className:"gallery-grid",children:n.map((r,i)=>m.jsx(qD,{src:r,alt:`img-${i}`,onClick:()=>e(r)},i))}),m.jsx(KD,{src:t,onClose:()=>e(null)})]})}var vd={},WI={exports:{}},eO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tO=eO,nO=tO;function HI(){}function qI(){}qI.resetWarningCache=HI;var rO=function(){function t(r,i,s,o,a,l){if(l!==nO){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qI,resetWarningCache:HI};return n.PropTypes=n,n};WI.exports=rO();var sv=WI.exports;const z=Kt(sv);var KI={L:1,M:0,Q:3,H:2},GI={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},iO=GI;function YI(t){this.mode=iO.MODE_8BIT_BYTE,this.data=t}YI.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var sO=YI,ac=KI;function Un(t,e){this.totalCount=t,this.dataCount=e}Un.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Un.getRSBlocks=function(t,e){var n=Un.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=new Array,s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],l=n[s*3+2],c=0;c<o;c++)i.push(new Un(a,l));return i};Un.getRsBlockTable=function(t,e){switch(e){case ac.L:return Un.RS_BLOCK_TABLE[(t-1)*4+0];case ac.M:return Un.RS_BLOCK_TABLE[(t-1)*4+1];case ac.Q:return Un.RS_BLOCK_TABLE[(t-1)*4+2];case ac.H:return Un.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var oO=Un;function QI(){this.buffer=new Array,this.length=0}QI.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var aO=QI,Pn={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Pn.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Pn.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ot=0;ot<8;ot++)Pn.EXP_TABLE[ot]=1<<ot;for(var ot=8;ot<256;ot++)Pn.EXP_TABLE[ot]=Pn.EXP_TABLE[ot-4]^Pn.EXP_TABLE[ot-5]^Pn.EXP_TABLE[ot-6]^Pn.EXP_TABLE[ot-8];for(var ot=0;ot<255;ot++)Pn.LOG_TABLE[Pn.EXP_TABLE[ot]]=ot;var XI=Pn,ji=XI;function Nc(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}Nc.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=ji.gexp(ji.glog(this.get(n))+ji.glog(t.get(r)));return new Nc(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ji.glog(this.get(0))-ji.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=ji.gexp(ji.glog(t.get(r))+e);return new Nc(n,0).mod(t)}};var JI=Nc,on=GI,dw=JI,lO=XI,Lr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},rt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;rt.getBCHDigit(e)-rt.getBCHDigit(rt.G15)>=0;)e^=rt.G15<<rt.getBCHDigit(e)-rt.getBCHDigit(rt.G15);return(t<<10|e)^rt.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;rt.getBCHDigit(e)-rt.getBCHDigit(rt.G18)>=0;)e^=rt.G18<<rt.getBCHDigit(e)-rt.getBCHDigit(rt.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return rt.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case Lr.PATTERN000:return(e+n)%2==0;case Lr.PATTERN001:return e%2==0;case Lr.PATTERN010:return n%3==0;case Lr.PATTERN011:return(e+n)%3==0;case Lr.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case Lr.PATTERN101:return e*n%2+e*n%3==0;case Lr.PATTERN110:return(e*n%2+e*n%3)%2==0;case Lr.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new dw([1],0),n=0;n<t;n++)e=e.multiply(new dw([1,lO.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case on.MODE_NUMBER:return 10;case on.MODE_ALPHA_NUM:return 9;case on.MODE_8BIT_BYTE:return 8;case on.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case on.MODE_NUMBER:return 12;case on.MODE_ALPHA_NUM:return 11;case on.MODE_8BIT_BYTE:return 16;case on.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case on.MODE_NUMBER:return 14;case on.MODE_ALPHA_NUM:return 13;case on.MODE_8BIT_BYTE:return 16;case on.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||a==0&&l==0||o==t.isDark(r+a,i+l)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var c=0;t.isDark(r,i)&&c++,t.isDark(r+1,i)&&c++,t.isDark(r,i+1)&&c++,t.isDark(r+1,i+1)&&c++,(c==0||c==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var h=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&h++;var d=Math.abs(100*h/e/e-50)/5;return n+=d*10,n}},uO=rt,cO=sO,ZI=oO,eA=aO,Si=uO,hO=JI;function Bn(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var sn=Bn.prototype;sn.addData=function(t){var e=new cO(t);this.dataList.push(e),this.dataCache=null};sn.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};sn.getModuleCount=function(){return this.moduleCount};sn.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=ZI.getRSBlocks(t,this.errorCorrectLevel),n=new eA,r=0,i=0;i<e.length;i++)r+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var s=this.dataList[i];n.put(s.mode,4),n.put(s.getLength(),Si.getLengthInBits(s.mode,t)),s.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};sn.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Bn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};sn.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)};sn.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Si.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e};sn.createMovieClip=function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var l=a*i,c=this.modules[s][a];c&&(r.beginFill(0,100),r.moveTo(l,o),r.lineTo(l+i,o),r.lineTo(l+i,o+i),r.lineTo(l,o+i),r.endFill())}return r};sn.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};sn.setupPositionAdjustPattern=function(){for(var t=Si.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}};sn.setupTypeNumber=function(t){for(var e=Si.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};sn.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=Si.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t};sn.mapData=function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var l=!1;s<t.length&&(l=(t[s]>>>i&1)==1);var c=Si.getMask(e,r,o-a);c&&(l=!l),this.modules[r][o-a]=l,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};Bn.PAD0=236;Bn.PAD1=17;Bn.createData=function(t,e,n){for(var r=ZI.getRSBlocks(t,e),i=new eA,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),Si.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Bn.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Bn.PAD1,8);return Bn.createBytes(i,r)};Bn.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,c=e[a].totalCount-l;r=Math.max(r,l),i=Math.max(i,c),s[a]=new Array(l);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+n];n+=l;var d=Si.getErrorCorrectPolynomial(c),f=new hO(s[a],d.getLength()-1),g=f.mod(d);o[a]=new Array(d.getLength()-1);for(var h=0;h<o[a].length;h++){var w=h+g.getLength()-o[a].length;o[a][h]=w>=0?g.get(w):0}}for(var y=0,h=0;h<e.length;h++)y+=e[h].totalCount;for(var S=new Array(y),E=0,h=0;h<r;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(S[E++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(S[E++]=o[a][h]);return S};var dO=Bn,ov={};Object.defineProperty(ov,"__esModule",{value:!0});var fO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pO=sv,an=nA(pO),tA=j,lc=nA(tA);function nA(t){return t&&t.__esModule?t:{default:t}}function mO(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var gO={bgColor:an.default.oneOfType([an.default.object,an.default.string]).isRequired,bgD:an.default.string.isRequired,fgColor:an.default.oneOfType([an.default.object,an.default.string]).isRequired,fgD:an.default.string.isRequired,size:an.default.number.isRequired,title:an.default.string,viewBoxSize:an.default.number.isRequired,xmlns:an.default.string},av=(0,tA.forwardRef)(function(t,e){var n=t.bgColor,r=t.bgD,i=t.fgD,s=t.fgColor,o=t.size,a=t.title,l=t.viewBoxSize,c=t.xmlns,h=c===void 0?"http://www.w3.org/2000/svg":c,d=mO(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return lc.default.createElement("svg",fO({},d,{height:o,ref:e,viewBox:"0 0 "+l+" "+l,width:o,xmlns:h}),a?lc.default.createElement("title",null,a):null,lc.default.createElement("path",{d:r,fill:n}),lc.default.createElement("path",{d:i,fill:s}))});av.displayName="QRCodeSvg";av.propTypes=gO;ov.default=av;Object.defineProperty(vd,"__esModule",{value:!0});vd.QRCode=void 0;var vO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yO=sv,ar=tu(yO),_O=KI,wO=tu(_O),EO=dO,TO=tu(EO),rA=j,SO=tu(rA),IO=ov,AO=tu(IO);function tu(t){return t&&t.__esModule?t:{default:t}}function bO(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var PO={bgColor:ar.default.oneOfType([ar.default.object,ar.default.string]),fgColor:ar.default.oneOfType([ar.default.object,ar.default.string]),level:ar.default.string,size:ar.default.number,value:ar.default.string.isRequired},yd=(0,rA.forwardRef)(function(t,e){var n=t.bgColor,r=n===void 0?"#FFFFFF":n,i=t.fgColor,s=i===void 0?"#000000":i,o=t.level,a=o===void 0?"L":o,l=t.size,c=l===void 0?256:l,h=t.value,d=bO(t,["bgColor","fgColor","level","size","value"]),f=new TO.default(-1,wO.default[a]);f.addData(h),f.make();var g=f.modules;return SO.default.createElement(AO.default,vO({},d,{bgColor:r,bgD:g.map(function(w,y){return w.map(function(S,E){return S?"":"M "+E+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:s,fgD:g.map(function(w,y){return w.map(function(S,E){return S?"M "+E+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:c,viewBoxSize:g.length}))});vd.QRCode=yd;yd.displayName="QRCode";yd.propTypes=PO;var iA=vd.default=yd,fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new CO;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xO=function(t){const e=sA(t);return oA.encodeByteArray(e,!0)},Th=function(t){return xO(t).replace(/\./g,"")},aA=function(t){try{return oA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=()=>kO().__FIREBASE_DEFAULTS__,OO=()=>{if(typeof process>"u"||typeof fw>"u")return;const t=fw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aA(t[1]);return e&&JSON.parse(e)},_d=()=>{try{return DO()||OO()||NO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lA=t=>{var e,n;return(n=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uA=t=>{const e=lA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cA=()=>{var t;return(t=_d())===null||t===void 0?void 0:t.config},hA=t=>{var e;return(e=_d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Th(JSON.stringify(n)),Th(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function jO(){var t;const e=(t=_d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UO(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BO(){return!jO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zO(){try{return typeof indexedDB=="object"}catch{return!1}}function WO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HO,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tr(i,a,r)}}function qO(t,e){return t.replace(KO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KO=/\{\$([^}]+)}/g;function GO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pw(s)&&pw(o)){if(!Sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function La(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YO(t,e){const n=new QO(t,e);return n.subscribe.bind(n)}class QO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ep),i.error===void 0&&(i.error=ep),i.complete===void 0&&(i.complete=ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eN(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZO(t){return t===Fi?void 0:t}function eN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const nN={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},rN=ce.INFO,iN={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},sN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=rN,this._logHandler=sN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const oN=(t,e)=>e.some(n=>t instanceof n);let mw,gw;function aN(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lN(){return gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fA=new WeakMap,Em=new WeakMap,pA=new WeakMap,tp=new WeakMap,uv=new WeakMap;function uN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fA.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function cN(t){if(Em.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Em.set(t,e)}let Tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hN(t){Tm=t(Tm)}function dN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(np(this),e,...n);return pA.set(r,e.sort?e.sort():[e]),oi(r)}:lN().includes(t)?function(...e){return t.apply(np(this),e),oi(fA.get(this))}:function(...e){return oi(t.apply(np(this),e))}}function fN(t){return typeof t=="function"?dN(t):(t instanceof IDBTransaction&&cN(t),oN(t,aN())?new Proxy(t,Tm):t)}function oi(t){if(t instanceof IDBRequest)return uN(t);if(tp.has(t))return tp.get(t);const e=fN(t);return e!==t&&(tp.set(t,e),uv.set(e,t)),e}const np=t=>uv.get(t);function pN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oi(o.result),l.oldVersion,l.newVersion,oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mN=["get","getKey","getAll","getAllKeys","count"],gN=["put","add","delete","clear"],rp=new Map;function vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rp.set(e,s),s}hN(t=>({...t,get:(e,n,r)=>vw(e,n)||t.get(e,n,r),has:(e,n)=>!!vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",yw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new lv("@firebase/app"),_N="@firebase/app-compat",wN="@firebase/analytics-compat",EN="@firebase/analytics",TN="@firebase/app-check-compat",SN="@firebase/app-check",IN="@firebase/auth",AN="@firebase/auth-compat",bN="@firebase/database",PN="@firebase/data-connect",RN="@firebase/database-compat",CN="@firebase/functions",xN="@firebase/functions-compat",kN="@firebase/installations",DN="@firebase/installations-compat",ON="@firebase/messaging",NN="@firebase/messaging-compat",MN="@firebase/performance",LN="@firebase/performance-compat",jN="@firebase/remote-config",$N="@firebase/remote-config-compat",VN="@firebase/storage",FN="@firebase/storage-compat",UN="@firebase/firestore",BN="@firebase/vertexai-preview",zN="@firebase/firestore-compat",WN="firebase",HN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",qN={[Sm]:"fire-core",[_N]:"fire-core-compat",[EN]:"fire-analytics",[wN]:"fire-analytics-compat",[SN]:"fire-app-check",[TN]:"fire-app-check-compat",[IN]:"fire-auth",[AN]:"fire-auth-compat",[bN]:"fire-rtdb",[PN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[CN]:"fire-fn",[xN]:"fire-fn-compat",[kN]:"fire-iid",[DN]:"fire-iid-compat",[ON]:"fire-fcm",[NN]:"fire-fcm-compat",[MN]:"fire-perf",[LN]:"fire-perf-compat",[jN]:"fire-rc",[$N]:"fire-rc-compat",[VN]:"fire-gcs",[FN]:"fire-gcs-compat",[UN]:"fire-fst",[zN]:"fire-fst-compat",[BN]:"fire-vertex","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,KN=new Map,Am=new Map;function _w(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(Am.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(const n of Ih.values())_w(n,t);for(const n of KN.values())_w(n,t);return!0}function wd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new nu("app","Firebase",GN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=HN;function mA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=cA()),!n)throw ai.create("no-options");const s=Ih.get(i);if(s){if(Sh(n,s.options)&&Sh(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const o=new tN(i);for(const l of Am.values())o.addComponent(l);const a=new YN(n,r,o);return Ih.set(i,a),a}function cv(t=Im){const e=Ih.get(t);if(!e&&t===Im&&cA())return mA();if(!e)throw ai.create("no-app",{appName:t});return e}function Hn(t,e,n){var r;let i=(r=qN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}is(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebase-heartbeat-database",XN=1,Il="firebase-heartbeat-store";let ip=null;function gA(){return ip||(ip=pN(QN,XN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),ip}async function JN(t){try{const n=(await gA()).transaction(Il),r=await n.objectStore(Il).get(vA(t));return await n.done,r}catch(e){if(e instanceof tr)Sr.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function ww(t,e){try{const r=(await gA()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,vA(t)),await r.done}catch(n){if(n instanceof tr)Sr.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function vA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=1024,eM=30*24*60*60*1e3;class tM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ew();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=eM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ew(),{heartbeatsToSend:r,unsentEntries:i}=nM(this._heartbeatsCache.heartbeats),s=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sr.warn(n),""}}}function Ew(){return new Date().toISOString().substring(0,10)}function nM(t,e=ZN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Tw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zO()?WO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tw(t){return Th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){is(new di("platform-logger",e=>new vN(e),"PRIVATE")),is(new di("heartbeat",e=>new tM(e),"PRIVATE")),Hn(Sm,yw,t),Hn(Sm,yw,"esm2017"),Hn("fire-js","")}iM("");var Sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,yA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function b(){}b.prototype=T.prototype,A.D=T.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(C,k,D){for(var x=Array(arguments.length-2),G=2;G<arguments.length;G++)x[G-2]=arguments[G];return T.prototype[k].apply(C,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,b){b||(b=0);var C=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)C[k]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(k=0;16>k;++k)C[k]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=A.g[0],b=A.g[1],k=A.g[2];var D=A.g[3],x=T+(D^b&(k^D))+C[0]+3614090360&4294967295;T=b+(x<<7&4294967295|x>>>25),x=D+(k^T&(b^k))+C[1]+3905402710&4294967295,D=T+(x<<12&4294967295|x>>>20),x=k+(b^D&(T^b))+C[2]+606105819&4294967295,k=D+(x<<17&4294967295|x>>>15),x=b+(T^k&(D^T))+C[3]+3250441966&4294967295,b=k+(x<<22&4294967295|x>>>10),x=T+(D^b&(k^D))+C[4]+4118548399&4294967295,T=b+(x<<7&4294967295|x>>>25),x=D+(k^T&(b^k))+C[5]+1200080426&4294967295,D=T+(x<<12&4294967295|x>>>20),x=k+(b^D&(T^b))+C[6]+2821735955&4294967295,k=D+(x<<17&4294967295|x>>>15),x=b+(T^k&(D^T))+C[7]+4249261313&4294967295,b=k+(x<<22&4294967295|x>>>10),x=T+(D^b&(k^D))+C[8]+1770035416&4294967295,T=b+(x<<7&4294967295|x>>>25),x=D+(k^T&(b^k))+C[9]+2336552879&4294967295,D=T+(x<<12&4294967295|x>>>20),x=k+(b^D&(T^b))+C[10]+4294925233&4294967295,k=D+(x<<17&4294967295|x>>>15),x=b+(T^k&(D^T))+C[11]+2304563134&4294967295,b=k+(x<<22&4294967295|x>>>10),x=T+(D^b&(k^D))+C[12]+1804603682&4294967295,T=b+(x<<7&4294967295|x>>>25),x=D+(k^T&(b^k))+C[13]+4254626195&4294967295,D=T+(x<<12&4294967295|x>>>20),x=k+(b^D&(T^b))+C[14]+2792965006&4294967295,k=D+(x<<17&4294967295|x>>>15),x=b+(T^k&(D^T))+C[15]+1236535329&4294967295,b=k+(x<<22&4294967295|x>>>10),x=T+(k^D&(b^k))+C[1]+4129170786&4294967295,T=b+(x<<5&4294967295|x>>>27),x=D+(b^k&(T^b))+C[6]+3225465664&4294967295,D=T+(x<<9&4294967295|x>>>23),x=k+(T^b&(D^T))+C[11]+643717713&4294967295,k=D+(x<<14&4294967295|x>>>18),x=b+(D^T&(k^D))+C[0]+3921069994&4294967295,b=k+(x<<20&4294967295|x>>>12),x=T+(k^D&(b^k))+C[5]+3593408605&4294967295,T=b+(x<<5&4294967295|x>>>27),x=D+(b^k&(T^b))+C[10]+38016083&4294967295,D=T+(x<<9&4294967295|x>>>23),x=k+(T^b&(D^T))+C[15]+3634488961&4294967295,k=D+(x<<14&4294967295|x>>>18),x=b+(D^T&(k^D))+C[4]+3889429448&4294967295,b=k+(x<<20&4294967295|x>>>12),x=T+(k^D&(b^k))+C[9]+568446438&4294967295,T=b+(x<<5&4294967295|x>>>27),x=D+(b^k&(T^b))+C[14]+3275163606&4294967295,D=T+(x<<9&4294967295|x>>>23),x=k+(T^b&(D^T))+C[3]+4107603335&4294967295,k=D+(x<<14&4294967295|x>>>18),x=b+(D^T&(k^D))+C[8]+1163531501&4294967295,b=k+(x<<20&4294967295|x>>>12),x=T+(k^D&(b^k))+C[13]+2850285829&4294967295,T=b+(x<<5&4294967295|x>>>27),x=D+(b^k&(T^b))+C[2]+4243563512&4294967295,D=T+(x<<9&4294967295|x>>>23),x=k+(T^b&(D^T))+C[7]+1735328473&4294967295,k=D+(x<<14&4294967295|x>>>18),x=b+(D^T&(k^D))+C[12]+2368359562&4294967295,b=k+(x<<20&4294967295|x>>>12),x=T+(b^k^D)+C[5]+4294588738&4294967295,T=b+(x<<4&4294967295|x>>>28),x=D+(T^b^k)+C[8]+2272392833&4294967295,D=T+(x<<11&4294967295|x>>>21),x=k+(D^T^b)+C[11]+1839030562&4294967295,k=D+(x<<16&4294967295|x>>>16),x=b+(k^D^T)+C[14]+4259657740&4294967295,b=k+(x<<23&4294967295|x>>>9),x=T+(b^k^D)+C[1]+2763975236&4294967295,T=b+(x<<4&4294967295|x>>>28),x=D+(T^b^k)+C[4]+1272893353&4294967295,D=T+(x<<11&4294967295|x>>>21),x=k+(D^T^b)+C[7]+4139469664&4294967295,k=D+(x<<16&4294967295|x>>>16),x=b+(k^D^T)+C[10]+3200236656&4294967295,b=k+(x<<23&4294967295|x>>>9),x=T+(b^k^D)+C[13]+681279174&4294967295,T=b+(x<<4&4294967295|x>>>28),x=D+(T^b^k)+C[0]+3936430074&4294967295,D=T+(x<<11&4294967295|x>>>21),x=k+(D^T^b)+C[3]+3572445317&4294967295,k=D+(x<<16&4294967295|x>>>16),x=b+(k^D^T)+C[6]+76029189&4294967295,b=k+(x<<23&4294967295|x>>>9),x=T+(b^k^D)+C[9]+3654602809&4294967295,T=b+(x<<4&4294967295|x>>>28),x=D+(T^b^k)+C[12]+3873151461&4294967295,D=T+(x<<11&4294967295|x>>>21),x=k+(D^T^b)+C[15]+530742520&4294967295,k=D+(x<<16&4294967295|x>>>16),x=b+(k^D^T)+C[2]+3299628645&4294967295,b=k+(x<<23&4294967295|x>>>9),x=T+(k^(b|~D))+C[0]+4096336452&4294967295,T=b+(x<<6&4294967295|x>>>26),x=D+(b^(T|~k))+C[7]+1126891415&4294967295,D=T+(x<<10&4294967295|x>>>22),x=k+(T^(D|~b))+C[14]+2878612391&4294967295,k=D+(x<<15&4294967295|x>>>17),x=b+(D^(k|~T))+C[5]+4237533241&4294967295,b=k+(x<<21&4294967295|x>>>11),x=T+(k^(b|~D))+C[12]+1700485571&4294967295,T=b+(x<<6&4294967295|x>>>26),x=D+(b^(T|~k))+C[3]+2399980690&4294967295,D=T+(x<<10&4294967295|x>>>22),x=k+(T^(D|~b))+C[10]+4293915773&4294967295,k=D+(x<<15&4294967295|x>>>17),x=b+(D^(k|~T))+C[1]+2240044497&4294967295,b=k+(x<<21&4294967295|x>>>11),x=T+(k^(b|~D))+C[8]+1873313359&4294967295,T=b+(x<<6&4294967295|x>>>26),x=D+(b^(T|~k))+C[15]+4264355552&4294967295,D=T+(x<<10&4294967295|x>>>22),x=k+(T^(D|~b))+C[6]+2734768916&4294967295,k=D+(x<<15&4294967295|x>>>17),x=b+(D^(k|~T))+C[13]+1309151649&4294967295,b=k+(x<<21&4294967295|x>>>11),x=T+(k^(b|~D))+C[4]+4149444226&4294967295,T=b+(x<<6&4294967295|x>>>26),x=D+(b^(T|~k))+C[11]+3174756917&4294967295,D=T+(x<<10&4294967295|x>>>22),x=k+(T^(D|~b))+C[2]+718787259&4294967295,k=D+(x<<15&4294967295|x>>>17),x=b+(D^(k|~T))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var b=T-this.blockSize,C=this.B,k=this.h,D=0;D<T;){if(k==0)for(;D<=b;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<T;)if(C[k++]=A.charCodeAt(D++),k==this.blockSize){i(this,C),k=0;break}}else for(;D<T;)if(C[k++]=A[D++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var b=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=b&255,b/=256;for(this.u(A),A=Array(16),T=b=0;4>T;++T)for(var C=0;32>C;C+=8)A[b++]=this.g[T]>>>C&255;return A};function s(A,T){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=T(A)}function o(A,T){this.h=T;for(var b=[],C=!0,k=A.length-1;0<=k;k--){var D=A[k]|0;C&&D==T||(b[k]=D,C=!1)}this.g=b}var a={};function l(A){return-128<=A&&128>A?s(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return S(c(-A));for(var T=[],b=1,C=0;A>=b;C++)T[C]=A/b|0,b*=4294967296;return new o(T,0)}function h(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return S(h(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(T,8)),C=d,k=0;k<A.length;k+=8){var D=Math.min(8,A.length-k),x=parseInt(A.substring(k,k+D),T);8>D?(D=c(Math.pow(T,D)),C=C.j(D).add(c(x))):(C=C.j(b),C=C.add(c(x)))}return C}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-S(this).m();for(var A=0,T=1,b=0;b<this.g.length;b++){var C=this.i(b);A+=(0<=C?C:4294967296+C)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(y(this))return"-"+S(this).toString(A);for(var T=c(Math.pow(A,6)),b=this,C="";;){var k=P(b,T).g;b=E(b,k.j(T));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=k,w(b))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=E(this,A),y(A)?-1:w(A)?0:1};function S(A){for(var T=A.g.length,b=[],C=0;C<T;C++)b[C]=~A.g[C];return new o(b,~A.h).add(f)}t.abs=function(){return y(this)?S(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),b=[],C=0,k=0;k<=T;k++){var D=C+(this.i(k)&65535)+(A.i(k)&65535),x=(D>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);C=x>>>16,D&=65535,x&=65535,b[k]=x<<16|D}return new o(b,b[b.length-1]&-2147483648?-1:0)};function E(A,T){return A.add(S(T))}t.j=function(A){if(w(this)||w(A))return d;if(y(this))return y(A)?S(this).j(S(A)):S(S(this).j(A));if(y(A))return S(this.j(S(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,b=[],C=0;C<2*T;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<A.g.length;k++){var D=this.i(C)>>>16,x=this.i(C)&65535,G=A.i(k)>>>16,Q=A.i(k)&65535;b[2*C+2*k]+=x*Q,_(b,2*C+2*k),b[2*C+2*k+1]+=D*Q,_(b,2*C+2*k+1),b[2*C+2*k+1]+=x*G,_(b,2*C+2*k+1),b[2*C+2*k+2]+=D*G,_(b,2*C+2*k+2)}for(C=0;C<T;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=T;C<2*T;C++)b[C]=0;return new o(b,0)};function _(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function I(A,T){this.g=A,this.h=T}function P(A,T){if(w(T))throw Error("division by zero");if(w(A))return new I(d,d);if(y(A))return T=P(S(A),T),new I(S(T.g),S(T.h));if(y(T))return T=P(A,S(T)),new I(S(T.g),T.h);if(30<A.g.length){if(y(A)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var b=f,C=T;0>=C.l(A);)b=O(b),C=O(C);var k=N(b,1),D=N(C,1);for(C=N(C,2),b=N(b,2);!w(C);){var x=D.add(C);0>=x.l(A)&&(k=k.add(b),D=x),C=N(C,1),b=N(b,1)}return T=E(A,k.j(T)),new I(k,T)}for(k=d;0<=A.l(T);){for(b=Math.max(1,Math.floor(A.m()/T.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=c(b),x=D.j(T);y(x)||0<x.l(A);)b-=C,D=c(b),x=D.j(T);w(D)&&(D=f),k=k.add(D),A=E(A,x)}return new I(k,A)}t.A=function(A){return P(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),b=[],C=0;C<T;C++)b[C]=this.i(C)&A.i(C);return new o(b,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),b=[],C=0;C<T;C++)b[C]=this.i(C)|A.i(C);return new o(b,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),b=[],C=0;C<T;C++)b[C]=this.i(C)^A.i(C);return new o(b,this.h^A.h)};function O(A){for(var T=A.g.length+1,b=[],C=0;C<T;C++)b[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(b,A.h)}function N(A,T){var b=T>>5;T%=32;for(var C=A.g.length-b,k=[],D=0;D<C;D++)k[D]=0<T?A.i(D+b)>>>T|A.i(D+b+1)<<32-T:A.i(D+b);return new o(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Qi=o}).apply(typeof Sw<"u"?Sw:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _A,$a,wA,Mc,bm,EA,TA,SA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var v=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var L=u[R];if(!(L in v))break e;v=v[L]}u=u[u.length-1],R=v[u],p=p(R),p!=R&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var v=0,R=!1,L={next:function(){if(!R&&v<u.length){var $=v++;return{value:p($,u[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,v){return u.call.apply(u.bind,arguments)}function d(u,p,v){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function w(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(R,L,$){for(var W=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)W[ye-2]=arguments[ye];return p.prototype[L].apply(R,W)}}function y(u){const p=u.length;if(0<p){const v=Array(p);for(let R=0;R<p;R++)v[R]=u[R];return v}return[]}function S(u,p){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(l(R)){const L=u.length||0,$=R.length||0;u.length=L+$;for(let W=0;W<$;W++)u[L+W]=R[W]}else u.push(R)}}class E{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var O=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function N(u,p,v){for(const R in u)p.call(v,u[R],R,u)}function A(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function T(u){const p={};for(const v in u)p[v]=u[v];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let v,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(v in R)u[v]=R[v];for(let $=0;$<b.length;$++)v=b[$],Object.prototype.hasOwnProperty.call(R,v)&&(u[v]=R[v])}}function k(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function D(u){a.setTimeout(()=>{throw u},0)}function x(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class G{constructor(){this.h=this.g=null}add(p,v){const R=Q.get();R.set(p,v),this.h?this.h.next=R:this.g=R,this.h=R}}var Q=new E(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,B=!1,q=new G,J=()=>{const u=a.Promise.resolve(void 0);te=()=>{u.then(ae)}};var ae=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){D(v)}var p=Q;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}B=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return u}();function Qe(u,p){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{P(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qe.aa.h.call(this)}}w(Qe,ue);var Rt={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),ir=0;function Zo(u,p,v,R,L){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!R,this.ha=L,this.key=++ir,this.da=this.fa=!1}function Ps(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kr(u){this.src=u,this.g={},this.h=0}kr.prototype.add=function(u,p,v,R,L){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var W=Rs(u,p,R,L);return-1<W?(p=u[W],v||(p.fa=!1)):(p=new Zo(p,this.src,$,!!R,L),p.fa=v,u.push(p)),p};function ea(u,p){var v=p.type;if(v in u.g){var R=u.g[v],L=Array.prototype.indexOf.call(R,p,void 0),$;($=0<=L)&&Array.prototype.splice.call(R,L,1),$&&(Ps(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rs(u,p,v,R){for(var L=0;L<u.length;++L){var $=u[L];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==R)return L}return-1}var ta="closure_lm_"+(1e6*Math.random()|0),na={};function ra(u,p,v,R,L){if(Array.isArray(p)){for(var $=0;$<p.length;$++)ra(u,p[$],v,R,L);return null}return v=ia(v),u&&u[jt]?u.K(p,v,c(R)?!!R.capture:!1,L):bu(u,p,v,!1,R,L)}function bu(u,p,v,R,L,$){if(!p)throw Error("Invalid event type");var W=c(L)?!!L.capture:!!L,ye=Cs(u);if(ye||(u[ta]=ye=new kr(u)),v=ye.add(p,v,R,W,$),v.proxy)return v;if(R=uf(),v.proxy=R,R.src=u,R.listener=v,u.addEventListener)pt||(L=W),L===void 0&&(L=!1),u.addEventListener(p.toString(),R,L);else if(u.attachEvent)u.attachEvent(xi(p.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function uf(){function u(v){return p.call(u.src,u.listener,v)}const p=Ru;return u}function Pu(u,p,v,R,L){if(Array.isArray(p))for(var $=0;$<p.length;$++)Pu(u,p[$],v,R,L);else R=c(R)?!!R.capture:!!R,v=ia(v),u&&u[jt]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],v=Rs($,v,R,L),-1<v&&(Ps($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=Cs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Rs(p,v,R,L)),(v=-1<u?p[u]:null)&&En(v))}function En(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[jt])ea(p.i,u);else{var v=u.type,R=u.proxy;p.removeEventListener?p.removeEventListener(v,R,u.capture):p.detachEvent?p.detachEvent(xi(v),R):p.addListener&&p.removeListener&&p.removeListener(R),(v=Cs(p))?(ea(v,u),v.h==0&&(v.src=null,p[ta]=null)):Ps(u)}}}function xi(u){return u in na?na[u]:na[u]="on"+u}function Ru(u,p){if(u.da)u=!0;else{p=new Qe(p,this);var v=u.listener,R=u.ha||u.src;u.fa&&En(u),u=v.call(R,p)}return u}function Cs(u){return u=u[ta],u instanceof kr?u:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function ia(u){return typeof u=="function"?u:(u[ki]||(u[ki]=function(p){return u.handleEvent(p)}),u[ki])}function We(){se.call(this),this.i=new kr(this),this.M=this,this.F=null}w(We,se),We.prototype[jt]=!0,We.prototype.removeEventListener=function(u,p,v,R){Pu(this,u,p,v,R)};function Xe(u,p){var v,R=u.F;if(R)for(v=[];R;R=R.F)v.push(R);if(u=u.M,R=p.type||p,typeof p=="string")p=new ue(p,u);else if(p instanceof ue)p.target=p.target||u;else{var L=p;p=new ue(R,u),C(p,L)}if(L=!0,v)for(var $=v.length-1;0<=$;$--){var W=p.g=v[$];L=Di(W,R,!0,p)&&L}if(W=p.g=u,L=Di(W,R,!0,p)&&L,L=Di(W,R,!1,p)&&L,v)for($=0;$<v.length;$++)W=p.g=v[$],L=Di(W,R,!1,p)&&L}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],R=0;R<v.length;R++)Ps(v[R]);delete u.g[p],u.h--}}this.F=null},We.prototype.K=function(u,p,v,R){return this.i.add(String(u),p,!1,v,R)},We.prototype.L=function(u,p,v,R){return this.i.add(String(u),p,!0,v,R)};function Di(u,p,v,R){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,$=0;$<p.length;++$){var W=p[$];if(W&&!W.da&&W.capture==v){var ye=W.listener,nt=W.ha||W.src;W.fa&&ea(u.i,W),L=ye.call(nt,R)!==!1&&L}}return L&&!R.defaultPrevented}function Xy(u,p,v){if(typeof u=="function")v&&(u=f(u,v));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Jy(u){u.g=Xy(()=>{u.g=null,u.i&&(u.i=!1,Jy(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class dC extends se{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Jy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(u){se.call(this),this.h=u,this.g={}}w(sa,se);var Zy=[];function e_(u){N(u.g,function(p,v){this.g.hasOwnProperty(v)&&En(p)},u),u.g={}}sa.prototype.N=function(){sa.aa.N.call(this),e_(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cf=a.JSON.stringify,fC=a.JSON.parse,pC=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function hf(){}hf.prototype.h=null;function t_(u){return u.h||(u.h=u.i())}function n_(){}var oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function df(){ue.call(this,"d")}w(df,ue);function ff(){ue.call(this,"c")}w(ff,ue);var Oi={},r_=null;function Cu(){return r_=r_||new We}Oi.La="serverreachability";function i_(u){ue.call(this,Oi.La,u)}w(i_,ue);function aa(u){const p=Cu();Xe(p,new i_(p))}Oi.STAT_EVENT="statevent";function s_(u,p){ue.call(this,Oi.STAT_EVENT,u),this.stat=p}w(s_,ue);function Ct(u){const p=Cu();Xe(p,new s_(p,u))}Oi.Ma="timingevent";function o_(u,p){ue.call(this,Oi.Ma,u),this.size=p}w(o_,ue);function la(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function mC(u,p,v,R,L,$){u.info(function(){if(u.g)if($)for(var W="",ye=$.split("&"),nt=0;nt<ye.length;nt++){var fe=ye[nt].split("=");if(1<fe.length){var mt=fe[0];fe=fe[1];var gt=mt.split("_");W=2<=gt.length&&gt[1]=="type"?W+(mt+"="+fe+"&"):W+(mt+"=redacted&")}}else W=null;else W=$;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+p+`
`+v+`
`+W})}function gC(u,p,v,R,L,$,W){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+p+`
`+v+`
`+$+" "+W})}function xs(u,p,v,R){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+yC(u,v)+(R?" "+R:"")})}function vC(u,p){u.info(function(){return"TIMEOUT: "+p})}ua.prototype.info=function(){};function yC(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var R=v[u];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return cf(v)}catch{return p}}var xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pf;function ku(){}w(ku,hf),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},pf=new ku;function Dr(u,p,v,R){this.j=u,this.i=p,this.l=v,this.R=R||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new l_}function l_(){this.i=null,this.g="",this.h=!1}var u_={},mf={};function gf(u,p,v){u.L=1,u.v=Mu(sr(p)),u.m=v,u.P=!0,c_(u,null)}function c_(u,p){u.F=Date.now(),Du(u),u.A=sr(u.v);var v=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),I_(v.i,"t",R),u.C=0,v=u.j.J,u.h=new l_,u.g=B_(u.j,v?p:null,!u.m),0<u.O&&(u.M=new dC(f(u.Y,u,u.g),u.O)),p=u.U,v=u.g,R=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Zy[0]=L.toString()),L=Zy);for(var $=0;$<L.length;$++){var W=ra(v,L[$],R||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),aa(),mC(u.i,u.u,u.A,u.l,u.R,u.m)}Dr.prototype.ca=function(u){u=u.target;const p=this.M;p&&or(u)==3?p.j():this.Y(u)},Dr.prototype.Y=function(u){try{if(u==this.g)e:{const gt=or(this.g);var p=this.g.Ba();const Os=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||k_(this.g)))){this.J||gt!=4||p==7||(p==8||0>=Os?aa(3):aa(2)),vf(this);var v=this.g.Z();this.X=v;t:if(h_(this)){var R=k_(this.g);u="";var L=R.length,$=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),ca(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(R[p],{stream:!($&&p==L-1)});R.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=v==200,gC(this.i,this.u,this.A,this.l,this.R,gt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,nt=this.g;if((ye=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ye)){var fe=ye;break t}}fe=null}if(v=fe)xs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,v);else{this.o=!1,this.s=3,Ct(12),Ni(this),ca(this);break e}}if(this.P){v=!0;let Tn;for(;!this.J&&this.C<W.length;)if(Tn=_C(this,W),Tn==mf){gt==4&&(this.s=4,Ct(14),v=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==u_){this.s=4,Ct(15),xs(this.i,this.l,W,"[Invalid Chunk]"),v=!1;break}else xs(this.i,this.l,Tn,null),yf(this,Tn);if(h_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||W.length!=0||this.h.h||(this.s=1,Ct(16),v=!1),this.o=this.o&&v,!v)xs(this.i,this.l,W,"[Invalid Chunked Response]"),Ni(this),ca(this);else if(0<W.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),If(mt),mt.M=!0,Ct(11))}}else xs(this.i,this.l,W,null),yf(this,W);gt==4&&Ni(this),this.o&&!this.J&&(gt==4?$_(this.j,this):(this.o=!1,Du(this)))}else LC(this.g),v==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Ni(this),ca(this)}}}catch{}finally{}};function h_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _C(u,p){var v=u.C,R=p.indexOf(`
`,v);return R==-1?mf:(v=Number(p.substring(v,R)),isNaN(v)?u_:(R+=1,R+v>p.length?mf:(p=p.slice(R,R+v),u.C=R+v,p)))}Dr.prototype.cancel=function(){this.J=!0,Ni(this)};function Du(u){u.S=Date.now()+u.I,d_(u,u.I)}function d_(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=la(f(u.ba,u),p)}function vf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Dr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vC(this.i,this.A),this.L!=2&&(aa(),Ct(17)),Ni(this),this.s=2,ca(this)):d_(this,this.S-u)};function ca(u){u.j.G==0||u.J||$_(u.j,u)}function Ni(u){vf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,e_(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function yf(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||_f(v.h,u))){if(!u.K&&_f(v.h,u)&&v.G==3){try{var R=v.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Uu(v),Vu(v);else break e;Sf(v),Ct(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=la(f(v.Za,v),6e3));if(1>=m_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Li(v,11)}else if((u.K||v.g==u)&&Uu(v),!_(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let fe=L[p];if(v.T=fe[0],fe=fe[1],v.G==2)if(fe[0]=="c"){v.K=fe[1],v.ia=fe[2];const mt=fe[3];mt!=null&&(v.la=mt,v.j.info("VER="+v.la));const gt=fe[4];gt!=null&&(v.Aa=gt,v.j.info("SVER="+v.Aa));const Os=fe[5];Os!=null&&typeof Os=="number"&&0<Os&&(R=1.5*Os,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const Tn=u.g;if(Tn){const zu=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zu){var $=R.h;$.g||zu.indexOf("spdy")==-1&&zu.indexOf("quic")==-1&&zu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(wf($,$.h),$.h=null))}if(R.D){const Af=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Af&&(R.ya=Af,Te(R.I,R.D,Af))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var W=u;if(R.qa=U_(R,R.J?R.ia:null,R.W),W.K){g_(R.h,W);var ye=W,nt=R.L;nt&&(ye.I=nt),ye.B&&(vf(ye),Du(ye)),R.g=W}else L_(R);0<v.i.length&&Fu(v)}else fe[0]!="stop"&&fe[0]!="close"||Li(v,7);else v.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Li(v,7):Tf(v):fe[0]!="noop"&&v.l&&v.l.ta(fe),v.v=0)}}aa(4)}catch{}}var wC=class{constructor(u,p){this.g=u,this.map=p}};function f_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function m_(u){return u.h?1:u.g?u.g.size:0}function _f(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function wf(u,p){u.g?u.g.add(p):u.h=p}function g_(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}f_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function v_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return y(u.i)}function EC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],v=u.length,R=0;R<v;R++)p.push(u[R]);return p}p=[],v=0;for(R in u)p[v++]=u[R];return p}function TC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const R in u)p[v++]=R;return p}}}function y_(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=TC(u),R=EC(u),L=R.length,$=0;$<L;$++)p.call(void 0,R[$],v&&v[$],u)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SC(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var R=u[v].indexOf("="),L=null;if(0<=R){var $=u[v].substring(0,R);L=u[v].substring(R+1)}else $=u[v];p($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mi){this.h=u.h,Ou(this,u.j),this.o=u.o,this.g=u.g,Nu(this,u.s),this.l=u.l;var p=u.i,v=new fa;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),w_(this,v),this.m=u.m}else u&&(p=String(u).match(__))?(this.h=!1,Ou(this,p[1]||"",!0),this.o=ha(p[2]||""),this.g=ha(p[3]||"",!0),Nu(this,p[4]),this.l=ha(p[5]||"",!0),w_(this,p[6]||"",!0),this.m=ha(p[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}Mi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(da(p,E_,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(da(p,E_,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(da(v,v.charAt(0)=="/"?bC:AC,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",da(v,RC)),u.join("")};function sr(u){return new Mi(u)}function Ou(u,p,v){u.j=v?ha(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Nu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function w_(u,p,v){p instanceof fa?(u.i=p,CC(u.i,u.h)):(v||(p=da(p,PC)),u.i=new fa(p,u.h))}function Te(u,p,v){u.i.set(p,v)}function Mu(u){return Te(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ha(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function da(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,IC),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function IC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var E_=/[#\/\?@]/g,AC=/[#\?:]/g,bC=/[#\?]/g,PC=/[#\?@]/g,RC=/#/g;function fa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Or(u){u.g||(u.g=new Map,u.h=0,u.i&&SC(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=fa.prototype,t.add=function(u,p){Or(this),this.i=null,u=ks(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function T_(u,p){Or(u),p=ks(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function S_(u,p){return Or(u),p=ks(u,p),u.g.has(p)}t.forEach=function(u,p){Or(this),this.g.forEach(function(v,R){v.forEach(function(L){u.call(p,L,R,this)},this)},this)},t.na=function(){Or(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let R=0;R<p.length;R++){const L=u[R];for(let $=0;$<L.length;$++)v.push(p[R])}return v},t.V=function(u){Or(this);let p=[];if(typeof u=="string")S_(this,u)&&(p=p.concat(this.g.get(ks(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return Or(this),this.i=null,u=ks(this,u),S_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function I_(u,p,v){T_(u,p),0<v.length&&(u.i=null,u.g.set(ks(u,p),y(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var R=p[v];const $=encodeURIComponent(String(R)),W=this.V(R);for(R=0;R<W.length;R++){var L=$;W[R]!==""&&(L+="="+encodeURIComponent(String(W[R]))),u.push(L)}}return this.i=u.join("&")};function ks(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function CC(u,p){p&&!u.j&&(Or(u),u.i=null,u.g.forEach(function(v,R){var L=R.toLowerCase();R!=L&&(T_(this,R),I_(this,L,v))},u)),u.j=p}function xC(u,p){const v=new ua;if(a.Image){const R=new Image;R.onload=g(Nr,v,"TestLoadImage: loaded",!0,p,R),R.onerror=g(Nr,v,"TestLoadImage: error",!1,p,R),R.onabort=g(Nr,v,"TestLoadImage: abort",!1,p,R),R.ontimeout=g(Nr,v,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else p(!1)}function kC(u,p){const v=new ua,R=new AbortController,L=setTimeout(()=>{R.abort(),Nr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:R.signal}).then($=>{clearTimeout(L),$.ok?Nr(v,"TestPingServer: ok",!0,p):Nr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Nr(v,"TestPingServer: error",!1,p)})}function Nr(u,p,v,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(v)}catch{}}function DC(){this.g=new pC}function OC(u,p,v){const R=v||"";try{y_(u,function(L,$){let W=L;c(L)&&(W=cf(L)),p.push(R+$+"="+encodeURIComponent(W))})}catch(L){throw p.push(R+"type="+encodeURIComponent("_badmap")),L}}function Lu(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Lu,hf),Lu.prototype.g=function(){return new ju(this.l,this.j)},Lu.prototype.i=function(u){return function(){return u}}({});function ju(u,p){We.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ju,We),t=ju.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ma(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function A_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?pa(this):ma(this),this.readyState==3&&A_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,pa(this))},t.Qa=function(u){this.g&&(this.response=u,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ma(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function ma(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function b_(u){let p="";return N(u,function(v,R){p+=R,p+=":",p+=v,p+=`\r
`}),p}function Ef(u,p,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=b_(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Te(u,p,v))}function Ne(u){We.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ne,We);var NC=/^https?$/i,MC=["POST","PUT"];t=Ne.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pf.g(),this.v=this.o?t_(this.o):t_(pf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){P_(this,$);return}if(u=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)v.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())v.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MC,p,void 0))||R||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,W]of v)this.g.setRequestHeader($,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{x_(this),this.u=!0,this.g.send(u),this.u=!1}catch($){P_(this,$)}};function P_(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,R_(u),$u(u)}function R_(u){u.A||(u.A=!0,Xe(u,"complete"),Xe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xe(this,"complete"),Xe(this,"abort"),$u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$u(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?C_(this):this.bb())},t.bb=function(){C_(this)};function C_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||or(u)!=4||u.Z()!=2)){if(u.u&&or(u)==4)Xy(u.Ea,0,u);else if(Xe(u,"readystatechange"),or(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var R;if(R=W===0){var L=String(u.D).match(__)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),R=!NC.test(L?L.toLowerCase():"")}v=R}if(v)Xe(u,"complete"),Xe(u,"success");else{u.m=6;try{var $=2<or(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",R_(u)}}finally{$u(u)}}}}function $u(u,p){if(u.g){x_(u);const v=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Xe(u,"ready");try{v.onreadystatechange=R}catch{}}}function x_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),fC(p)}};function k_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function LC(u){const p={};u=(u.g&&2<=or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(_(u[R]))continue;var v=k(u[R]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[L]||[];p[L]=$,$.push(v)}A(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function D_(u){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,u),this.cb=ga("retryDelaySeedMs",1e4,u),this.Wa=ga("forwardChannelMaxRetries",2,u),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new f_(u&&u.concurrentRequestLimit),this.Da=new DC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=D_.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,R){Ct(0),this.W=u,this.H=p||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=U_(this,null,this.W),Fu(this)};function Tf(u){if(O_(u),u.G==3){var p=u.U++,v=sr(u.I);if(Te(v,"SID",u.K),Te(v,"RID",p),Te(v,"TYPE","terminate"),va(u,v),p=new Dr(u,u.j,p),p.L=2,p.v=Mu(sr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=B_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Du(p)}F_(u)}function Vu(u){u.g&&(If(u),u.g.cancel(),u.g=null)}function O_(u){Vu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Uu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fu(u){if(!p_(u.h)&&!u.s){u.s=!0;var p=u.Ga;te||J(),B||(te(),B=!0),q.add(p,u),u.B=0}}function jC(u,p){return m_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=la(f(u.Ga,u,p),V_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Dr(this,this.j,u);let $=this.o;if(this.S&&($?($=T($),C($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=M_(this,L,p),v=sr(this.I),Te(v,"RID",u),Te(v,"CVER",22),this.D&&Te(v,"X-HTTP-Session-Id",this.D),va(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(b_($)))+"&"+p:this.m&&Ef(v,this.m,$)),wf(this.h,L),this.Ua&&Te(v,"TYPE","init"),this.P?(Te(v,"$req",p),Te(v,"SID","null"),L.T=!0,gf(L,v,null)):gf(L,v,p),this.G=2}}else this.G==3&&(u?N_(this,u):this.i.length==0||p_(this.h)||N_(this))};function N_(u,p){var v;p?v=p.l:v=u.U++;const R=sr(u.I);Te(R,"SID",u.K),Te(R,"RID",v),Te(R,"AID",u.T),va(u,R),u.m&&u.o&&Ef(R,u.m,u.o),v=new Dr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=M_(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wf(u.h,v),gf(v,R,p)}function va(u,p){u.H&&N(u.H,function(v,R){Te(p,R,v)}),u.l&&y_({},function(v,R){Te(p,R,v)})}function M_(u,p,v){v=Math.min(u.i.length,v);var R=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let $=-1;for(;;){const W=["count="+v];$==-1?0<v?($=L[0].g,W.push("ofs="+$)):$=0:W.push("ofs="+$);let ye=!0;for(let nt=0;nt<v;nt++){let fe=L[nt].g;const mt=L[nt].map;if(fe-=$,0>fe)$=Math.max(0,L[nt].g-100),ye=!1;else try{OC(mt,W,"req"+fe+"_")}catch{R&&R(mt)}}if(ye){R=W.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,R}function L_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;te||J(),B||(te(),B=!0),q.add(p,u),u.v=0}}function Sf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=la(f(u.Fa,u),V_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,j_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=la(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Vu(this),j_(this))};function If(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function j_(u){u.g=new Dr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=sr(u.qa);Te(p,"RID","rpc"),Te(p,"SID",u.K),Te(p,"AID",u.T),Te(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Te(p,"TO",u.ja),Te(p,"TYPE","xmlhttp"),va(u,p),u.m&&u.o&&Ef(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Mu(sr(p)),v.m=null,v.P=!0,c_(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Vu(this),Sf(this),Ct(19))};function Uu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $_(u,p){var v=null;if(u.g==p){Uu(u),If(u),u.g=null;var R=2}else if(_f(u.h,p))v=p.D,g_(u.h,p),R=1;else return;if(u.G!=0){if(p.o)if(R==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;R=Cu(),Xe(R,new o_(R,v)),Fu(u)}else L_(u);else if(L=p.s,L==3||L==0&&0<p.X||!(R==1&&jC(u,p)||R==2&&Sf(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),L){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function V_(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Li(u,p){if(u.j.info("Error code "+p),p==2){var v=f(u.fb,u),R=u.Xa;const L=!R;R=new Mi(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ou(R,"https"),Mu(R),L?xC(R.toString(),v):kC(R.toString(),v)}else Ct(2);u.G=0,u.l&&u.l.sa(p),F_(u),O_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function F_(u){if(u.G=0,u.ka=[],u.l){const p=v_(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function U_(u,p,v){var R=v instanceof Mi?sr(v):new Mi(v);if(R.g!="")p&&(R.g=p+"."+R.g),Nu(R,R.s);else{var L=a.location;R=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var $=new Mi(null);R&&Ou($,R),p&&($.g=p),L&&Nu($,L),v&&($.l=v),R=$}return v=u.D,p=u.ya,v&&p&&Te(R,v,p),Te(R,"VER",u.la),va(u,R),R}function B_(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ne(new Lu({eb:v})):new Ne(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z_(){}t=z_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bu(){}Bu.prototype.g=function(u,p){return new Gt(u,p)};function Gt(u,p){We.call(this),this.g=new D_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!_(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ds(this)}w(Gt,We),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Tf(this.g)},Gt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=cf(u),u=v);p.i.push(new wC(p.Ya++,u)),p.G==3&&Fu(p)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Tf(this.g),delete this.g,Gt.aa.N.call(this)};function W_(u){df.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(W_,df);function H_(){ff.call(this),this.status=1}w(H_,ff);function Ds(u){this.g=u}w(Ds,z_),Ds.prototype.ua=function(){Xe(this.g,"a")},Ds.prototype.ta=function(u){Xe(this.g,new W_(u))},Ds.prototype.sa=function(u){Xe(this.g,new H_)},Ds.prototype.ra=function(){Xe(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,SA=function(){return new Bu},TA=function(){return Cu()},EA=Oi,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,Mc=xu,a_.COMPLETE="complete",wA=a_,n_.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",We.prototype.listen=We.prototype.K,$a=n_,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,_A=Ne}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const Iw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new lv("@firebase/firestore");function ba(){return ss.logLevel}function Y(t,...e){if(ss.logLevel<=ce.DEBUG){const n=e.map(hv);ss.debug(`Firestore (${Lo}): ${t}`,...n)}}function Ir(t,...e){if(ss.logLevel<=ce.ERROR){const n=e.map(hv);ss.error(`Firestore (${Lo}): ${t}`,...n)}}function vo(t,...e){if(ss.logLevel<=ce.WARN){const n=e.map(hv);ss.warn(`Firestore (${Lo}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+t;throw Ir(e),new Error(e)}function ve(t,e){t||ne()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class oM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aM{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new IA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new Et(e)}}class lM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new cM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new Ke(0,0))}static max(){return new re(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends Al{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const fM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Al{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return fM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(be.fromString(e))}static fromName(e){return new Z(be.fromString(e).popFirst(5))}static empty(){return new Z(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new be(e.slice()))}}function pM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new fi(i,Z.empty(),e)}function mM(t){return new fi(t.readTime,t.key,-1)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(re.min(),Z.empty(),-1)}static max(){return new fi(re.max(),Z.empty(),-1)}}function gM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==vM)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _M(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dv.oe=-1;function Ed(t){return t==null}function Ah(t){return t===0&&1/t==-1/0}function wM(t){return typeof t=="number"&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new st(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new ut(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PA("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const EM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(ve(!!t),typeof t=="string"){let e=0;const n=EM.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pv(t){const e=t.mapValue.fields.__previous_value__;return fv(e)?pv(e):e}function bl(t){const e=pi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc={mapValue:{}};function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fv(t)?4:IM(t)?9007199254740991:SM(t)?10:11:ne()}function Jn(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pi(i.timestampValue),a=pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return os(i.bytesValue).isEqual(os(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?Ah(o)===Ah(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Aw(o)!==Aw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0}(t,e);default:return ne()}}function Rl(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=as(t),r=as(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=$e(s.integerValue||s.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(bl(t),bl(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=os(s),l=os(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=pe(a[c],l[c]);if(h!==0)return h}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=pe($e(s.latitude),$e(o.latitude));return a!==0?a:pe($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},f=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=pe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:Rw(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===hc.mapValue&&o===hc.mapValue)return 0;if(s===hc.mapValue)return 1;if(o===hc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=pe(l[d],h[d]);if(f!==0)return f;const g=_o(a[l[d]],c[h[d]]);if(g!==0)return g}return pe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=pi(t),r=pi(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Rw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_o(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function wo(t){return Pm(t)}function Pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pm(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function Cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rm(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function xw(t){return!!t&&"nullValue"in t}function kw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lc(t){return!!t&&"mapValue"in t}function SM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ja(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ss(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(Ja(this.value))}}function RA(t){const e=[];return Ss(t.fields,(n,r)=>{const i=new at([n]);if(Lc(r)){const s=RA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,re.min(),re.min(),re.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,re.min(),re.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,re.min(),re.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function Dw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ow(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function AM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class Be extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PM(e,n,r):n==="array-contains"?new xM(e,r):n==="in"?new kM(e,r):n==="not-in"?new DM(e,r):n==="array-contains-any"?new OM(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RM(e,r):new CM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new On(e,n)}matches(e){return xA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xA(t){return t.op==="and"}function kA(t){return bM(t)&&xA(t)}function bM(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function Cm(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(kA(t))return t.filters.map(e=>Cm(e)).join(",");{const e=t.filters.map(n=>Cm(n)).join(",");return`${t.op}(${e})`}}function DA(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&DA(o,i.filters[a]),!0):!1}(t,e):void ne()}function OA(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(OA).join(" ,")+"}"}(t):"Filter"}class PM extends Be{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class RM extends Be{constructor(e,n){super(e,"in",n),this.keys=NA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CM extends Be{constructor(e,n){super(e,"not-in",n),this.keys=NA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class xM extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mv(n)&&Rl(n.arrayValue,this.value)}}class kM extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class DM extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class OM extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Nw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new NM(t,e,n,r,i,s,o)}function gv(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.ue=n}return e.ue}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ow(t.startAt,e.startAt)&&Ow(t.endAt,e.endAt)}function xm(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MM(t,e,n,r,i,s,o,a){return new jo(t,e,n,r,i,s,o,a)}function Td(t){return new jo(t)}function Mw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MA(t){return t.collectionGroup!==null}function Za(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(at.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cl(s,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new Cl(at.keyField(),r))}return e.ce}function qn(t){const e=ie(t);return e.le||(e.le=LM(e,Za(t))),e.le}function LM(t,e){if(t.limitType==="F")return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cl(i.field,s)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function km(t,e){const n=t.filters.concat([e]);return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dm(t,e,n){return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sd(t,e){return vv(qn(t),qn(e))&&t.limitType===e.limitType}function LA(t){return`${gv(qn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OA(i)).join(", ")}]`),Ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wo(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Id(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Dw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Za(r),i)||r.endAt&&!function(o,a,l){const c=Dw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Za(r),i))}(t,e)}function jM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jA(t){return(e,n)=>{let r=!1;for(const i of Za(t)){const s=$M(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $M(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?_o(l,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new Oe(Z.comparator);function Ar(){return VM}const $A=new Oe(Z.comparator);function Va(...t){let e=$A;for(const n of t)e=e.insert(n.key,n);return e}function VA(t){let e=$A;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ki(){return el()}function FA(){return el()}function el(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const FM=new Oe(Z.comparator),UM=new ut(Z.comparator);function le(...t){let e=UM;for(const n of t)e=e.add(n);return e}const BM=new ut(pe);function zM(){return BM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function UA(t){return{integerValue:""+t}}function WM(t,e){return wM(e)?UA(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function HM(t,e,n){return t instanceof Ph?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fv(s)&&(s=pv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xl?zA(t,e):t instanceof kl?WA(t,e):function(i,s){const o=BA(i,s),a=Lw(o)+Lw(i.Pe);return Rm(o)&&Rm(i.Pe)?UA(a):yv(i.serializer,a)}(t,e)}function qM(t,e,n){return t instanceof xl?zA(t,e):t instanceof kl?WA(t,e):n}function BA(t,e){return t instanceof Rh?function(r){return Rm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ph extends Ad{}class xl extends Ad{constructor(e){super(),this.elements=e}}function zA(t,e){const n=HA(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends Ad{constructor(e){super(),this.elements=e}}function WA(t,e){let n=HA(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Rh extends Ad{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Lw(t){return $e(t.integerValue||t.doubleValue)}function HA(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xl&&i instanceof xl||r instanceof kl&&i instanceof kl?yo(r.elements,i.elements,Jn):r instanceof Rh&&i instanceof Rh?Jn(r.Pe,i.Pe):r instanceof Ph&&i instanceof Ph}(t.transform,e.transform)}class GM{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bd{}function qA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _v(t.key,kn.none()):new ou(t.key,t.data,kn.none());{const n=t.data,r=Vt.empty();let i=new ut(at.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ii(t.key,r,new Jt(i.toArray()),kn.none())}}function YM(t,e,n){t instanceof ou?function(i,s,o){const a=i.value.clone(),l=$w(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ii?function(i,s,o){if(!jc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=$w(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(KA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tl(t,e,n,r){return t instanceof ou?function(s,o,a,l){if(!jc(s.precondition,o))return a;const c=s.value.clone(),h=Vw(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ii?function(s,o,a,l){if(!jc(s.precondition,o))return a;const c=Vw(s.fieldTransforms,l,o),h=o.data;return h.setAll(KA(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return jc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BA(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yo(r,i,(s,o)=>KM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ou extends bd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends bd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $w(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qM(o,a,n[i]))}return r}function Vw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,HM(s,o,e))}return r}class _v extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>jw(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>jw(n,r))}}class wv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return FM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,he;function tL(t){switch(t){default:return ne();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function GA(t){if(t===void 0)return Ir("GRPC error has no .code"),V.UNKNOWN;switch(t){case Fe.OK:return V.OK;case Fe.CANCELLED:return V.CANCELLED;case Fe.UNKNOWN:return V.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return V.INTERNAL;case Fe.UNAVAILABLE:return V.UNAVAILABLE;case Fe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Fe.NOT_FOUND:return V.NOT_FOUND;case Fe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Fe.ABORTED:return V.ABORTED;case Fe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Fe.DATA_LOSS:return V.DATA_LOSS;default:return ne()}}(he=Fe||(Fe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new Qi([4294967295,4294967295],0);function Fw(t){const e=nL().encode(t),n=new yA;return n.update(e),new Uint8Array(n.digest())}function Uw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([i,s],0)]}class Ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qi.fromNumber(r)));return i.compare(rL)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Fw(e),[r,i]=Uw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ev(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Fw(e),[r,i]=Uw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pd(re.min(),i,new Oe(pe),Ar(),le())}}class au{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class YA{constructor(e,n){this.targetId=e,this.me=n}}class QA{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Bw{constructor(){this.fe=0,this.ge=Ww(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new au(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ww()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=zw(),this.Qe=new Oe(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(xm(s))if(r===0){const o=new Z(s.path);this.Ue(n,o,St.newNoDocument(o,re.min()))}else ve(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=os(r).toUint8Array()}catch(l){if(l instanceof PA)return vo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ev(o,i,s)}catch(l){return vo(l instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&xm(a.target)){const l=new Z(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,St.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Pd(e,n,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=zw(),this.Qe=new Oe(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Bw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zw(){return new Oe(Z.comparator)}function Ww(){return new Oe(Z.comparator)}const sL={asc:"ASCENDING",desc:"DESCENDING"},oL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aL={and:"AND",or:"OR"};class lL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uL(t,e){return Ch(t,e.toTimestamp())}function Kn(t){return ve(!!t),re.fromTimestamp(function(n){const r=pi(n);return new Ke(r.seconds,r.nanos)}(t))}function Tv(t,e){return Nm(t,e).canonicalString()}function Nm(t,e){const n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JA(t){const e=be.fromString(t);return ve(rb(e)),e}function Mm(t,e){return Tv(t.databaseId,e.path)}function sp(t,e){const n=JA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(eb(n))}function ZA(t,e){return Tv(t.databaseId,e)}function cL(t){const e=JA(t);return e.length===4?be.emptyPath():eb(e)}function Lm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eb(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Hw(t,e,n){return{name:Mm(t,e),fields:n.value.mapValue.fields}}function hL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ve(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?V.UNKNOWN:GA(c.code);return new H(h,c.message||"")}(o);n=new QA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):re.min(),a=new Vt({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new $c(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?Kn(r.readTime):re.min(),o=St.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new $c([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new eL(i,s),a=r.targetId;n=new YA(a,o)}}return n}function dL(t,e){let n;if(e instanceof ou)n={update:Hw(t,e.key,e.value)};else if(e instanceof _v)n={delete:Mm(t,e.key)};else if(e instanceof Ii)n={update:Hw(t,e.key,e.data),updateMask:EL(e.fieldMask)};else{if(!(e instanceof XM))return ne();n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function fL(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(re.min())&&(o=Kn(s)),new GM(o,i.transformResults||[])}(n,e))):[]}function pL(t,e){return{documents:[ZA(t,e.path)]}}function mL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZA(t,i);const s=function(c){if(c.length!==0)return nb(On.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:js(f.field),direction:yL(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Om(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function gL(t){let e=cL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=tb(d);return f instanceof On&&kA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new Cl($s(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Ed(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new bh(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new bh(g,f)}(n.endAt)),MM(e,i,o,s,a,"F",l,c)}function vL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$s(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$s(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$s(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Be.create($s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>tb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function yL(t){return sL[t]}function _L(t){return oL[t]}function wL(t){return aL[t]}function js(t){return{fieldPath:t.canonicalString()}}function $s(t){return at.fromServerFormat(t.fieldPath)}function nb(t){return t instanceof Be?function(n){if(n.op==="=="){if(kw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NAN"}};if(xw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NAN"}};if(xw(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(n.field),op:_L(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(i=>nb(i));return r.length===1?r[0]:{compositeFilter:{op:wL(n.op),filters:r}}}(t):ne()}function EL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=re.min(),o=re.min(),a=ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.ct=e}}function SL(t){const e=gL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.un=new AL}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(fi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class AL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Eo(0)}static kn(){return new Eo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tl(r.mutation,i,Jt.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Va();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=el(),a=function(){return el()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ii)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),tl(h.mutation,c,h.mutation.getFieldMask(),Ke.now())):o.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new PL(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=el();let i=new Oe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Jt.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=FA();h.forEach(f=>{if(!s.has(f)){const g=qA(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Ki());let a=-1,l=s;return o.next(c=>F.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(h=>({batchId:a,changes:VA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(d,f){return new jo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,St.newInvalidDocument(h)))});let a=Va();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&tl(h.mutation,c,Jt.empty(),Ke.now()),Id(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:SL(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.overlays=new Oe(Z.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ki();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Ki(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ki(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ki(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZM(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.Tr=new ut(Je.Er),this.dr=new ut(Je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Z(new be([])),r=new Je(n,e),i=new Je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Z(new be([])),r=new Je(n,e),i=new Je(n,e+1);let s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(Je.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(pe);return n.forEach(i=>{const s=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new Je(new Z(s),0);let a=new ut(pe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const s=new Je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Je(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.Mr=e,this.docs=function(){return new Oe(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():St.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||gM(mM(h),r)<=0||(i.has(h.key)||Id(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NL(this)}getSize(e){return F.resolve(this.size)}}class NL extends bL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.persistence=e,this.Nr=new $o(n=>gv(n),vv),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sv,this.targetCount=0,this.kr=Eo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dv(0),this.Kr=!1,this.Kr=!0,this.$r=new kL,this.referenceDelegate=e(this),this.Ur=new ML(this),this.indexManager=new IL,this.remoteDocumentCache=function(i){return new OL(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TL(n),this.Gr=new CL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new DL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new jL(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class jL extends yM{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Jr=new Sv,this.Yr=null}static Zr(e){return new Iv(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=Z.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Av(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return BO()?8:_M(At())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $L;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ba()<=ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(ba()<=ce.DEBUG&&Y("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ba()<=ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):F.resolve())}Yi(e,n){if(Mw(n))return F.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dm(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Dm(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Mw(n)||i.isEqual(re.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?F.resolve(null):(ba()<=ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,o,n,pM(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(jA(e));return n.forEach((i,s)=>{Id(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ba()<=ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(pe),this._s=new $o(s=>gv(s),vv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function UL(t,e,n,r){return new FL(t,e,n,r)}async function ib(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function BL(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=F.resolve();return f.forEach(w=>{g=g.next(()=>h.getEntry(l,w)).next(y=>{const S=c.docVersions.get(w);ve(S!==null),y.version.compareTo(S)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sb(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zL(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(ht.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(y,S,E){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let l=Ar(),c=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(WL(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(re.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function WL(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function HL(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qL(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jm(t,e,n){const r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!su(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qw(t,e,n){const r=ie(t);let i=re.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ie(l),f=d._s.get(h);return f!==void 0?F.resolve(d.os.get(f)):d.Ur.getTargetData(c,h)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:le())).next(a=>(KL(r,jM(e),a),{documents:a,Ts:s})))}function KL(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Kw{constructor(){this.activeTargetIds=zM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GL{constructor(){this.so=new Kw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function op(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class JL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=op(),l=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw vo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=QL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=op();return new Promise((o,a)=>{const l=new _A;l.setWithCredentials(!0),l.listenOnce(wA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mc.NO_ERROR:const h=l.getResponseJson();Y(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Mc.TIMEOUT:Y(_t,`RPC '${e}' ${s} timed out`),a(new H(V.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const d=l.getStatus();if(Y(_t,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const w=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(E)>=0?E:V.UNKNOWN}(g.status);a(new H(w,g.message))}else a(new H(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(V.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{Y(_t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Y(_t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SA(),a=TA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Y(_t,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const w=new XL({Io:S=>{g?Y(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Y(_t,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Y(_t,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},To:()=>d.close()}),y=(S,E,_)=>{S.listen(E,I=>{try{_(I)}catch(P){setTimeout(()=>{throw P},0)}})};return y(d,$a.EventType.OPEN,()=>{g||(Y(_t,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),y(d,$a.EventType.CLOSE,()=>{g||(g=!0,Y(_t,`RPC '${e}' stream ${i} transport closed`),w.So())}),y(d,$a.EventType.ERROR,S=>{g||(g=!0,vo(_t,`RPC '${e}' stream ${i} transport errored:`,S),w.So(new H(V.UNAVAILABLE,"The operation could not be completed")))}),y(d,$a.EventType.MESSAGE,S=>{var E;if(!g){const _=S.data[0];ve(!!_);const I=_,P=I.error||((E=I[0])===null||E===void 0?void 0:E.error);if(P){Y(_t,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let N=function(b){const C=Fe[b];if(C!==void 0)return GA(C)}(O),A=P.message;N===void 0&&(N=V.INTERNAL,A="Unknown error status: "+O+" with message "+P.message),g=!0,w.So(new H(N,A)),d.close()}else Y(_t,`RPC '${e}' stream ${i} received:`,_),w.bo(_)}}),y(a,EA.STAT_EVENT,S=>{S.stat===bm.PROXY?Y(_t,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===bm.NOPROXY&&Y(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new lL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ob(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZL extends ab{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hL(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Kn(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Lm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=xm(l)?{documents:pL(s,l)}:{query:mL(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XA(s,o.resumeToken);const c=Om(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Ch(s,o.snapshotVersion.toTimestamp());const c=Om(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=vL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.a_(n)}}class e4 extends ab{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=fL(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Lm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Nm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(V.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Nm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(V.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class n4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ir(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Is(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.L_.add(4),await lu(c),c.q_.set("Unknown"),c.L_.delete(4),await Cd(c)}(this))})}),this.q_=new n4(r,i)}}async function Cd(t){if(Is(t))for(const e of t.B_)await e(!0)}async function lu(t){for(const e of t.B_)await e(!1)}function lb(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Cv(n)?Rv(n):Vo(n).r_()&&Pv(n,e))}function bv(t,e){const n=ie(t),r=Vo(n);n.N_.delete(e),r.r_()&&ub(n,e),n.N_.size===0&&(r.r_()?r.o_():Is(n)&&n.q_.set("Unknown"))}function Pv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).A_(e)}function ub(t,e){t.Q_.xe(e),Vo(t).R_(e)}function Rv(t){t.Q_=new iL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.q_.v_()}function Cv(t){return Is(t)&&!Vo(t).n_()&&t.N_.size>0}function Is(t){return ie(t).L_.size===0}function cb(t){t.Q_=void 0}async function i4(t){t.q_.set("Online")}async function s4(t){t.N_.forEach((e,n)=>{Pv(t,e)})}async function o4(t,e){cb(t),Cv(t)?(t.q_.M_(e),Rv(t)):t.q_.set("Unknown")}async function a4(t,e,n){if(t.q_.set("Online"),e instanceof QA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(t,r)}else if(e instanceof $c?t.Q_.Ke(e):e instanceof YA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const r=await sb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),ub(s,l);const d=new Qr(h.target,l,c,h.sequenceNumber);Pv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await xh(t,r)}}async function xh(t,e,n){if(!su(e))throw e;t.L_.add(1),await lu(t),t.q_.set("Offline"),n||(n=()=>sb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Cd(t)})}function hb(t,e){return e().catch(n=>xh(t,n,e))}async function xd(t){const e=ie(t),n=mi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;l4(e);)try{const i=await HL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,u4(e,i)}catch(i){await xh(e,i)}db(e)&&fb(e)}function l4(t){return Is(t)&&t.O_.length<10}function u4(t,e){t.O_.push(e);const n=mi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function db(t){return Is(t)&&!mi(t).n_()&&t.O_.length>0}function fb(t){mi(t).start()}async function c4(t){mi(t).p_()}async function h4(t){const e=mi(t);for(const n of t.O_)e.m_(n.mutations)}async function d4(t,e,n){const r=t.O_.shift(),i=wv.from(r,e,n);await hb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xd(t)}async function f4(t,e){e&&mi(t).V_&&await async function(r,i){if(function(o){return tL(o)&&o!==V.ABORTED}(i.code)){const s=r.O_.shift();mi(r).s_(),await hb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xd(r)}}(t,e),db(t)&&fb(t)}async function Yw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Is(n);n.L_.add(3),await lu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Cd(n)}async function p4(t,e){const n=ie(t);e?(n.L_.delete(2),await Cd(n)):e||(n.L_.add(2),await lu(n),n.q_.set("Unknown"))}function Vo(t){return t.K_||(t.K_=function(n,r,i){const s=ie(n);return s.w_(),new ZL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:i4.bind(null,t),Ro:s4.bind(null,t),mo:o4.bind(null,t),d_:a4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Cv(t)?Rv(t):t.q_.set("Unknown")):(await t.K_.stop(),cb(t))})),t.K_}function mi(t){return t.U_||(t.U_=function(n,r,i){const s=ie(n);return s.w_(),new e4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c4.bind(null,t),mo:f4.bind(null,t),f_:h4.bind(null,t),g_:d4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xd(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(Ir("AsyncQueue",`${e}: ${t}`),su(t))return new H(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new so(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.W_=new Oe(Z.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class To{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new To(e,n,so.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class g4{constructor(){this.queries=Xw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=Xw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new H(V.ABORTED,"Firestore shutting down"))}}function Xw(){return new $o(t=>LA(t),Sd)}async function Dv(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new m4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=kv(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Nv(n)}async function Ov(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function v4(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Nv(n)}function y4(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Nv(t){t.Y_.forEach(e=>{e.next()})}var $m,Jw;(Jw=$m||($m={})).ea="default",Jw.Cache="cache";class Mv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class mb{constructor(e){this.key=e}}class _4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=jA(e),this.Ra=new so(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Qw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=Id(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?w!==y&&(r.track({type:3,doc:g}),S=!0):this.ga(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),s=y?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,w){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return y(g)-y(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new To(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new mb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new pb(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return To.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class w4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class E4{constructor(e){this.key=e,this.va=!1}}class T4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $o(a=>LA(a),Sd),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(Z.comparator),this.Na=new Map,this.La=new Sv,this.Ba={},this.ka=new Map,this.qa=Eo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function S4(t,e,n=!0){const r=Eb(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await gb(r,e,n,!0),i}async function I4(t,e){const n=Eb(t);await gb(n,e,!0,!1)}async function gb(t,e,n,r){const i=await qL(t.localStore,qn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await A4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lb(t.remoteStore,i),a}async function A4(t,e,n,r,i){t.Ka=(d,f,g)=>async function(y,S,E,_){let I=S.view.ma(E);I.ns&&(I=await qw(y.localStore,S.query,!1).then(({documents:A})=>S.view.ma(A,I)));const P=_&&_.targetChanges.get(S.targetId),O=_&&_.targetMismatches.get(S.targetId)!=null,N=S.view.applyChanges(I,y.isPrimaryClient,P,O);return eE(y,S.targetId,N.wa),N.snapshot}(t,d,f,g);const s=await qw(t.localStore,e,!0),o=new _4(e,s.Ts),a=o.ma(s.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);eE(t,n,c.wa);const h=new w4(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function b4(t,e,n){const r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Sd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bv(r.remoteStore,i.targetId),Vm(r,i.targetId)}).catch(iu)):(Vm(r,i.targetId),await jm(r.localStore,i.targetId,!0))}async function P4(t,e){const n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bv(n.remoteStore,r.targetId))}async function R4(t,e,n){const r=M4(t);try{const i=await function(o,a){const l=ie(o),c=Ke.now(),h=a.reduce((g,w)=>g.add(w.key),le());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Ar(),y=le();return l.cs.getEntries(g,h).next(S=>{w=S,w.forEach((E,_)=>{_.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(S=>{d=S;const E=[];for(const _ of a){const I=QM(_,d.get(_.key).overlayedDocument);I!=null&&E.push(new Ii(_.key,I,RA(I.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(S=>{f=S;const E=S.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(g,S.batchId,E)})}).then(()=>({batchId:f.batchId,changes:VA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Oe(pe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await uu(r,i.changes),await xd(r.remoteStore)}catch(i){const s=kv(i,"Failed to persist write");n.reject(s)}}async function vb(t,e){const n=ie(t);try{const r=await zL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ve(o.va):i.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),await uu(n,r,e)}catch(r){await iu(r)}}function Zw(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&Nv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C4(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(Z.comparator);o=o.insert(s,St.newNoDocument(s,re.min()));const a=le().add(s),l=new Pd(re.min(),new Map,new Oe(pe),o,a);await vb(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Lv(r)}else await jm(r.localStore,e,!1).then(()=>Vm(r,e,n)).catch(iu)}async function x4(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await BL(n.localStore,e);_b(n,r,null),yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,i)}catch(i){await iu(i)}}async function k4(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ve(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);_b(r,e,n),yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uu(r,i)}catch(i){await iu(i)}}function yb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _b(t,e,n){const r=ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||wb(t,r)})}function wb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(bv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Lv(t))}function eE(t,e,n){for(const r of n)r instanceof pb?(t.La.addReference(r.key,e),D4(t,r)):r instanceof mb?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||wb(t,r.key)):ne()}function D4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),Lv(t))}function Lv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Z(be.fromString(e)),r=t.qa.next();t.Na.set(r,new E4(n)),t.Oa=t.Oa.insert(n,r),lb(t.remoteStore,new Qr(qn(Td(n.path)),r,"TargetPurposeLimboResolution",dv.oe))}}async function uu(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Av.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(c,f=>F.forEach(f.$i,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>F.forEach(f.Ui,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!su(d))throw d;Y("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.os.get(f),w=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(f,y)}}}(r.localStore,s))}async function O4(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await ib(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(V.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(n,r.hs)}}function N4(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Eb(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C4.bind(null,e),e.Ca.d_=v4.bind(null,e.eventManager),e.Ca.$a=y4.bind(null,e.eventManager),e}function M4(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return UL(this.persistence,new VL,e.initialUser,this.serializer)}Ga(e){return new LL(Iv.Zr,this.serializer)}Wa(e){return new GL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O4.bind(null,this.syncEngine),await p4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g4}()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),r=function(s){return new JL(s)}(e.databaseInfo);return function(s,o,a,l){return new t4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new r4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Zw(this.syncEngine,n,0),function(){return Gw.D()?new Gw:new YL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new T4(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await lu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=AA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ib(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j4(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Yw(e.remoteStore,i)),t._onlineComponents=e}async function j4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new kh)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new kh);return t._offlineComponents}async function Tb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await tE(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await tE(t,new Fm))),t._onlineComponents}function $4(t){return Tb(t).then(e=>e.syncEngine)}async function Dh(t){const e=await Tb(t),n=e.eventManager;return n.onListen=S4.bind(null,e.syncEngine),n.onUnlisten=b4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P4.bind(null,e.syncEngine),n}function V4(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new jv({next:f=>{h.Za(),o.enqueueAndForget(()=>Ov(s,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new H(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new H(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Mv(Td(a.path),h,{includeMetadataChanges:!0,_a:!0});return Dv(s,d)}(await Dh(t),t.asyncQueue,e,n,r)),r.promise}function F4(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new jv({next:f=>{h.Za(),o.enqueueAndForget(()=>Ov(s,d)),f.fromCache&&l.source==="server"?c.reject(new H(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Mv(a,h,{includeMetadataChanges:!0,_a:!0});return Dv(s,d)}(await Dh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e,n){if(!n)throw new H(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U4(t,e,n,r){if(e===!0&&r===!0)throw new H(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rE(t){if(!Z.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(Z.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kd(t);throw new H(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sM;switch(r.type){case"firstParty":return new uM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),nE.delete(n),r.terminate())}(this),Promise.resolve()}}function B4(t,e,n,r={}){var i;const s=(t=pn(t,Dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Et.MOCK_USER;else{a=dA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(c)}t._authCredentials=new oM(new IA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class li extends Ai{constructor(e,n,r){super(e,n,Td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Z(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function ls(t,e,...n){if(t=tt(t),Ib("collection","path",e),t instanceof Dd){const r=be.fromString(e,...n);return iE(r),new li(t,null,r)}{if(!(t instanceof Nt||t instanceof li))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return iE(r),new li(t.firestore,null,r)}}function br(t,e,...n){if(t=tt(t),arguments.length===1&&(e=AA.newId()),Ib("doc","path",e),t instanceof Dd){const r=be.fromString(e,...n);return rE(r),new Nt(t,null,new Z(r))}{if(!(t instanceof Nt||t instanceof li))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return rE(r),new Nt(t.firestore,t instanceof li?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ob(this,"async_queue_retry"),this.Vu=()=>{const r=ap();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new yr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!su(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=xv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function aE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class gi extends Dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function z4(t,e){const n=typeof t=="object"?t:cv(),r=typeof t=="string"?t:"(default)",i=wd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uA("firestore");s&&B4(i,...s)}return i}function Od(t){if(t._terminated)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W4(t),t._firestoreClient}function W4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new TM(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Sb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new L4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(ht.fromBase64String(e))}catch(n){throw new H(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=/^__.*__$/;class q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class Ab{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Uv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bb(this.Cu)&&H4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class K4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rd(e)}Qu(e,n,r,i=!1){return new Uv({Cu:e,methodName:n,qu:r,path:at.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bv(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new K4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);zv("Data must be an object, but it was:",o,r);const a=Pb(r,o);let l,c;if(s.merge)l=new Jt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=Um(e,d,n);if(!o.contains(f))throw new H(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Cb(h,f)||h.push(f)}l=new Jt(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new q4(new Vt(a),l,c)}class Md extends $v{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function Y4(t,e,n,r){const i=t.Qu(1,e,n);zv("Data must be an object, but it was:",i,r);const s=[],o=Vt.empty();Ss(r,(l,c)=>{const h=Wv(e,l,n);c=tt(c);const d=i.Nu(h);if(c instanceof Md)s.push(h);else{const f=cu(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Jt(s);return new Ab(o,a,i.fieldTransforms)}function Q4(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Um(e,r,n)],l=[i];if(s.length%2!=0)throw new H(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Um(e,s[f])),l.push(s[f+1]);const c=[],h=Vt.empty();for(let f=a.length-1;f>=0;--f)if(!Cb(c,a[f])){const g=a[f];let w=l[f];w=tt(w);const y=o.Nu(g);if(w instanceof Md)c.push(g);else{const S=cu(w,y);S!=null&&(c.push(g),h.set(g,S))}}const d=new Jt(c);return new Ab(h,d,o.fieldTransforms)}function X4(t,e,n,r=!1){return cu(n,t.Qu(r?4:3,e))}function cu(t,e){if(Rb(t=tt(t)))return zv("Unsupported field value:",e,t),Pb(t,e);if(t instanceof $v)return function(r,i){if(!bb(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=cu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:Ch(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(i.serializer,s)}}if(r instanceof Vv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:XA(i.serializer,r._byteString)};if(r instanceof Nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return yv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kd(r)}`)}(t,e)}function Pb(t,e){const n={};return bA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,(r,i)=>{const s=cu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Rb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Vv||t instanceof So||t instanceof Nt||t instanceof $v||t instanceof Fv)}function zv(t,e,n){if(!Rb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Um(t,e,n){if((e=tt(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return Wv(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const J4=new RegExp("[~\\*/\\[\\]]");function Wv(t,e,n){if(e.search(J4)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nd(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(V.INVALID_ARGUMENT,a+t+l)}function Cb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z4 extends xb{data(){return super.data()}}function Hv(t,e){return typeof e=="string"?Wv(t,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class Db extends qv{}function Ob(t,e,...n){let r=[];e instanceof qv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Gv).length,a=s.filter(l=>l instanceof Kv).length;if(o>1||o>0&&a>0)throw new H(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kv extends Db{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kv(e,n,r)}_apply(e){const n=this._parse(e);return Mb(e._query,n),new Ai(e.firestore,e.converter,km(e._query,n))}_parse(e){const n=Bv(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uE(d,h);const g=[];for(const w of d)g.push(lE(l,s,w));f={arrayValue:{values:g}}}else f=lE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uE(d,h),f=X4(a,o,d,h==="in"||h==="not-in");return Be.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Gv extends qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Mb(o,l),o=km(o,l)}(e._query,n),new Ai(e.firestore,e.converter,km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yv extends Db{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cl(s,o)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new jo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Nb(t,e="asc"){const n=e,r=Hv("orderBy",t);return Yv._create(r,n)}function lE(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new H(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MA(e)&&n.indexOf("/")!==-1)throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!Z.isDocumentKey(r))throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cw(t,new Z(r))}if(n instanceof Nt)return Cw(t,n._key);throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(n)}.`)}function uE(t,e){if(!Array.isArray(t)||t.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ej{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ss(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>$e(o.doubleValue));return new Fv(s)}convertGeoPoint(e){return new Vv($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=pi(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);ve(rb(r));const i=new Pl(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Ir(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lb extends xb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vc extends Lb{data(e={}){return super.data(e)}}class jb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vc(this._firestore,this._userDataWriter,r.key,r,new Ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:nj(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){t=pn(t,Nt);const e=pn(t.firestore,gi);return V4(Od(e),t._key).then(n=>Ub(e,t,n))}class Qv extends ej{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function Vb(t){t=pn(t,Ai);const e=pn(t.firestore,gi),n=Od(e),r=new Qv(e);return kb(t._query),F4(n,t._query).then(i=>new jb(e,r,t,i))}function Xv(t,e,n,...r){t=pn(t,Nt);const i=pn(t.firestore,gi),s=Bv(i);let o;return o=typeof(e=tt(e))=="string"||e instanceof Nd?Q4(s,"updateDoc",t._key,e,n,r):Y4(s,"updateDoc",t._key,e),ey(i,[o.toMutation(t._key,kn.exists(!0))])}function Jv(t){return ey(pn(t.firestore,gi),[new _v(t._key,kn.none())])}function Zv(t,e){const n=pn(t.firestore,gi),r=br(t),i=tj(t.converter,e);return ey(n,[G4(Bv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function Fb(t,...e){var n,r,i;t=tt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||aE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(aE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,h;if(t instanceof Nt)c=pn(t.firestore,gi),h=Td(t._key.path),l={next:d=>{e[o]&&e[o](Ub(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pn(t,Ai);c=pn(d.firestore,gi),h=d._query;const f=new Qv(c);l={next:g=>{e[o]&&e[o](new jb(c,f,d,g))},error:e[o+1],complete:e[o+2]},kb(t._query)}return function(f,g,w,y){const S=new jv(y),E=new Mv(g,S,w);return f.asyncQueue.enqueueAndForget(async()=>Dv(await Dh(f),E)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>Ov(await Dh(f),E))}}(Od(c),h,a,l)}function ey(t,e){return function(r,i){const s=new yr;return r.asyncQueue.enqueueAndForget(async()=>R4(await $4(r),i,s)),s.promise}(Od(t),e)}function Ub(t,e,n){const r=n.docs.get(e._key),i=new Qv(t);return new Lb(t,i,e._key,r,new Ua(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Lo=i})(Ts),is(new di("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gi(new aM(r.getProvider("auth-internal")),new hM(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Hn(Iw,"4.7.3",e),Hn(Iw,"4.7.3","esm2017")})();var rj="firebase",ij="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(rj,ij,"app");function ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sj=Bb,zb=new nu("auth","Firebase",Bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new lv("@firebase/auth");function oj(t,...e){Nh.logLevel<=ce.WARN&&Nh.warn(`Auth (${Ts}): ${t}`,...e)}function Fc(t,...e){Nh.logLevel<=ce.ERROR&&Nh.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw ny(t,...e)}function Gn(t,...e){return ny(t,...e)}function Wb(t,e,n){const r=Object.assign(Object.assign({},sj()),{[e]:n});return new nu("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return Wb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zb.create(t,...e)}function ee(t,e,...n){if(!t)throw ny(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fc(e),new Error(e)}function Pr(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aj(){return cE()==="http:"||cE()==="https:"}function cE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aj()||VO()||"connection"in navigator)?navigator.onLine:!0}function uj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=LO()||FO()}get(){return lj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new hu(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bi(t,e,n,r,i={}){return qb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ru(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return $O()||(c.referrerPolicy="no-referrer"),Hb.fetch()(Kb(t,t.config.apiHost,n,a),c)})}async function qb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cj),e);try{const i=new fj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Wb(t,h,c);Nn(t,h)}}catch(i){if(i instanceof tr)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Ld(t,e,n,r,i={}){const s=await bi(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Kb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ry(t.config,i):`${t.config.apiScheme}://${i}`}function dj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),hj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}function hE(t){return t!==void 0&&t.enterprise!==void 0}class pj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mj(t,e){return bi(t,"GET","/v2/recaptchaConfig",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function Gb(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vj(t,e=!1){const n=tt(t),r=await n.getIdToken(e),i=iy(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nl(up(i.auth_time)),issuedAtTime:nl(up(i.iat)),expirationTime:nl(up(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function up(t){return Number(t)*1e3}function iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=aA(n);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dE(t){const e=iy(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&yj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dl(t,Gb(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yb(s.providerUserInfo):[],a=Ej(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function wj(t){const e=tt(t);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ej(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yb(t){return t.map(e=>{var{providerId:n}=e,r=ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){const n=await qb(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Kb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sj(t,e){return bi(t,"POST","/v2/accounts:revokeToken",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=dE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Tj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new oo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _j(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vj(this,e)}reload(){return wj(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Dl(this,gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:P,isAnonymous:O,providerData:N,stsTokenManager:A}=n;ee(I&&A,e,"internal-error");const T=oo.fromJSON(this.name,A);ee(typeof I=="string",e,"internal-error"),jr(d,e.name),jr(f,e.name),ee(typeof P=="boolean",e,"internal-error"),ee(typeof O=="boolean",e,"internal-error"),jr(g,e.name),jr(w,e.name),jr(y,e.name),jr(S,e.name),jr(E,e.name),jr(_,e.name);const b=new mr({uid:I,auth:e,email:f,emailVerified:P,displayName:d,isAnonymous:O,photoURL:w,phoneNumber:g,tenantId:y,stsTokenManager:T,createdAt:E,lastLoginAt:_});return N&&Array.isArray(N)&&(b.providerData=N.map(C=>Object.assign({},C))),S&&(b._redirectEventId=S),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new oo;i.updateFromServerResponse(n);const s=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Yb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new oo;a.updateFromIdToken(r);const l=new mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function gr(t){Pr(t instanceof Function,"Expected a class definition");let e=fE.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qb.type="NONE";const pE=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,e,n){return`firebase:${t}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(gr(pE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(pE);const o=Uc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=mr._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ao(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ao(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nP(e))return"Blackberry";if(rP(e))return"Webos";if(Jb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(tP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xb(t=At()){return/firefox\//i.test(t)}function Jb(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(t=At()){return/crios\//i.test(t)}function eP(t=At()){return/iemobile/i.test(t)}function tP(t=At()){return/android/i.test(t)}function nP(t=At()){return/blackberry/i.test(t)}function rP(t=At()){return/webos/i.test(t)}function sy(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ij(t=At()){var e;return sy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Aj(){return UO()&&document.documentMode===10}function iP(t=At()){return sy(t)||tP(t)||rP(t)||nP(t)||/windows phone/i.test(t)||eP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e=[]){let n;switch(t){case"Browser":n=mE(At());break;case"Worker":n=`${mE(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e={}){return bi(t,"GET","/v2/passwordPolicy",As(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=6;class Cj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Rj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new bj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gb(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(ui(this));const n=e?tt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pj(this),n=new Cj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fo(t){return tt(t)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=YO(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kj(t){jd=t}function oP(t){return jd.loadJS(t)}function Dj(){return jd.recaptchaEnterpriseScript}function Oj(){return jd.gapiScript}function Nj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Mj="recaptcha-enterprise",Lj="NO_RECAPTCHA";class jj{constructor(e){this.type=Mj,this.auth=Fo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{mj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new pj(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;hE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Lj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&hE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Dj();l.length!==0&&(l+=a),oP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function vE(t,e,n,r=!1){const i=new jj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yE(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await vE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){const n=wd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sh(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function Vj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fj(t,e,n){const r=Fo(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=aP(e),{host:o,port:a}=Uj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Bj()}function aP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uj(t){const e=aP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_E(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_E(o)}}}function _E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function zj(t,e){return bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e){return Ld(t,"POST","/v1/accounts:signInWithPassword",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}async function qj(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends oy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ol(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yE(e,n,"signInWithPassword",Wj);case"emailLink":return Hj(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yE(e,r,"signUpPassword",zj);case"emailLink":return qj(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e){return Ld(t,"POST","/v1/accounts:signInWithIdp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="http://localhost";class us extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ty(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new us(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:Kj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yj(t){const e=La(ja(t)).link,n=e?La(ja(e)).deep_link_id:null,r=La(ja(t)).deep_link_id;return(r?La(ja(r)).link:null)||r||n||e||t}class ay{constructor(e){var n,r,i,s,o,a;const l=La(ja(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Gj((i=l.mode)!==null&&i!==void 0?i:null);ee(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Yj(e);try{return new ay(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ay.parseLink(n);return ee(r,"argument-error"),Ol._fromEmailAndCode(e,r.code,r.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends lP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends du{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return us._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends du{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends du{constructor(){super("twitter.com")}static credential(e,n){return us._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mr._fromIdTokenResponse(e,r,i),o=wE(r);return new Io({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wE(r);return new Io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lh(e,n,r,i)}}function uP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,s,e,r):s})}async function Qj(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Io._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(ui(r));const i="reauthenticate";try{const s=await Dl(t,uP(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=iy(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e,n=!1){if(fr(t.app))return Promise.reject(ui(t));const r="signIn",i=await uP(t,r,e),s=await Io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Jj(t,e){return cP(Fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t){const e=Fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function e$(t,e,n){return fr(t.app)?Promise.reject(ui(t)):Jj(tt(t),Uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Zj(t),r})}function t$(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function n$(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=1e3,i$=10;class dP extends hP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Aj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,i$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dP.type="LOCAL";const s$=dP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends hP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fP.type="SESSION";const pP=fP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await o$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ly("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function l$(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function u$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h$(){return mP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebaseLocalStorageDb",d$=1,$h="firebaseLocalStorage",vP="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function f$(){const t=indexedDB.deleteDatabase(gP);return new fu(t).toPromise()}function Wm(){const t=indexedDB.open(gP,d$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:vP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await f$(),e(await Wm()))})})}async function EE(t,e,n){const r=Vd(t,!0).put({[vP]:e,value:n});return new fu(r).toPromise()}async function p$(t,e){const n=Vd(t,!1).get(e),r=await new fu(n).toPromise();return r===void 0?null:r.value}function TE(t,e){const n=Vd(t,!0).delete(e);return new fu(n).toPromise()}const m$=800,g$=3;class yP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(h$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u$(),!this.activeServiceWorker)return;this.sender=new a$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await EE(e,jh,"1"),await TE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vd(i,!1).getAll();return new fu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yP.type="LOCAL";const v$=yP;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e){return e?gr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _$(t){return cP(t.auth,new uy(t),t.bypassAuthState)}function w$(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),Xj(n,new uy(t),t.bypassAuthState)}async function E$(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),Qj(n,new uy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _$;case"linkViaPopup":case"linkViaRedirect":return E$;case"reauthViaPopup":case"reauthViaRedirect":return w$;default:Nn(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=new hu(2e3,1e4);class Js extends _P{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T$.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="pendingRedirect",Bc=new Map;class I$ extends _P{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await A$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A$(t,e){const n=R$(e),r=P$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b$(t,e){Bc.set(t._key(),e)}function P$(t){return gr(t._redirectPersistence)}function R$(t){return Uc(S$,t.config.apiKey,t.name)}async function C$(t,e,n=!1){if(fr(t.app))return Promise.reject(ui(t));const r=Fo(t),i=y$(r,e),o=await new I$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=10*60*1e3;class k${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x$&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M$=/^https?/;async function L$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O$(t);for(const n of e)try{if(j$(n))return}catch{}Nn(t,"unauthorized-domain")}function j$(t){const e=Bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!M$.test(n))return!1;if(N$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=new hu(3e4,6e4);function IE(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function V$(t){return new Promise((e,n)=>{var r,i,s;function o(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Gn(t,"network-request-failed"))},timeout:$$.get()})}if(!((i=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yn().gapi)===null||s===void 0)&&s.load)o();else{const a=Nj("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},oP(`${Oj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zc=null,e})}let zc=null;function F$(t){return zc=zc||V$(t),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=new hu(5e3,15e3),B$="__/auth/iframe",z$="emulator/auth/iframe",W$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q$(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ry(e,z$):`https://${t.config.authDomain}/${B$}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=H$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function K$(t){const e=await F$(t),n=Yn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:q$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=Yn().setTimeout(()=>{s(o)},U$.get());function l(){Yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y$=500,Q$=600,X$="_blank",J$="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z$(t,e,n,r=Y$,i=Q$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},G$),{width:r.toString(),height:i.toString(),top:s,left:o}),c=At().toLowerCase();n&&(a=Zb(c)?X$:n),Xb(c)&&(e=e||J$,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,w])=>`${f}${g}=${w},`,"");if(Ij(c)&&a!=="_self")return eV(e||"",a),new AE(null);const d=window.open(e||"",a,h);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new AE(d)}function eV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="__/auth/handler",nV="emulator/auth/handler",rV=encodeURIComponent("fac");async function bE(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof lP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof du){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${rV}=${encodeURIComponent(l)}`:"";return`${iV(t)}?${ru(a).slice(1)}${c}`}function iV({config:t}){return t.emulator?ry(t,nV):`https://${t.authDomain}/${tV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class sV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pP,this._completeRedirectFn=C$,this._overrideRedirectResult=b$}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await bE(e,n,r,Bm(),i);return Z$(e,o,ly())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bE(e,n,r,Bm(),i);return l$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K$(e),r=new k$(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cp,{type:cp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cp];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iP()||Jb()||sy()}}const oV=sV;var PE="@firebase/auth",RE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uV(t){is(new di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sP(t)},c=new xj(r,i,s,l);return Vj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new di("auth-internal",e=>{const n=Fo(e.getProvider("auth").getImmediate());return(r=>new aV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(PE,RE,lV(t)),Hn(PE,RE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=5*60,hV=hA("authIdTokenMaxAge")||cV;let CE=null;const dV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hV)return;const i=n==null?void 0:n.token;CE!==i&&(CE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fV(t=cv()){const e=wd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$j(t,{popupRedirectResolver:oV,persistence:[v$,s$,pP]}),r=hA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=dV(s.toString());n$(n,o,()=>o(n.currentUser)),t$(n,a=>o(a))}}const i=lA("auth");return i&&Fj(n,`http://${i}`),n}function pV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebasestorage.googleapis.com",mV="storageBucket",gV=2*60*1e3,vV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends tr{constructor(e,n,r=0){super(hp(e),`Firebase Storage: ${n} (${hp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zn||(Zn={}));function hp(t){return"storage/"+t}function yV(){const t="An unknown error occurred, please check the error payload for server response.";return new nr(Zn.UNKNOWN,t)}function _V(){return new nr(Zn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wV(){return new nr(Zn.CANCELED,"User canceled the upload/download.")}function EV(t){return new nr(Zn.INVALID_URL,"Invalid URL '"+t+"'.")}function TV(t){return new nr(Zn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xE(t){return new nr(Zn.INVALID_ARGUMENT,t)}function TP(){return new nr(Zn.APP_DELETED,"The Firebase app was deleted.")}function SV(t){return new nr(Zn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(r.path==="")return r;throw TV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),w={bucket:1,path:3},y=n===EP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",E=new RegExp(`^https?://${y}/${i}/${S}`,"i"),I=[{regex:a,indices:l,postModify:s},{regex:g,indices:w,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<I.length;P++){const O=I[P],N=O.regex.exec(e);if(N){const A=N[O.indices.bucket];let T=N[O.indices.path];T||(T=""),r=new Rn(A,T),O.postModify(r);break}}if(r==null)throw EV(e);return r}}class IV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...S){c||(c=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function f(){s&&clearTimeout(s)}function g(S,...E){if(c){f();return}if(S){f(),h.call(null,S,...E);return}if(l()||o){f(),h.call(null,S,...E);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,d(I)}let w=!1;function y(S){w||(w=!0,f(),!c&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function bV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){return t!==void 0}function kE(t,e,n,r){if(r<e)throw xE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xE(`Invalid value for '${t}'. Expected ${n} or less.`)}function RV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vh||(Vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,i,s,o,a,l,c,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Vh.NO_ERROR,l=s.getStatus();if(!a||CV(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Vh.ABORT;r(!1,new pc(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new pc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());PV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=yV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?TP():wV();o(l)}else{const l=_V();o(l)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=AV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MV(t,e,n,r,i,s,o=!0){const a=RV(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return OV(c,e),kV(c,n),DV(c,s),NV(c,r),new xV(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fh(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jV(this._location.path)}get storage(){return this._service}get parent(){const e=LV(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new Fh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SV(e)}}function DE(t,e){const n=e==null?void 0:e[mV];return n==null?null:Rn.makeFromBucketSpec(n,t)}function $V(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:dA(i,t.app.options.projectId))}class VV{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=EP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gV,this._maxUploadRetryTime=vV,this._requests=new Set,i!=null?this._bucket=Rn.makeFromBucketSpec(i,this._host):this._bucket=DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new IV(TP());{const o=MV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const OE="@firebase/storage",NE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="storage";function FV(t=cv(),e){t=tt(t);const r=wd(t,SP).getImmediate({identifier:e}),i=uA("storage");return i&&UV(r,...i),r}function UV(t,e,n,r={}){$V(t,e,n,r)}function BV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new VV(n,r,i,e,Ts)}function zV(){is(new di(SP,BV,"PUBLIC").setMultipleInstances(!0)),Hn(OE,NE,""),Hn(OE,NE,"esm2017")}zV();const WV={apiKey:"AIzaSyDTHCHn5q9pdbQmzajgFK6r0HjD5-VXEqU",authDomain:"temple-react-35b49.firebaseapp.com",projectId:"temple-react-35b49",storageBucket:"temple-react-35b49.firebasestorage.app",messagingSenderId:"1008580496362",appId:"1:1008580496362:web:233a14641194a36ab94093",measurementId:"G-HNJWDC5N2L"},cy=mA(WV),IP=fV(cy),Dt=z4(cy);FV(cy);function HV(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,a]=j.useState(""),[l,c]=j.useState(!1),h=async f=>{if(f.preventDefault(),!t.trim())return alert("Enter donor name");if(!i||Number(i)<=0)return alert("Enter valid amount");const w=`upi://pay?pa=${encodeURIComponent("110527913001199@cnrb")}&pn=${encodeURIComponent(t)}&am=${i}&cu=INR`;a(w),await Zv(ls(Dt,"donations"),{name:t,spouse:n,amount:Number(i),note:"Donation",timestamp:new Date}),c(!0)},d=()=>{const f=`
 *Temple Donation Confirmation* 

 *Donor Name:* ${t}
 *Spouse:* ${n||"N/A"}
 *Amount:* ${i}

 *Please attach your payment screenshot for verification.*
    `.trim(),g=`https://wa.me/919061218582?text=${encodeURIComponent(f)}`;window.open(g,"_blank")};return m.jsxs("div",{className:"page",style:{maxWidth:720,margin:"auto"},children:[m.jsx("h2",{style:{textAlign:"center",marginBottom:20},children:"Temple Donation"}),m.jsx("table",{style:{width:"100%",background:"#fff",padding:20,borderRadius:14,boxShadow:"0 8px 25px rgba(0,0,0,0.12)"},children:m.jsx("tbody",{children:m.jsx("tr",{children:m.jsx("td",{style:{textAlign:"center"},children:m.jsxs("form",{className:"form",onSubmit:h,style:{margin:"auto",width:"90%",textAlign:"left"},children:[m.jsx("label",{children:"Donor Full Name"}),m.jsx("input",{type:"text",placeholder:"Enter donor name",value:t,onChange:f=>e(f.target.value),required:!0}),m.jsx("label",{children:"Spouse Full Name (Optional)"}),m.jsx("input",{type:"text",placeholder:"Enter spouse name",value:n,onChange:f=>r(f.target.value)}),m.jsx("label",{children:"Donation Amount ()"}),m.jsx("input",{type:"number",placeholder:"Enter amount",value:i,onChange:f=>s(f.target.value),required:!0}),m.jsx("div",{style:{marginTop:15,textAlign:"center"},children:m.jsx("button",{className:"btn primary",type:"submit",children:"Generate UPI QR & Save"})})]})})})})}),o&&m.jsxs("div",{style:{marginTop:25,textAlign:"center"},children:[m.jsx("h3",{children:"Scan & Pay"}),m.jsxs("div",{style:{marginTop:14},children:[m.jsx("div",{style:{background:"#fff",padding:12,borderRadius:8},children:m.jsx(iA,{value:o,size:220})}),m.jsx("p",{style:{marginTop:8,fontWeight:"bold"},children:"Scan to Pay"}),m.jsx("button",{onClick:d,className:"btn primary",style:{marginTop:20},children:"I HAVE PAID  Send Confirmation to WhatsApp"})]})]}),l&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-box",children:[m.jsx("div",{className:"warning-icon",children:""}),m.jsx("h3",{children:"Important Notice"}),m.jsx("p",{children:"After completing the payment, please take a screenshot and send it to our WhatsApp number for confirmation."}),m.jsx("button",{className:"modal-btn",onClick:()=>c(!1),children:"OK, I Understand"})]})})]})}const mc={"Sree Bhadraa Devi":[{name:"Janmanakshathra Archana ( )",price:151},{name:"Devimahathmya Archana ()",price:50},{name:"Purushasooktha Archana ()",price:30},{name:"Kumkumarchana ()",price:30},{name:"Bhagyasooktha Archana ()",price:30},{name:"Ikkyamathya Sooktha Archana",price:30},{name:"Swayamvara Archana",price:30},{name:"Vidhya Sooktha Archana",price:30},{name:"Sahasranama Archana",price:100},{name:"Ashtothara Archana",price:20},{name:"Ishtasooktha Archana",price:30},{name:"Rekthapushpa Archana",price:30},{name:"Guruthi Pushpanjali",price:50},{name:"Bhadra Devi Sooktham",price:50},{name:"Bhadra Devi Kavacham",price:50},{name:"Karya Sidhi",price:300}],"Sree Durga Devi":[{name:"Janmanakshathra Archana",price:151},{name:"Devimahathmya Archana",price:50},{name:"Purushasooktha Archana",price:30},{name:"Kumkumarchana",price:30},{name:"Bhagyasooktha Archana",price:30},{name:"Ikkyamathya Sooktha Archana",price:30},{name:"Swayamvara Archana",price:30},{name:"Vidhya Sooktha Archana",price:30},{name:"Sahasranama Archana",price:100},{name:"Ashtothara Archana",price:20},{name:"Ishtasooktha Archana",price:30},{name:"Rekthapushpa Archana",price:30},{name:"Guruthi Pushpanjali",price:50},{name:"Karya Sidhi",price:300},{name:"Drishti Manthra Archana + Guruthi Pushpanjali",price:50}],Ganapathi:[{name:"Ganapathi Homam",price:600},{name:"Karuka Homam",price:750},{name:"Koottu Ganapathi Homam",price:50},{name:"Ganapathi Sooktham",price:20},{name:"Unniyappam",price:500},{name:"Modakam",price:500}],Nagaraja:[{name:"Ayilya Pooja",price:50},{name:"Nagaroottu",price:3e3},{name:"Nurum Palum",price:50},{name:"Ayilya Archana",price:20},{name:"Naga Sooktham Archana",price:30},{name:"Ashta Naga Manthra Archana",price:30}],Mahadevan:[{name:"Mrithyunjaya Archana",price:50},{name:"Ayu Sooktha Archana",price:50},{name:"Sarppasooktha Archana",price:30},{name:"Purushasooktha Archana (Shiva)",price:30},{name:"Pancha Brahma Archana",price:30},{name:"Bhagyasooktha Archana (Shiva)",price:30},{name:"Sree Rudra Archana",price:30},{name:"Rudra Sooktha Archana",price:30},{name:"Sahasranama Archana (Shiva)",price:30},{name:"Ashtothara Archana (Shiva)",price:20},{name:"Koottu Mrithyunjaya Homam",price:200},{name:"Mrithyunjaya Homam",price:8e3},{name:"Jaladhara (1 pot)",price:50},{name:"Jaladhara (9 pots)",price:300},{name:"Jaladhara (108 pots)",price:1500}],"Special Poojas":[{name:"Aiswarya Pooja (Pournami)",price:50},{name:"Bhagavathi Seva",price:1250},{name:"Kadum Payasam",price:150},{name:"Pal Payasam",price:150},{name:"Kunjoonu",price:251},{name:"Mugha Charthu",price:500},{name:"Munvilakku",price:500},{name:"Vahana Pooja (Two Wheeler)",price:101},{name:"Vahana Pooja (Four Wheeler)",price:250},{name:"Wedding Pooja",price:1001},{name:"Navakalasham",price:5e3},{name:"Ashtadravya Kalasham",price:5e3},{name:"Kalabhishekam",price:6e3},{name:"One Day Pooja",price:5e3},{name:"Kalyana Kuri",price:101},{name:"Single Kalasham",price:500},{name:"Devi Mahatmya Parayanam",price:2e3}]},qV="110527913001199@cnrb",KV="9746269438";function GV(){const[t,e]=j.useState(null),[n,r]=j.useState(""),[i,s]=j.useState(null),[o,a]=j.useState(null),[l,c]=j.useState(!1),[h,d]=j.useState(!1),[f,g]=j.useState(""),[w,y]=j.useState(!1),S=({amount:P,note:O})=>`upi://pay?pa=${encodeURIComponent(qV)}&pn=Sree%20Dev%20Temple&am=${P}&cu=INR&tn=${encodeURIComponent(O)}`,E=async P=>{P.preventDefault(),g(""),d(!1);const O=P.target.name.value.trim(),N=P.target.nakshatra.value.trim(),A=P.target.category.value,T=P.target.type.value,b=P.target.date.value||"",C=P.target.message.value.trim()||"";if(!A)return g("Please select a category.");if(!T)return g("Please select a pooja.");const k=mc[A].find(D=>D.name===T);try{c(!0);const D=await Zv(ls(Dt,"poojaBookings"),{name:O,nakshatra:N,category:A,poojaType:T,date:b,message:C,amount:k.price,status:"payment-pending",timestamp:new Date}),x={id:D.id,name:O,nakshatra:N,category:A,poojaType:T,date:b,amount:k.price};s(D.id),a(x);const G=S({amount:k.price,note:`${T} - ${O}`});r(G),y(!0)}catch(D){console.error(D),g("Error creating booking!")}finally{c(!1)}},_=async()=>{if(!(!i||!o))try{c(!0),await Xv(br(Dt,"poojaBookings",i),{status:"approved",paymentReceived:!0,paymentConfirmedAt:new Date}),d(!0);const P=` *Pooja Booking Confirmed*

 *Name:* ${o.name}
 *Nakshatra:* ${o.nakshatra}
 *Pooja:* ${o.poojaType}
 *Amount:* ${o.amount}
 *Date:* ${o.date||"Not Selected"}
 *Booking ID:* ${i}

 Please attach the payment screenshot for verification.`;window.open(`https://wa.me/${KV}?text=${encodeURIComponent(P)}`,"_blank")}catch(P){console.error(P),g("Failed to confirm payment!")}finally{c(!1)}},I=()=>{e(null),r(""),s(null),a(null),d(!1),g("")};return m.jsxs("div",{className:"page",style:{maxWidth:750,margin:"auto"},children:[m.jsx("style",{children:`
        /* Modal overlay */
        .pb-modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.55);
          backdrop-filter: blur(4px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
        }
        .pb-modal-box {
          width: 92%;
          max-width: 420px;
          background: #fff;
          padding: 26px;
          border-radius: 14px;
          box-shadow: 0 14px 48px rgba(0,0,0,0.3);
          text-align: center;
          animation: pbPopup 0.28s ease;
        }
        .pb-warning-icon {
          font-size: 48px;
          margin-bottom: 8px;
          color: #d9830f;
        }
        .pb-modal-box h3 {
          margin: 6px 0 8px;
          color: #d9830f;
          font-size: 20px;
          font-weight: 800;
        }
        .pb-modal-box p {
          color: #333;
          font-size: 15px;
          line-height: 1.6;
        }
        .pb-modal-btn {
          margin-top: 18px;
          padding: 10px 22px;
          background: linear-gradient(135deg,#d4af37,#b8860b);
          border: none;
          color: #fff;
          border-radius: 9px;
          font-weight: 700;
          cursor: pointer;
          transition: transform .12s;
        }
        .pb-modal-btn:hover { transform: scale(1.02); }
        @keyframes pbPopup {
          from { transform: scale(.86); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
      `}),m.jsx("h2",{style:{textAlign:"center",marginBottom:20},children:"Book a Pooja Online"}),m.jsxs("form",{onSubmit:E,className:"form",style:{background:"#fff",padding:20,borderRadius:14,boxShadow:"0 8px 20px rgba(0,0,0,0.12)"},children:[m.jsx("label",{children:"Full Name"}),m.jsx("input",{name:"name",required:!0,placeholder:"Enter Full Name"}),m.jsx("label",{style:{marginTop:10},children:"Nakshatra"}),m.jsx("input",{name:"nakshatra",required:!0,placeholder:"Nakshatra"}),m.jsx("label",{style:{marginTop:10},children:"Select Category"}),m.jsxs("select",{name:"category",required:!0,onChange:()=>e(null),children:[m.jsx("option",{value:"",children:"-- Select Category --"}),Object.keys(mc).map(P=>m.jsx("option",{value:P,children:P},P))]}),m.jsx("label",{style:{marginTop:10},children:"Select Pooja"}),m.jsxs("select",{name:"type",required:!0,onChange:P=>{var A;const O=P.target.form.category.value,N=(A=mc[O])==null?void 0:A.find(T=>T.name===P.target.value);e(N)},children:[m.jsx("option",{value:"",children:"-- Select Pooja --"}),Object.entries(mc).map(([P,O])=>m.jsx("optgroup",{label:P,children:O.map(N=>m.jsxs("option",{value:N.name,children:[N.name,"  ",N.price]},N.name))},P))]}),t&&m.jsxs("p",{style:{marginTop:10,fontWeight:700,color:"#b35a00"},children:["Selected Pooja Fee  ",t.price]}),m.jsx("label",{style:{marginTop:10},children:"Date of pooja"}),m.jsx("input",{type:"date",name:"date"}),m.jsx("label",{style:{marginTop:10},children:"Special Request"}),m.jsx("textarea",{name:"message",rows:"3",placeholder:"Add any special request..."}),m.jsxs("div",{style:{marginTop:15,display:"flex",gap:10},children:[m.jsx("button",{className:"btn primary",disabled:l,children:l?"Processing...":"Generate QR"}),m.jsx("button",{type:"button",className:"btn ghost",onClick:I,children:"Reset"})]})]}),f&&m.jsx("p",{style:{color:"red",textAlign:"center",marginTop:12},children:f}),n&&o&&m.jsxs("div",{style:{marginTop:30,textAlign:"center"},children:[m.jsx("h3",{children:"Scan & Pay (UPI)"}),m.jsxs("div",{style:{marginTop:15,display:"flex",gap:20,justifyContent:"center",flexWrap:"wrap"},children:[m.jsx("div",{style:{background:"#fff",padding:12,borderRadius:8},children:m.jsx(iA,{value:n,size:200})}),m.jsxs("div",{style:{textAlign:"left"},children:[m.jsxs("p",{children:[m.jsx("b",{children:"Name:"})," ",o.name]}),m.jsxs("p",{children:[m.jsx("b",{children:"Pooja:"})," ",o.poojaType]}),m.jsxs("p",{children:[m.jsx("b",{children:"Amount:"})," ",o.amount]}),m.jsx("button",{className:"btn primary",style:{marginTop:12},onClick:_,disabled:h,children:h?"Payment Confirmed ":"I Have Paid"})]})]})]}),m.jsxs("div",{style:{marginTop:40,background:"#fff8e6",padding:20,borderRadius:14,lineHeight:1.7,maxHeight:280,overflowY:"auto",boxShadow:"0 6px 14px rgba(0,0,0,0.12)",whiteSpace:"pre-line"},children:[m.jsx("h3",{style:{color:"#b35a00"},children:"  "}),`
   

    ()      .

       .

    ,       .

          .

      .
        `]}),w&&m.jsx("div",{className:"pb-modal-overlay","aria-modal":"true",role:"dialog",children:m.jsxs("div",{className:"pb-modal-box",children:[m.jsx("div",{className:"pb-warning-icon",children:""}),m.jsx("h3",{children:"Important Notice"}),m.jsx("p",{style:{marginTop:8},children:"Please send the payment screenshot on WhatsApp after making the payment."}),m.jsx("button",{className:"pb-modal-btn",onClick:()=>y(!1),children:"OK, I Understand"})]})})]})}function Mn(t){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}function YV(t,e){if(Mn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t){var e=YV(t,"string");return Mn(e)=="symbol"?e:e+""}function zi(t,e,n){return(e=AP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fd(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function er(t,e){if(t==null)return{};var n,r,i=Fd(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AP(r.key),r)}}function Ye(t,e,n){return e&&LE(t.prototype,e),n&&LE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uh(t)}function bP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!t})()}function QV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(t,e){if(e&&(Mn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(t)}function bt(t,e,n){return e=Uh(e),XV(t,bP()?Reflect.construct(e,n||[],Uh(t).constructor):e.apply(t,n))}function Bh(t,e){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bh(t,e)}function Pt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bh(t,e)}function PP(t){if(Array.isArray(t))return t}function JV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Hm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hy(t,e){if(t){if(typeof t=="string")return Hm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hm(t,e):void 0}}function RP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cs(t,e){return PP(t)||JV(t,e)||hy(t,e)||RP()}function CP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=CP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function je(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=CP(t))&&(r&&(r+=" "),r+=e);return r}function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Le.apply(null,arguments)}var ZV=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},e3=ZV;const Nl=Kt(e3);var t3=function(){};function n3(t,e){var n={};return Object.keys(t).forEach(function(r){n[Wc(r)]=t3}),n}function jE(t,e){return t[e]!==void 0}function Wc(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function r3(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function i3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bh(t,e)}function xP(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function kP(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function DP(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}xP.__suppressDeprecationWarning=!0;kP.__suppressDeprecationWarning=!0;DP.__suppressDeprecationWarning=!0;function s3(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=xP,e.componentWillReceiveProps=kP),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=DP;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,h,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,c,h,f)}}return t}var o3="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function OP(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=r3(t),s=Object.keys(e),o=s.map(Wc);i||!n.length||Nl(!1);var a=function(c){i3(h,c);function h(){for(var f,g=arguments.length,w=new Array(g),y=0;y<g;y++)w[y]=arguments[y];f=c.call.apply(c,[this].concat(w))||this,f.handlers=Object.create(null),s.forEach(function(E){var _=e[E],I=function(O){if(f.props[_]){var N;f._notifying=!0;for(var A=arguments.length,T=new Array(A>1?A-1:0),b=1;b<A;b++)T[b-1]=arguments[b];(N=f.props)[_].apply(N,[O].concat(T)),f._notifying=!1}f.unmounted||f.setState(function(C){var k,D=C.values;return{values:Le(Object.create(null),D,(k={},k[E]=O,k))}})};f.handlers[_]=I}),n.length&&(f.attachRef=function(E){f.inner=E});var S=Object.create(null);return s.forEach(function(E){S[E]=f.props[Wc(E)]}),f.state={values:S,prevProps:{}},f}var d=h.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},h.getDerivedStateFromProps=function(g,w){var y=w.values,S=w.prevProps,E={values:Le(Object.create(null),y),prevProps:{}};return s.forEach(function(_){E.prevProps[_]=g[_],!jE(g,_)&&jE(S,_)&&(E.values[_]=g[Wc(_)])}),E},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var g=this,w=this.props,y=w.innerRef,S=Fd(w,["innerRef"]);o.forEach(function(_){delete S[_]});var E={};return s.forEach(function(_){var I=g.props[_];E[_]=I!==void 0?I:g.state.values[_]}),M.createElement(t,Le({},S,E,this.handlers,{ref:y||this.attachRef}))},h}(M.Component);s3(a),a.displayName="Uncontrolled("+r+")",a.propTypes=Le({innerRef:function(){}},n3(e)),n.forEach(function(c){a.prototype[c]=function(){var d;return(d=this.inner)[c].apply(d,arguments)}});var l=a;return M.forwardRef&&(l=M.forwardRef(function(c,h){return M.createElement(a,Le({},c,{innerRef:h,__source:{fileName:o3,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,h,d){return h===void 0&&(h={}),OP(c,Le({},e,h),d)},l}var zh="milliseconds",Ml="seconds",Ll="minutes",jl="hours",hs="day",Ao="week",$l="month",ds="year",fs="decade",ps="century",NP={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},a3={month:1,year:12,decade:10*12,century:100*12};function l3(t){return[31,u3(t),31,30,31,30,31,31,30,31,30,31]}function u3(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Ln(t,e,n){switch(t=new Date(t),n){case zh:case Ml:case Ll:case jl:case hs:case Ao:return c3(t,e*NP[n]);case $l:case ds:case fs:case ps:return h3(t,e*a3[n])}throw new TypeError('Invalid units: "'+n+'"')}function c3(t,e){var n=new Date(+t+e);return d3(t,n)}function h3(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),s=n*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(i,l3(o)[a]),c=new Date(t);return c.setFullYear(o),c.setDate(1),c.setMonth(a),c.setDate(l),c}function d3(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*NP.minutes)}function Vl(t,e,n){return Ln(t,-e,n)}function dt(t,e,n){switch(t=new Date(t),e){case ps:case fs:case ds:t=Hh(t,0);case $l:t=VP(t,1);case Ao:case hs:t=Bl(t,0);case jl:t=bo(t,0);case Ll:t=Ul(t,0);case Ml:t=Fl(t,0)}return e===fs&&(t=Vl(t,ms(t)%10,"year")),e===ps&&(t=Vl(t,ms(t)%100,"year")),e===Ao&&(t=FP(t,0,n)),t}function Wh(t,e,n){switch(t=new Date(t),t=dt(t,e,n),e){case ps:case fs:case ds:case $l:case Ao:t=Ln(t,1,e),t=Vl(t,1,hs),t.setHours(23,59,59,999);break;case hs:t.setHours(23,59,59,999);break;case jl:case Ll:case Ml:t=Ln(t,1,e),t=Vl(t,1,zh)}return t}var Bo=Wo(function(t,e){return t===e}),dy=Wo(function(t,e){return t!==e}),Ud=Wo(function(t,e){return t>e}),pu=Wo(function(t,e){return t>=e}),fy=Wo(function(t,e){return t<e}),zo=Wo(function(t,e){return t<=e});function MP(){return new Date(Math.min.apply(Math,arguments))}function LP(){return new Date(Math.max.apply(Math,arguments))}function jP(t,e,n,r){return r=r||"day",(!e||pu(t,e,r))&&(!n||zo(t,n,r))}var Fl=Pi("Milliseconds"),Ul=Pi("Seconds"),bo=Pi("Minutes"),Bl=Pi("Hours"),$P=Pi("Day"),VP=Pi("Date"),Hh=Pi("Month"),ms=Pi("FullYear");function f3(t,e){return e===void 0?ms(dt(t,fs)):Ln(t,e+10,ds)}function p3(t,e){return e===void 0?ms(dt(t,ps)):Ln(t,e+100,ds)}function FP(t,e,n){var r=($P(t)+7-(n||0))%7;return e===void 0?r:Ln(t,e-r,hs)}function m3(t,e,n,r){var i,s,o;switch(n){case zh:case Ml:case Ll:case jl:case hs:case Ao:i=e.getTime()-t.getTime();break;case $l:case ds:case fs:case ps:i=(ms(e)-ms(t))*12+Hh(e)-Hh(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case zh:s=1;break;case Ml:s=1e3;break;case Ll:s=1e3*60;break;case jl:s=1e3*60*60;break;case hs:s=1e3*60*60*24;break;case Ao:s=1e3*60*60*24*7;break;case $l:s=1;break;case ds:s=12;break;case fs:s=120;break;case ps:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Pi(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function Wo(t){return function(e,n,r){return t(+dt(e,r),+dt(n,r))}}const $E=Object.freeze(Object.defineProperty({__proto__:null,add:Ln,century:p3,date:VP,day:$P,decade:f3,diff:m3,endOf:Wh,eq:Bo,gt:Ud,gte:pu,hours:Bl,inRange:jP,lt:fy,lte:zo,max:LP,milliseconds:Fl,min:MP,minutes:bo,month:Hh,neq:dy,seconds:Ul,startOf:dt,subtract:Vl,weekday:FP,year:ms},Symbol.toStringTag,{value:"Module"}));function g3(t){if(Array.isArray(t))return Hm(t)}function UP(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hc(t){return g3(t)||UP(t)||hy(t)||v3()}function y3(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var BP=y3;function _3(t,e){return t===e||t!==t&&e!==e}var mu=_3,w3=typeof hn=="object"&&hn&&hn.Object===Object&&hn,zP=w3,E3=zP,T3=typeof self=="object"&&self&&self.Object===Object&&self,S3=E3||T3||Function("return this")(),rr=S3,I3=rr,A3=I3.Symbol,Ho=A3,VE=Ho,WP=Object.prototype,b3=WP.hasOwnProperty,P3=WP.toString,Pa=VE?VE.toStringTag:void 0;function R3(t){var e=b3.call(t,Pa),n=t[Pa];try{t[Pa]=void 0;var r=!0}catch{}var i=P3.call(t);return r&&(e?t[Pa]=n:delete t[Pa]),i}var C3=R3,x3=Object.prototype,k3=x3.toString;function D3(t){return k3.call(t)}var O3=D3,FE=Ho,N3=C3,M3=O3,L3="[object Null]",j3="[object Undefined]",UE=FE?FE.toStringTag:void 0;function $3(t){return t==null?t===void 0?j3:L3:UE&&UE in Object(t)?N3(t):M3(t)}var qo=$3;function V3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xr=V3,F3=qo,U3=xr,B3="[object AsyncFunction]",z3="[object Function]",W3="[object GeneratorFunction]",H3="[object Proxy]";function q3(t){if(!U3(t))return!1;var e=F3(t);return e==z3||e==W3||e==B3||e==H3}var py=q3,K3=9007199254740991;function G3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=K3}var my=G3,Y3=py,Q3=my;function X3(t){return t!=null&&Q3(t.length)&&!Y3(t)}var gu=X3,J3=9007199254740991,Z3=/^(?:0|[1-9]\d*)$/;function eF(t,e){var n=typeof t;return e=e??J3,!!e&&(n=="number"||n!="symbol"&&Z3.test(t))&&t>-1&&t%1==0&&t<e}var gy=eF,tF=mu,nF=gu,rF=gy,iF=xr;function sF(t,e,n){if(!iF(n))return!1;var r=typeof e;return(r=="number"?nF(n)&&rF(e,n.length):r=="string"&&e in n)?tF(n[e],t):!1}var Bd=sF,oF=/\s/;function aF(t){for(var e=t.length;e--&&oF.test(t.charAt(e)););return e}var lF=aF,uF=lF,cF=/^\s+/;function hF(t){return t&&t.slice(0,uF(t)+1).replace(cF,"")}var dF=hF;function fF(t){return t!=null&&typeof t=="object"}var Ri=fF,pF=qo,mF=Ri,gF="[object Symbol]";function vF(t){return typeof t=="symbol"||mF(t)&&pF(t)==gF}var vu=vF,yF=dF,BE=xr,_F=vu,zE=NaN,wF=/^[-+]0x[0-9a-f]+$/i,EF=/^0b[01]+$/i,TF=/^0o[0-7]+$/i,SF=parseInt;function IF(t){if(typeof t=="number")return t;if(_F(t))return zE;if(BE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=BE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yF(t);var n=EF.test(t);return n||TF.test(t)?SF(t.slice(2),n?2:8):wF.test(t)?zE:+t}var AF=IF,bF=AF,WE=1/0,PF=17976931348623157e292;function RF(t){if(!t)return t===0?t:0;if(t=bF(t),t===WE||t===-WE){var e=t<0?-1:1;return e*PF}return t===t?t:0}var HP=RF,CF=HP;function xF(t){var e=CF(t),n=e%1;return e===e?n?e-n:e:0}var qP=xF,kF=BP,DF=Bd,OF=qP,NF=Math.ceil,MF=Math.max;function LF(t,e,n){(n?DF(t,e,n):e===void 0)?e=1:e=MF(OF(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(NF(r/e));i<r;)o[s++]=kF(t,i,i+=e);return o}var jF=LF;const $F=Kt(jF);function yu(t){return t&&t.ownerDocument||document}function VF(t){var e=yu(t);return e&&e.defaultView||window}function FF(t,e){return VF(t).getComputedStyle(t,e)}var UF=/([A-Z])/g;function BF(t){return t.replace(UF,"-$1").toLowerCase()}var zF=/^ms-/;function gc(t){return BF(t).replace(zF,"-ms-")}var WF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function HF(t){return!!(t&&WF.test(t))}function Vs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(gc(e))||FF(t).getPropertyValue(gc(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(gc(i)):HF(i)?r+=i+"("+s+") ":n+=gc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function zl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function qF(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function vy(t){return"window"in t&&t.window===t?t:qF(t)&&t.defaultView||!1}function KP(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=vy(r);if(i===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],i):r[e]=i}return n}const GP=KP("pageXOffset"),YP=KP("pageYOffset");function Xi(t){var e=yu(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!zl(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+YP(r)-(r.clientTop||0),left:n.left+GP(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var KF=function(e){return!!e&&"offsetParent"in e};function GF(t){for(var e=yu(t),n=t&&t.offsetParent;KF(n)&&n.nodeName!=="HTML"&&Vs(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var YF=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function QP(t,e){var n={top:0,left:0},r;if(Vs(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||GF(t);r=Xi(t),YF(i)!=="html"&&(n=Xi(i));var s=String(Vs(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-YP(i)||0;var o=String(Vs(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-GP(i)||0}var a=String(Vs(t,"marginTop")||0),l=String(Vs(t,"marginLeft")||0);return Le({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const yy=!!(typeof window<"u"&&window.document&&window.document.createElement);var HE=new Date().getTime();function QF(t){var e=new Date().getTime(),n=Math.max(0,16-(e-HE)),r=setTimeout(t,n);return HE=e,r}var XF=["","webkit","moz","o","ms"],qm="clearTimeout",Km=QF,qE=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};yy&&XF.some(function(t){var e=qE(t,"request");return e in window&&(qm=qE(t,"cancel"),Km=function(r){return window[e](r)}),!!Km});var KE=function(e){typeof window[qm]=="function"&&window[qm](e)},XP=Km,dp;function JF(t,e){if(!dp){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;dp=function(s,o){return r.call(s,o)}}return dp(t,e)}var ZF=Function.prototype.bind.call(Function.prototype.call,[].slice);function eU(t,e){return ZF(t.querySelectorAll(e))}var Gm=!1,Ym=!1;try{var fp={get passive(){return Gm=!0},get once(){return Ym=Gm=!0}};yy&&(window.addEventListener("test",fp,fp),window.removeEventListener("test",fp,!0))}catch{}function tU(t,e,n,r){if(r&&typeof r!="boolean"&&!Ym){var i=r.once,s=r.capture,o=n;!Ym&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Gm?r:s)}t.addEventListener(e,n,r)}function nU(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e}function GE(t){const e=nU(t);return j.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function YE(){return j.useState(null)}function rU(){const t=j.useRef(!0),e=j.useRef(()=>t.current);return j.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function iU(t){const e=rU();return[t[0],j.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Wt="top",vn="bottom",yn="right",Ht="left",_y="auto",_u=[Wt,vn,yn,Ht],Po="start",Wl="end",sU="clippingParents",JP="viewport",Ra="popper",oU="reference",QE=_u.reduce(function(t,e){return t.concat([e+"-"+Po,e+"-"+Wl])},[]),wy=[].concat(_u,[_y]).reduce(function(t,e){return t.concat([e,e+"-"+Po,e+"-"+Wl])},[]),aU="beforeRead",lU="read",uU="afterRead",cU="beforeMain",hU="main",dU="afterMain",fU="beforeWrite",pU="write",mU="afterWrite",gU=[aU,lU,uU,cU,hU,dU,fU,pU,mU];function Qn(t){return t.split("-")[0]}function tn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function gs(t){var e=tn(t).Element;return t instanceof e||t instanceof Element}function Xn(t){var e=tn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ey(t){if(typeof ShadowRoot>"u")return!1;var e=tn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ji=Math.max,qh=Math.min,Ro=Math.round;function Qm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ZP(){return!/^((?!chrome|android).)*safari/i.test(Qm())}function Co(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Xn(t)&&(i=t.offsetWidth>0&&Ro(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ro(r.height)/t.offsetHeight||1);var o=gs(t)?tn(t):window,a=o.visualViewport,l=!ZP()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c,x:c,y:h}}function Ty(t){var e=Co(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function eR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ey(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vi(t){return t?(t.nodeName||"").toLowerCase():null}function Rr(t){return tn(t).getComputedStyle(t)}function vU(t){return["table","td","th"].indexOf(vi(t))>=0}function Ci(t){return((gs(t)?t.ownerDocument:t.document)||window.document).documentElement}function zd(t){return vi(t)==="html"?t:t.assignedSlot||t.parentNode||(Ey(t)?t.host:null)||Ci(t)}function XE(t){return!Xn(t)||Rr(t).position==="fixed"?null:t.offsetParent}function yU(t){var e=/firefox/i.test(Qm()),n=/Trident/i.test(Qm());if(n&&Xn(t)){var r=Rr(t);if(r.position==="fixed")return null}var i=zd(t);for(Ey(i)&&(i=i.host);Xn(i)&&["html","body"].indexOf(vi(i))<0;){var s=Rr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function wu(t){for(var e=tn(t),n=XE(t);n&&vU(n)&&Rr(n).position==="static";)n=XE(n);return n&&(vi(n)==="html"||vi(n)==="body"&&Rr(n).position==="static")?e:n||yU(t)||e}function Sy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rl(t,e,n){return Ji(t,qh(e,n))}function _U(t,e,n){var r=rl(t,e,n);return r>n?n:r}function tR(){return{top:0,right:0,bottom:0,left:0}}function nR(t){return Object.assign({},tR(),t)}function rR(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,nR(typeof e!="number"?e:rR(e,_u))};function EU(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Qn(n.placement),l=Sy(a),c=[Ht,yn].indexOf(a)>=0,h=c?"height":"width";if(!(!s||!o)){var d=wU(i.padding,n),f=Ty(s),g=l==="y"?Wt:Ht,w=l==="y"?vn:yn,y=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],S=o[l]-n.rects.reference[l],E=wu(s),_=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,I=y/2-S/2,P=d[g],O=_-f[h]-d[w],N=_/2-f[h]/2+I,A=rl(P,N,O),T=l;n.modifiersData[r]=(e={},e[T]=A,e.centerOffset=A-N,e)}}function TU(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||eR(e.elements.popper,i)&&(e.elements.arrow=i))}const SU={name:"arrow",enabled:!0,phase:"main",fn:EU,effect:TU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xo(t){return t.split("-")[1]}var IU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function AU(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ro(n*i)/i||0,y:Ro(r*i)/i||0}}function JE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,w=o.y,y=w===void 0?0:w,S=typeof h=="function"?h({x:g,y}):{x:g,y};g=S.x,y=S.y;var E=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),I=Ht,P=Wt,O=window;if(c){var N=wu(n),A="clientHeight",T="clientWidth";if(N===tn(n)&&(N=Ci(n),Rr(N).position!=="static"&&a==="absolute"&&(A="scrollHeight",T="scrollWidth")),N=N,i===Wt||(i===Ht||i===yn)&&s===Wl){P=vn;var b=d&&N===O&&O.visualViewport?O.visualViewport.height:N[A];y-=b-r.height,y*=l?1:-1}if(i===Ht||(i===Wt||i===vn)&&s===Wl){I=yn;var C=d&&N===O&&O.visualViewport?O.visualViewport.width:N[T];g-=C-r.width,g*=l?1:-1}}var k=Object.assign({position:a},c&&IU),D=h===!0?AU({x:g,y},tn(n)):{x:g,y};if(g=D.x,y=D.y,l){var x;return Object.assign({},k,(x={},x[P]=_?"0":"",x[I]=E?"0":"",x.transform=(O.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",x))}return Object.assign({},k,(e={},e[P]=_?y+"px":"",e[I]=E?g+"px":"",e.transform="",e))}function bU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Qn(e.placement),variation:xo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,JE(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,JE(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const PU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bU,data:{}};var vc={passive:!0};function RU(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=tn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",n.update,vc)}),a&&l.addEventListener("resize",n.update,vc),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",n.update,vc)}),a&&l.removeEventListener("resize",n.update,vc)}}const CU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:RU,data:{}};var xU={left:"right",right:"left",bottom:"top",top:"bottom"};function qc(t){return t.replace(/left|right|bottom|top/g,function(e){return xU[e]})}var kU={start:"end",end:"start"};function ZE(t){return t.replace(/start|end/g,function(e){return kU[e]})}function Iy(t){var e=tn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ay(t){return Co(Ci(t)).left+Iy(t).scrollLeft}function DU(t,e){var n=tn(t),r=Ci(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=ZP();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Ay(t),y:l}}function OU(t){var e,n=Ci(t),r=Iy(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ji(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ji(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ay(t),l=-r.scrollTop;return Rr(i||n).direction==="rtl"&&(a+=Ji(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function by(t){var e=Rr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function iR(t){return["html","body","#document"].indexOf(vi(t))>=0?t.ownerDocument.body:Xn(t)&&by(t)?t:iR(zd(t))}function il(t,e){var n;e===void 0&&(e=[]);var r=iR(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=tn(r),o=i?[s].concat(s.visualViewport||[],by(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(il(zd(o)))}function Xm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function NU(t,e){var n=Co(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function e1(t,e,n){return e===JP?Xm(DU(t,n)):gs(e)?NU(e,n):Xm(OU(Ci(t)))}function MU(t){var e=il(zd(t)),n=["absolute","fixed"].indexOf(Rr(t).position)>=0,r=n&&Xn(t)?wu(t):t;return gs(r)?e.filter(function(i){return gs(i)&&eR(i,r)&&vi(i)!=="body"}):[]}function LU(t,e,n,r){var i=e==="clippingParents"?MU(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var h=e1(t,c,r);return l.top=Ji(h.top,l.top),l.right=qh(h.right,l.right),l.bottom=qh(h.bottom,l.bottom),l.left=Ji(h.left,l.left),l},e1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function sR(t){var e=t.reference,n=t.element,r=t.placement,i=r?Qn(r):null,s=r?xo(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Wt:l={x:o,y:e.y-n.height};break;case vn:l={x:o,y:e.y+e.height};break;case yn:l={x:e.x+e.width,y:a};break;case Ht:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Sy(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case Po:l[c]=l[c]-(e[h]/2-n[h]/2);break;case Wl:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function Hl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?sU:a,c=n.rootBoundary,h=c===void 0?JP:c,d=n.elementContext,f=d===void 0?Ra:d,g=n.altBoundary,w=g===void 0?!1:g,y=n.padding,S=y===void 0?0:y,E=nR(typeof S!="number"?S:rR(S,_u)),_=f===Ra?oU:Ra,I=t.rects.popper,P=t.elements[w?_:f],O=LU(gs(P)?P:P.contextElement||Ci(t.elements.popper),l,h,o),N=Co(t.elements.reference),A=sR({reference:N,element:I,placement:i}),T=Xm(Object.assign({},I,A)),b=f===Ra?T:N,C={top:O.top-b.top+E.top,bottom:b.bottom-O.bottom+E.bottom,left:O.left-b.left+E.left,right:b.right-O.right+E.right},k=t.modifiersData.offset;if(f===Ra&&k){var D=k[i];Object.keys(C).forEach(function(x){var G=[yn,vn].indexOf(x)>=0?1:-1,Q=[Wt,vn].indexOf(x)>=0?"y":"x";C[x]+=D[Q]*G})}return C}function jU(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?wy:l,h=xo(r),d=h?a?QE:QE.filter(function(w){return xo(w)===h}):_u,f=d.filter(function(w){return c.indexOf(w)>=0});f.length===0&&(f=d);var g=f.reduce(function(w,y){return w[y]=Hl(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[Qn(y)],w},{});return Object.keys(g).sort(function(w,y){return g[w]-g[y]})}function $U(t){if(Qn(t)===_y)return[];var e=qc(t);return[ZE(t),e,ZE(e)]}function VU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,w=g===void 0?!0:g,y=n.allowedAutoPlacements,S=e.options.placement,E=Qn(S),_=E===S,I=l||(_||!w?[qc(S)]:$U(S)),P=[S].concat(I).reduce(function(pt,Qe){return pt.concat(Qn(Qe)===_y?jU(e,{placement:Qe,boundary:h,rootBoundary:d,padding:c,flipVariations:w,allowedAutoPlacements:y}):Qe)},[]),O=e.rects.reference,N=e.rects.popper,A=new Map,T=!0,b=P[0],C=0;C<P.length;C++){var k=P[C],D=Qn(k),x=xo(k)===Po,G=[Wt,vn].indexOf(D)>=0,Q=G?"width":"height",X=Hl(e,{placement:k,boundary:h,rootBoundary:d,altBoundary:f,padding:c}),te=G?x?yn:Ht:x?vn:Wt;O[Q]>N[Q]&&(te=qc(te));var B=qc(te),q=[];if(s&&q.push(X[D]<=0),a&&q.push(X[te]<=0,X[B]<=0),q.every(function(pt){return pt})){b=k,T=!1;break}A.set(k,q)}if(T)for(var J=w?3:1,ae=function(Qe){var Rt=P.find(function(jt){var ir=A.get(jt);if(ir)return ir.slice(0,Qe).every(function(Zo){return Zo})});if(Rt)return b=Rt,"break"},se=J;se>0;se--){var ue=ae(se);if(ue==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const FU={name:"flip",enabled:!0,phase:"main",fn:VU,requiresIfExists:["offset"],data:{_skip:!1}};function t1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function n1(t){return[Wt,yn,vn,Ht].some(function(e){return t[e]>=0})}function UU(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Hl(e,{elementContext:"reference"}),a=Hl(e,{altBoundary:!0}),l=t1(o,r),c=t1(a,i,s),h=n1(l),d=n1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}const BU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:UU};function zU(t,e,n){var r=Qn(t),i=[Ht,Wt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Ht,yn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function WU(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=wy.reduce(function(h,d){return h[d]=zU(d,e.rects,s),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const HU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:WU};function qU(t){var e=t.state,n=t.name;e.modifiersData[n]=sR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const KU={name:"popperOffsets",enabled:!0,phase:"read",fn:qU,data:{}};function GU(t){return t==="x"?"y":"x"}function YU(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,w=n.tetherOffset,y=w===void 0?0:w,S=Hl(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),E=Qn(e.placement),_=xo(e.placement),I=!_,P=Sy(E),O=GU(P),N=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,b=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,C=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(N){if(s){var x,G=P==="y"?Wt:Ht,Q=P==="y"?vn:yn,X=P==="y"?"height":"width",te=N[P],B=te+S[G],q=te-S[Q],J=g?-T[X]/2:0,ae=_===Po?A[X]:T[X],se=_===Po?-T[X]:-A[X],ue=e.elements.arrow,pt=g&&ue?Ty(ue):{width:0,height:0},Qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:tR(),Rt=Qe[G],jt=Qe[Q],ir=rl(0,A[X],pt[X]),Zo=I?A[X]/2-J-ir-Rt-C.mainAxis:ae-ir-Rt-C.mainAxis,Ps=I?-A[X]/2+J+ir+jt+C.mainAxis:se+ir+jt+C.mainAxis,kr=e.elements.arrow&&wu(e.elements.arrow),ea=kr?P==="y"?kr.clientTop||0:kr.clientLeft||0:0,Rs=(x=k==null?void 0:k[P])!=null?x:0,ta=te+Zo-Rs-ea,na=te+Ps-Rs,ra=rl(g?qh(B,ta):B,te,g?Ji(q,na):q);N[P]=ra,D[P]=ra-te}if(a){var bu,uf=P==="x"?Wt:Ht,Pu=P==="x"?vn:yn,En=N[O],xi=O==="y"?"height":"width",Ru=En+S[uf],Cs=En-S[Pu],ki=[Wt,Ht].indexOf(E)!==-1,ia=(bu=k==null?void 0:k[O])!=null?bu:0,We=ki?Ru:En-A[xi]-T[xi]-ia+C.altAxis,Xe=ki?En+A[xi]+T[xi]-ia-C.altAxis:Cs,Di=g&&ki?_U(We,En,Xe):rl(g?We:Ru,En,g?Xe:Cs);N[O]=Di,D[O]=Di-En}e.modifiersData[r]=D}}const QU={name:"preventOverflow",enabled:!0,phase:"main",fn:YU,requiresIfExists:["offset"]};function XU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JU(t){return t===tn(t)||!Xn(t)?Iy(t):XU(t)}function ZU(t){var e=t.getBoundingClientRect(),n=Ro(e.width)/t.offsetWidth||1,r=Ro(e.height)/t.offsetHeight||1;return n!==1||r!==1}function e6(t,e,n){n===void 0&&(n=!1);var r=Xn(e),i=Xn(e)&&ZU(e),s=Ci(e),o=Co(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((vi(e)!=="body"||by(s))&&(a=JU(e)),Xn(e)?(l=Co(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Ay(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function t6(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function n6(t){var e=t6(t);return gU.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function r6(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function i6(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var r1={placement:"bottom",modifiers:[],strategy:"absolute"};function i1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function s6(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?r1:i;return function(a,l,c){c===void 0&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},r1,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:h,setOptions:function(E){var _=typeof E=="function"?E(h.options):E;y(),h.options=Object.assign({},s,h.options,_),h.scrollParents={reference:gs(a)?il(a):a.contextElement?il(a.contextElement):[],popper:il(l)};var I=n6(i6([].concat(r,h.options.modifiers)));return h.orderedModifiers=I.filter(function(P){return P.enabled}),w(),g.update()},forceUpdate:function(){if(!f){var E=h.elements,_=E.reference,I=E.popper;if(i1(_,I)){h.rects={reference:e6(_,wu(I),h.options.strategy==="fixed"),popper:Ty(I)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(C){return h.modifiersData[C.name]=Object.assign({},C.data)});for(var P=0;P<h.orderedModifiers.length;P++){if(h.reset===!0){h.reset=!1,P=-1;continue}var O=h.orderedModifiers[P],N=O.fn,A=O.options,T=A===void 0?{}:A,b=O.name;typeof N=="function"&&(h=N({state:h,options:T,name:b,instance:g})||h)}}}},update:r6(function(){return new Promise(function(S){g.forceUpdate(),S(h)})}),destroy:function(){y(),f=!0}};if(!i1(a,l))return g;g.setOptions(c).then(function(S){!f&&c.onFirstUpdate&&c.onFirstUpdate(S)});function w(){h.orderedModifiers.forEach(function(S){var E=S.name,_=S.options,I=_===void 0?{}:_,P=S.effect;if(typeof P=="function"){var O=P({state:h,name:E,instance:g,options:I}),N=function(){};d.push(O||N)}})}function y(){d.forEach(function(S){return S()}),d=[]}return g}}var o6=s6({defaultModifiers:[BU,KU,PU,CU,HU,FU,QU,SU]}),s1=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},a6={name:"applyStyles",enabled:!1},l6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},u6=[];function c6(t,e,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,c=l===void 0?"absolute":l,h=r.modifiers,d=h===void 0?u6:h,f=Fd(r,["enabled","placement","strategy","modifiers"]),g=j.useRef(),w=j.useCallback(function(){var P;(P=g.current)==null||P.update()},[]),y=j.useCallback(function(){var P;(P=g.current)==null||P.forceUpdate()},[]),S=iU(j.useState({placement:a,update:w,forceUpdate:y,attributes:{},styles:{popper:s1(c),arrow:{}}})),E=S[0],_=S[1],I=j.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(O){var N=O.state,A={},T={};Object.keys(N.elements).forEach(function(b){A[b]=N.styles[b],T[b]=N.attributes[b]}),_({state:N,styles:A,attributes:T,update:w,forceUpdate:y,placement:N.placement})}}},[w,y,_]);return j.useEffect(function(){!g.current||!s||g.current.setOptions({placement:a,strategy:c,modifiers:[].concat(d,[I,a6])})},[c,a,I,s]),j.useEffect(function(){if(!(!s||t==null||e==null))return g.current=o6(t,e,Le({},f,{placement:a,strategy:c,modifiers:[].concat(d,[l6,I])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,_(function(P){return Le({},P,{attributes:{},styles:{popper:s1(c)}})}))}},[s,t,e]),E}function h6(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Ba(t,e,n,r){return tU(t,e,n,r),function(){h6(t,e,n,r)}}var d6=function(){},f6=d6;const p6=Kt(f6);function m6(t){return t&&"setState"in t?AI.findDOMNode(t):t??null}const g6=function(t){return yu(m6(t))};var v6=27,o1=function(){};function y6(t){return t.button===0}function _6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var a1=function(e){return e&&("current"in e?e.current:e)};function w6(t,e,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=j.useRef(!1),l=e||o1,c=j.useCallback(function(f){var g,w=a1(t);p6(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!w||_6(f)||!y6(f)||!!zl(w,(g=f.composedPath==null?void 0:f.composedPath()[0])!=null?g:f.target)},[t]),h=GE(function(f){a.current||l(f)}),d=GE(function(f){f.keyCode===v6&&l(f)});j.useEffect(function(){if(!(i||t==null)){var f=window.event,g=g6(a1(t)),w=Ba(g,o,c,!0),y=Ba(g,o,function(_){if(_===f){f=void 0;return}h(_)}),S=Ba(g,"keyup",function(_){if(_===f){f=void 0;return}d(_)}),E=[];return"ontouchstart"in g.documentElement&&(E=[].slice.call(g.body.children).map(function(_){return Ba(_,"mousemove",o1)})),function(){w(),y(),S(),E.forEach(function(_){return _()})}}},[t,i,o,c,h,d])}function E6(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function T6(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function S6(t){var e,n,r,i,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,c=t.offset,h=t.fixed,d=t.containerPadding,f=t.arrowElement,g=t.popperConfig,w=g===void 0?{}:g,y=E6(w.modifiers);return Le({},w,{placement:a,enabled:s,strategy:h?"fixed":w.strategy,modifiers:T6(Le({},y,{eventListeners:{enabled:o},preventOverflow:Le({},y.preventOverflow,{options:d?Le({padding:d},(e=y.preventOverflow)==null?void 0:e.options):(n=y.preventOverflow)==null?void 0:n.options}),offset:{options:Le({offset:c},(r=y.offset)==null?void 0:r.options)},arrow:Le({},y.arrow,{enabled:!!f,options:Le({},(i=y.arrow)==null?void 0:i.options,{element:f})}),flip:Le({enabled:!!l},y.flip)}))})}function I6(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function A6(t,e){t.classList?t.classList.add(e):I6(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function l1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function b6(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=l1(t.className,e):t.setAttribute("class",l1(t.className&&t.className.baseVal||"",e))}var yc;function Py(t){if((!yc&&yc!==0||t)&&yy){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),yc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return yc}var pp=function(e){var n;return typeof document>"u"?null:e==null?yu().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function u1(t,e){var n=j.useState(function(){return pp(t)}),r=n[0],i=n[1];if(!r){var s=pp(t);s&&i(s)}return j.useEffect(function(){},[e,r]),j.useEffect(function(){var o=pp(t);o!==r&&i(o)},[t,r]),r}const c1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function P6(t,e){const n=c1(t),r=c1(e);return i=>{n&&n(i),r&&r(i)}}function R6(t,e){return j.useMemo(()=>P6(t,e),[t,e])}var Ry=M.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,c=t.transition,h=YE(),d=h[0],f=h[1],g=YE(),w=g[0],y=g[1],S=R6(f,e),E=u1(t.container),_=u1(t.target),I=j.useState(!t.show),P=I[0],O=I[1],N=c6(_,d,S6({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:w,popperConfig:l})),A=N.styles,T=N.attributes,b=Fd(N,["styles","attributes"]);t.show?P&&O(!1):!t.transition&&!P&&O(!0);var C=function(){O(!0),t.onExited&&t.onExited.apply(t,arguments)},k=t.show||c&&!P;if(w6(d,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!k)return null;var D=t.children(Le({},b,{show:!!t.show,props:Le({},T.popper,{style:A.popper,ref:S}),arrowProps:Le({},T.arrow,{style:A.arrow,ref:y})}));if(c){var x=t.onExit,G=t.onExiting,Q=t.onEnter,X=t.onEntering,te=t.onEntered;D=M.createElement(c,{in:t.show,appear:!0,onExit:x,onExiting:G,onExited:C,onEnter:Q,onEntering:X,onEntered:te},D)}return E?AI.createPortal(D,E):null});Ry.displayName="Overlay";Ry.propTypes={show:z.bool,placement:z.oneOf(wy),target:z.any,container:z.any,flip:z.bool,children:z.func.isRequired,containerPadding:z.number,popperConfig:z.object,rootClose:z.bool,rootCloseEvent:z.oneOf(["click","mousedown"]),rootCloseDisabled:z.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var s;return(s=z.func).isRequired.apply(s,[e].concat(r))}return z.func.apply(z,[e].concat(r))},transition:z.elementType,onEnter:z.func,onEntering:z.func,onEntered:z.func,onExit:z.func,onExiting:z.func,onExited:z.func};function C6(){this.__data__=[],this.size=0}var x6=C6,k6=mu;function D6(t,e){for(var n=t.length;n--;)if(k6(t[n][0],e))return n;return-1}var Wd=D6,O6=Wd,N6=Array.prototype,M6=N6.splice;function L6(t){var e=this.__data__,n=O6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():M6.call(e,n,1),--this.size,!0}var j6=L6,$6=Wd;function V6(t){var e=this.__data__,n=$6(e,t);return n<0?void 0:e[n][1]}var F6=V6,U6=Wd;function B6(t){return U6(this.__data__,t)>-1}var z6=B6,W6=Wd;function H6(t,e){var n=this.__data__,r=W6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var q6=H6,K6=x6,G6=j6,Y6=F6,Q6=z6,X6=q6;function Ko(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ko.prototype.clear=K6;Ko.prototype.delete=G6;Ko.prototype.get=Y6;Ko.prototype.has=Q6;Ko.prototype.set=X6;var Hd=Ko,J6=Hd;function Z6(){this.__data__=new J6,this.size=0}var e5=Z6;function t5(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var n5=t5;function r5(t){return this.__data__.get(t)}var i5=r5;function s5(t){return this.__data__.has(t)}var o5=s5,a5=rr,l5=a5["__core-js_shared__"],u5=l5,mp=u5,h1=function(){var t=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function c5(t){return!!h1&&h1 in t}var h5=c5,d5=Function.prototype,f5=d5.toString;function p5(t){if(t!=null){try{return f5.call(t)}catch{}try{return t+""}catch{}}return""}var oR=p5,m5=py,g5=h5,v5=xr,y5=oR,_5=/[\\^$.*+?()[\]{}|]/g,w5=/^\[object .+?Constructor\]$/,E5=Function.prototype,T5=Object.prototype,S5=E5.toString,I5=T5.hasOwnProperty,A5=RegExp("^"+S5.call(I5).replace(_5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b5(t){if(!v5(t)||g5(t))return!1;var e=m5(t)?A5:w5;return e.test(y5(t))}var P5=b5;function R5(t,e){return t==null?void 0:t[e]}var C5=R5,x5=P5,k5=C5;function D5(t,e){var n=k5(t,e);return x5(n)?n:void 0}var bs=D5,O5=bs,N5=rr,M5=O5(N5,"Map"),Cy=M5,L5=bs,j5=L5(Object,"create"),qd=j5,d1=qd;function $5(){this.__data__=d1?d1(null):{},this.size=0}var V5=$5;function F5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var U5=F5,B5=qd,z5="__lodash_hash_undefined__",W5=Object.prototype,H5=W5.hasOwnProperty;function q5(t){var e=this.__data__;if(B5){var n=e[t];return n===z5?void 0:n}return H5.call(e,t)?e[t]:void 0}var K5=q5,G5=qd,Y5=Object.prototype,Q5=Y5.hasOwnProperty;function X5(t){var e=this.__data__;return G5?e[t]!==void 0:Q5.call(e,t)}var J5=X5,Z5=qd,e9="__lodash_hash_undefined__";function t9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Z5&&e===void 0?e9:e,this}var n9=t9,r9=V5,i9=U5,s9=K5,o9=J5,a9=n9;function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=r9;Go.prototype.delete=i9;Go.prototype.get=s9;Go.prototype.has=o9;Go.prototype.set=a9;var l9=Go,f1=l9,u9=Hd,c9=Cy;function h9(){this.size=0,this.__data__={hash:new f1,map:new(c9||u9),string:new f1}}var d9=h9;function f9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var p9=f9,m9=p9;function g9(t,e){var n=t.__data__;return m9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Kd=g9,v9=Kd;function y9(t){var e=v9(this,t).delete(t);return this.size-=e?1:0,e}var _9=y9,w9=Kd;function E9(t){return w9(this,t).get(t)}var T9=E9,S9=Kd;function I9(t){return S9(this,t).has(t)}var A9=I9,b9=Kd;function P9(t,e){var n=b9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var R9=P9,C9=d9,x9=_9,k9=T9,D9=A9,O9=R9;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=C9;Yo.prototype.delete=x9;Yo.prototype.get=k9;Yo.prototype.has=D9;Yo.prototype.set=O9;var xy=Yo,N9=Hd,M9=Cy,L9=xy,j9=200;function $9(t,e){var n=this.__data__;if(n instanceof N9){var r=n.__data__;if(!M9||r.length<j9-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new L9(r)}return n.set(t,e),this.size=n.size,this}var V9=$9,F9=Hd,U9=e5,B9=n5,z9=i5,W9=o5,H9=V9;function Qo(t){var e=this.__data__=new F9(t);this.size=e.size}Qo.prototype.clear=U9;Qo.prototype.delete=B9;Qo.prototype.get=z9;Qo.prototype.has=W9;Qo.prototype.set=H9;var ky=Qo,q9="__lodash_hash_undefined__";function K9(t){return this.__data__.set(t,q9),this}var G9=K9;function Y9(t){return this.__data__.has(t)}var Q9=Y9,X9=xy,J9=G9,Z9=Q9;function Kh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new X9;++e<n;)this.add(t[e])}Kh.prototype.add=Kh.prototype.push=J9;Kh.prototype.has=Z9;var eB=Kh;function tB(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var nB=tB;function rB(t,e){return t.has(e)}var iB=rB,sB=eB,oB=nB,aB=iB,lB=1,uB=2;function cB(t,e,n,r,i,s){var o=n&lB,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,g=n&uB?new sB:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var w=t[d],y=e[d];if(r)var S=o?r(y,w,d,e,t,s):r(w,y,d,t,e,s);if(S!==void 0){if(S)continue;f=!1;break}if(g){if(!oB(e,function(E,_){if(!aB(g,_)&&(w===E||i(w,E,n,r,s)))return g.push(_)})){f=!1;break}}else if(!(w===y||i(w,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var aR=cB,hB=rr,dB=hB.Uint8Array,lR=dB;function fB(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var pB=fB;function mB(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var gB=mB,p1=Ho,m1=lR,vB=mu,yB=aR,_B=pB,wB=gB,EB=1,TB=2,SB="[object Boolean]",IB="[object Date]",AB="[object Error]",bB="[object Map]",PB="[object Number]",RB="[object RegExp]",CB="[object Set]",xB="[object String]",kB="[object Symbol]",DB="[object ArrayBuffer]",OB="[object DataView]",g1=p1?p1.prototype:void 0,gp=g1?g1.valueOf:void 0;function NB(t,e,n,r,i,s,o){switch(n){case OB:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case DB:return!(t.byteLength!=e.byteLength||!s(new m1(t),new m1(e)));case SB:case IB:case PB:return vB(+t,+e);case AB:return t.name==e.name&&t.message==e.message;case RB:case xB:return t==e+"";case bB:var a=_B;case CB:var l=r&EB;if(a||(a=wB),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=TB,o.set(t,e);var h=yB(a(t),a(e),r,i,s,o);return o.delete(t),h;case kB:if(gp)return gp.call(t)==gp.call(e)}return!1}var MB=NB;function LB(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Dy=LB,jB=Array.isArray,_n=jB,$B=Dy,VB=_n;function FB(t,e,n){var r=e(t);return VB(t)?r:$B(r,n(t))}var uR=FB;function UB(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var BB=UB;function zB(){return[]}var cR=zB,WB=BB,HB=cR,qB=Object.prototype,KB=qB.propertyIsEnumerable,v1=Object.getOwnPropertySymbols,GB=v1?function(t){return t==null?[]:(t=Object(t),WB(v1(t),function(e){return KB.call(t,e)}))}:HB,Oy=GB;function YB(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var QB=YB,XB=qo,JB=Ri,ZB="[object Arguments]";function ez(t){return JB(t)&&XB(t)==ZB}var tz=ez,y1=tz,nz=Ri,hR=Object.prototype,rz=hR.hasOwnProperty,iz=hR.propertyIsEnumerable,sz=y1(function(){return arguments}())?y1:function(t){return nz(t)&&rz.call(t,"callee")&&!iz.call(t,"callee")},Ny=sz,Gh={exports:{}};function oz(){return!1}var az=oz;Gh.exports;(function(t,e){var n=rr,r=az,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Gh,Gh.exports);var Gd=Gh.exports,lz=qo,uz=my,cz=Ri,hz="[object Arguments]",dz="[object Array]",fz="[object Boolean]",pz="[object Date]",mz="[object Error]",gz="[object Function]",vz="[object Map]",yz="[object Number]",_z="[object Object]",wz="[object RegExp]",Ez="[object Set]",Tz="[object String]",Sz="[object WeakMap]",Iz="[object ArrayBuffer]",Az="[object DataView]",bz="[object Float32Array]",Pz="[object Float64Array]",Rz="[object Int8Array]",Cz="[object Int16Array]",xz="[object Int32Array]",kz="[object Uint8Array]",Dz="[object Uint8ClampedArray]",Oz="[object Uint16Array]",Nz="[object Uint32Array]",Ie={};Ie[bz]=Ie[Pz]=Ie[Rz]=Ie[Cz]=Ie[xz]=Ie[kz]=Ie[Dz]=Ie[Oz]=Ie[Nz]=!0;Ie[hz]=Ie[dz]=Ie[Iz]=Ie[fz]=Ie[Az]=Ie[pz]=Ie[mz]=Ie[gz]=Ie[vz]=Ie[yz]=Ie[_z]=Ie[wz]=Ie[Ez]=Ie[Tz]=Ie[Sz]=!1;function Mz(t){return cz(t)&&uz(t.length)&&!!Ie[lz(t)]}var Lz=Mz;function jz(t){return function(e){return t(e)}}var Yd=jz,Yh={exports:{}};Yh.exports;(function(t,e){var n=zP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Yh,Yh.exports);var My=Yh.exports,$z=Lz,Vz=Yd,_1=My,w1=_1&&_1.isTypedArray,Fz=w1?Vz(w1):$z,Ly=Fz,Uz=QB,Bz=Ny,zz=_n,Wz=Gd,Hz=gy,qz=Ly,Kz=Object.prototype,Gz=Kz.hasOwnProperty;function Yz(t,e){var n=zz(t),r=!n&&Bz(t),i=!n&&!r&&Wz(t),s=!n&&!r&&!i&&qz(t),o=n||r||i||s,a=o?Uz(t.length,String):[],l=a.length;for(var c in t)(e||Gz.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Hz(c,l)))&&a.push(c);return a}var dR=Yz,Qz=Object.prototype;function Xz(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Qz;return t===n}var jy=Xz;function Jz(t,e){return function(n){return t(e(n))}}var fR=Jz,Zz=fR,e8=Zz(Object.keys,Object),t8=e8,n8=jy,r8=t8,i8=Object.prototype,s8=i8.hasOwnProperty;function o8(t){if(!n8(t))return r8(t);var e=[];for(var n in Object(t))s8.call(t,n)&&n!="constructor"&&e.push(n);return e}var a8=o8,l8=dR,u8=a8,c8=gu;function h8(t){return c8(t)?l8(t):u8(t)}var Eu=h8,d8=uR,f8=Oy,p8=Eu;function m8(t){return d8(t,p8,f8)}var pR=m8,E1=pR,g8=1,v8=Object.prototype,y8=v8.hasOwnProperty;function _8(t,e,n,r,i,s){var o=n&g8,a=E1(t),l=a.length,c=E1(e),h=c.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:y8.call(e,f)))return!1}var g=s.get(t),w=s.get(e);if(g&&w)return g==e&&w==t;var y=!0;s.set(t,e),s.set(e,t);for(var S=o;++d<l;){f=a[d];var E=t[f],_=e[f];if(r)var I=o?r(_,E,f,e,t,s):r(E,_,f,t,e,s);if(!(I===void 0?E===_||i(E,_,n,r,s):I)){y=!1;break}S||(S=f=="constructor")}if(y&&!S){var P=t.constructor,O=e.constructor;P!=O&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var w8=_8,E8=bs,T8=rr,S8=E8(T8,"DataView"),I8=S8,A8=bs,b8=rr,P8=A8(b8,"Promise"),R8=P8,C8=bs,x8=rr,k8=C8(x8,"Set"),D8=k8,O8=bs,N8=rr,M8=O8(N8,"WeakMap"),L8=M8,Jm=I8,Zm=Cy,eg=R8,tg=D8,ng=L8,mR=qo,Xo=oR,T1="[object Map]",j8="[object Object]",S1="[object Promise]",I1="[object Set]",A1="[object WeakMap]",b1="[object DataView]",$8=Xo(Jm),V8=Xo(Zm),F8=Xo(eg),U8=Xo(tg),B8=Xo(ng),Ui=mR;(Jm&&Ui(new Jm(new ArrayBuffer(1)))!=b1||Zm&&Ui(new Zm)!=T1||eg&&Ui(eg.resolve())!=S1||tg&&Ui(new tg)!=I1||ng&&Ui(new ng)!=A1)&&(Ui=function(t){var e=mR(t),n=e==j8?t.constructor:void 0,r=n?Xo(n):"";if(r)switch(r){case $8:return b1;case V8:return T1;case F8:return S1;case U8:return I1;case B8:return A1}return e});var Qd=Ui,vp=ky,z8=aR,W8=MB,H8=w8,P1=Qd,R1=_n,C1=Gd,q8=Ly,K8=1,x1="[object Arguments]",k1="[object Array]",_c="[object Object]",G8=Object.prototype,D1=G8.hasOwnProperty;function Y8(t,e,n,r,i,s){var o=R1(t),a=R1(e),l=o?k1:P1(t),c=a?k1:P1(e);l=l==x1?_c:l,c=c==x1?_c:c;var h=l==_c,d=c==_c,f=l==c;if(f&&C1(t)){if(!C1(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new vp),o||q8(t)?z8(t,e,n,r,i,s):W8(t,e,l,n,r,i,s);if(!(n&K8)){var g=h&&D1.call(t,"__wrapped__"),w=d&&D1.call(e,"__wrapped__");if(g||w){var y=g?t.value():t,S=w?e.value():e;return s||(s=new vp),i(y,S,n,r,s)}}return f?(s||(s=new vp),H8(t,e,n,r,i,s)):!1}var Q8=Y8,X8=Q8,O1=Ri;function gR(t,e,n,r,i){return t===e?!0:t==null||e==null||!O1(t)&&!O1(e)?t!==t&&e!==e:X8(t,e,n,r,gR,i)}var $y=gR,J8=$y;function Z8(t,e){return J8(t,e)}var e7=Z8;const t7=Kt(e7);function yp(t,e){var n=vy(t);return n?n.innerHeight:Xi(t).height}function vR(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(JF(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function n7(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var r7=n7,i7=ky,s7=$y,o7=1,a7=2;function l7(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new i7;if(r)var f=r(c,h,l,t,e,d);if(!(f===void 0?s7(h,c,o7|a7,r,d):f))return!1}}return!0}var u7=l7,c7=xr;function h7(t){return t===t&&!c7(t)}var yR=h7,d7=yR,f7=Eu;function p7(t){for(var e=f7(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,d7(i)]}return e}var m7=p7;function g7(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var _R=g7,v7=u7,y7=m7,_7=_R;function w7(t){var e=y7(t);return e.length==1&&e[0][2]?_7(e[0][0],e[0][1]):function(n){return n===t||v7(n,t,e)}}var E7=w7,T7=_n,S7=vu,I7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A7=/^\w*$/;function b7(t,e){if(T7(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||S7(t)?!0:A7.test(t)||!I7.test(t)||e!=null&&t in Object(e)}var Vy=b7,wR=xy,P7="Expected a function";function Fy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Fy.Cache||wR),n}Fy.Cache=wR;var R7=Fy,C7=R7,x7=500;function k7(t){var e=C7(t,function(r){return n.size===x7&&n.clear(),r}),n=e.cache;return e}var D7=k7,O7=D7,N7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M7=/\\(\\)?/g,L7=O7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(N7,function(n,r,i,s){e.push(i?s.replace(M7,"$1"):r||n)}),e}),j7=L7;function $7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Uy=$7,N1=Ho,V7=Uy,F7=_n,U7=vu,M1=N1?N1.prototype:void 0,L1=M1?M1.toString:void 0;function ER(t){if(typeof t=="string")return t;if(F7(t))return V7(t,ER)+"";if(U7(t))return L1?L1.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var B7=ER,z7=B7;function W7(t){return t==null?"":z7(t)}var H7=W7,q7=_n,K7=Vy,G7=j7,Y7=H7;function Q7(t,e){return q7(t)?t:K7(t,e)?[t]:G7(Y7(t))}var Xd=Q7,X7=vu;function J7(t){if(typeof t=="string"||X7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Tu=J7,Z7=Xd,eW=Tu;function tW(t,e){e=Z7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[eW(e[n++])];return n&&n==r?t:void 0}var Jd=tW,nW=Jd;function rW(t,e,n){var r=t==null?void 0:nW(t,e);return r===void 0?n:r}var iW=rW;function sW(t,e){return t!=null&&e in Object(t)}var oW=sW,aW=Xd,lW=Ny,uW=_n,cW=gy,hW=my,dW=Tu;function fW(t,e,n){e=aW(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=dW(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&hW(i)&&cW(o,i)&&(uW(t)||lW(t)))}var pW=fW,mW=oW,gW=pW;function vW(t,e){return t!=null&&gW(t,e,mW)}var yW=vW,_W=$y,wW=iW,EW=yW,TW=Vy,SW=yR,IW=_R,AW=Tu,bW=1,PW=2;function RW(t,e){return TW(t)&&SW(e)?IW(AW(t),e):function(n){var r=wW(n,t);return r===void 0&&r===e?EW(n,t):_W(e,r,bW|PW)}}var CW=RW;function xW(t){return t}var Zd=xW;function kW(t){return function(e){return e==null?void 0:e[t]}}var DW=kW,OW=Jd;function NW(t){return function(e){return OW(e,t)}}var MW=NW,LW=DW,jW=MW,$W=Vy,VW=Tu;function FW(t){return $W(t)?LW(VW(t)):jW(t)}var UW=FW,BW=E7,zW=CW,WW=Zd,HW=_n,qW=UW;function KW(t){return typeof t=="function"?t:t==null?WW:typeof t=="object"?HW(t)?zW(t[0],t[1]):BW(t):qW(t)}var ef=KW,GW=r7,YW=ef,QW=qP,XW=Math.max;function JW(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:QW(n);return i<0&&(i=XW(r+i,0)),GW(t,YW(e),i)}var ZW=JW;const eH=Kt(ZW);var tH=Math.ceil,nH=Math.max;function rH(t,e,n,r){for(var i=-1,s=nH(tH((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var iH=rH,sH=iH,oH=Bd,_p=HP;function aH(t){return function(e,n,r){return r&&typeof r!="number"&&oH(e,n,r)&&(n=r=void 0),e=_p(e),n===void 0?(n=e,e=0):n=_p(n),r=r===void 0?e<n?1:-1:_p(r),sH(e,n,r,t)}}var lH=aH,uH=lH,cH=uH(),hH=cH;const dH=Kt(hH);var j1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function fH(t,e){return!!(t===e||j1(t)&&j1(e))}function pH(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!fH(t[n],e[n]))return!1;return!0}function TR(t,e){e===void 0&&(e=pH);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}function rg(t,e){var n=vy(t);return n?n.innerWidth:Xi(t).width}var $1=Ho,mH=Ny,gH=_n,V1=$1?$1.isConcatSpreadable:void 0;function vH(t){return gH(t)||mH(t)||!!(V1&&t&&t[V1])}var yH=vH,_H=Dy,wH=yH;function SR(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=wH),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?SR(a,e-1,n,r,i):_H(i,a):r||(i[i.length]=a)}return i}var IR=SR;function EH(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var TH=EH,SH=TH,IH=SH(),AH=IH,bH=AH,PH=Eu;function RH(t,e){return t&&bH(t,e,PH)}var By=RH,CH=gu;function xH(t,e){return function(n,r){if(n==null)return n;if(!CH(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var kH=xH,DH=By,OH=kH,NH=OH(DH),MH=NH,LH=MH,jH=gu;function $H(t,e){var n=-1,r=jH(t)?Array(t.length):[];return LH(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var VH=$H;function FH(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var UH=FH,F1=vu;function BH(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=F1(t),o=e!==void 0,a=e===null,l=e===e,c=F1(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var zH=BH,WH=zH;function HH(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=WH(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var qH=HH,wp=Uy,KH=Jd,GH=ef,YH=VH,QH=UH,XH=Yd,JH=qH,ZH=Zd,eq=_n;function tq(t,e,n){e.length?e=wp(e,function(s){return eq(s)?function(o){return KH(o,s.length===1?s[0]:s)}:s}):e=[ZH];var r=-1;e=wp(e,XH(GH));var i=YH(t,function(s,o,a){var l=wp(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return QH(i,function(s,o){return JH(s,o,n)})}var nq=tq;function rq(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var iq=rq,sq=iq,U1=Math.max;function oq(t,e,n){return e=U1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=U1(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),sq(t,this,a)}}var AR=oq;function aq(t){return function(){return t}}var lq=aq,uq=bs,cq=function(){try{var t=uq(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bR=cq,hq=lq,B1=bR,dq=Zd,fq=B1?function(t,e){return B1(t,"toString",{configurable:!0,enumerable:!1,value:hq(e),writable:!0})}:dq,pq=fq,mq=800,gq=16,vq=Date.now;function yq(t){var e=0,n=0;return function(){var r=vq(),i=gq-(r-n);if(n=r,i>0){if(++e>=mq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _q=yq,wq=pq,Eq=_q,Tq=Eq(wq),PR=Tq,Sq=Zd,Iq=AR,Aq=PR;function bq(t,e){return Aq(Iq(t,e,Sq),t+"")}var RR=bq,Pq=IR,Rq=nq,Cq=RR,z1=Bd,xq=Cq(function(t,e){if(t==null)return[];var n=e.length;return n>1&&z1(t,e[0],e[1])?e=[]:n>2&&z1(e[0],e[1],e[2])&&(e=[e[0]]),Rq(t,Pq(e,1),[])}),kq=xq;const Dq=Kt(kq);function CR(t){return PP(t)||UP(t)||hy(t)||RP()}function Oq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Nq=Oq,Mq=xr,Lq=jy,jq=Nq,$q=Object.prototype,Vq=$q.hasOwnProperty;function Fq(t){if(!Mq(t))return jq(t);var e=Lq(t),n=[];for(var r in t)r=="constructor"&&(e||!Vq.call(t,r))||n.push(r);return n}var Uq=Fq,Bq=dR,zq=Uq,Wq=gu;function Hq(t){return Wq(t)?Bq(t,!0):zq(t)}var tf=Hq,qq=RR,Kq=mu,Gq=Bd,Yq=tf,xR=Object.prototype,Qq=xR.hasOwnProperty,Xq=qq(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Gq(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Yq(s),a=-1,l=o.length;++a<l;){var c=o[a],h=t[c];(h===void 0||Kq(h,xR[c])&&!Qq.call(t,c))&&(t[c]=s[c])}return t}),Jq=Xq;const Zq=Kt(Jq);var W1=bR;function eK(t,e,n){e=="__proto__"&&W1?W1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zy=eK,tK=zy,nK=By,rK=ef;function iK(t,e){var n={};return e=rK(e),nK(t,function(r,i,s){tK(n,i,e(r,i,s))}),n}var sK=iK;const oK=Kt(sK);function aK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var kR=aK,lK=zy,uK=mu,cK=Object.prototype,hK=cK.hasOwnProperty;function dK(t,e,n){var r=t[e];(!(hK.call(t,e)&&uK(r,n))||n===void 0&&!(e in t))&&lK(t,e,n)}var DR=dK,fK=DR,pK=zy;function mK(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?pK(n,a,l):fK(n,a,l)}return n}var Su=mK,gK=Su,vK=Eu;function yK(t,e){return t&&gK(e,vK(e),t)}var _K=yK,wK=Su,EK=tf;function TK(t,e){return t&&wK(e,EK(e),t)}var SK=TK,Qh={exports:{}};Qh.exports;(function(t,e){var n=rr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(Qh,Qh.exports);var IK=Qh.exports;function AK(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var bK=AK,PK=Su,RK=Oy;function CK(t,e){return PK(t,RK(t),e)}var xK=CK,kK=fR,DK=kK(Object.getPrototypeOf,Object),nf=DK,OK=Dy,NK=nf,MK=Oy,LK=cR,jK=Object.getOwnPropertySymbols,$K=jK?function(t){for(var e=[];t;)OK(e,MK(t)),t=NK(t);return e}:LK,OR=$K,VK=Su,FK=OR;function UK(t,e){return VK(t,FK(t),e)}var BK=UK,zK=uR,WK=OR,HK=tf;function qK(t){return zK(t,HK,WK)}var NR=qK,KK=Object.prototype,GK=KK.hasOwnProperty;function YK(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&GK.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var QK=YK,H1=lR;function XK(t){var e=new t.constructor(t.byteLength);return new H1(e).set(new H1(t)),e}var Wy=XK,JK=Wy;function ZK(t,e){var n=e?JK(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var eG=ZK,tG=/\w*$/;function nG(t){var e=new t.constructor(t.source,tG.exec(t));return e.lastIndex=t.lastIndex,e}var rG=nG,q1=Ho,K1=q1?q1.prototype:void 0,G1=K1?K1.valueOf:void 0;function iG(t){return G1?Object(G1.call(t)):{}}var sG=iG,oG=Wy;function aG(t,e){var n=e?oG(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var lG=aG,uG=Wy,cG=eG,hG=rG,dG=sG,fG=lG,pG="[object Boolean]",mG="[object Date]",gG="[object Map]",vG="[object Number]",yG="[object RegExp]",_G="[object Set]",wG="[object String]",EG="[object Symbol]",TG="[object ArrayBuffer]",SG="[object DataView]",IG="[object Float32Array]",AG="[object Float64Array]",bG="[object Int8Array]",PG="[object Int16Array]",RG="[object Int32Array]",CG="[object Uint8Array]",xG="[object Uint8ClampedArray]",kG="[object Uint16Array]",DG="[object Uint32Array]";function OG(t,e,n){var r=t.constructor;switch(e){case TG:return uG(t);case pG:case mG:return new r(+t);case SG:return cG(t,n);case IG:case AG:case bG:case PG:case RG:case CG:case xG:case kG:case DG:return fG(t,n);case gG:return new r;case vG:case wG:return new r(t);case yG:return hG(t);case _G:return new r;case EG:return dG(t)}}var NG=OG,MG=xr,Y1=Object.create,LG=function(){function t(){}return function(e){if(!MG(e))return{};if(Y1)return Y1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),MR=LG,jG=MR,$G=nf,VG=jy;function FG(t){return typeof t.constructor=="function"&&!VG(t)?jG($G(t)):{}}var UG=FG,BG=Qd,zG=Ri,WG="[object Map]";function HG(t){return zG(t)&&BG(t)==WG}var qG=HG,KG=qG,GG=Yd,Q1=My,X1=Q1&&Q1.isMap,YG=X1?GG(X1):KG,QG=YG,XG=Qd,JG=Ri,ZG="[object Set]";function eY(t){return JG(t)&&XG(t)==ZG}var tY=eY,nY=tY,rY=Yd,J1=My,Z1=J1&&J1.isSet,iY=Z1?rY(Z1):nY,sY=iY,oY=ky,aY=kR,lY=DR,uY=_K,cY=SK,hY=IK,dY=bK,fY=xK,pY=BK,mY=pR,gY=NR,vY=Qd,yY=QK,_Y=NG,wY=UG,EY=_n,TY=Gd,SY=QG,IY=xr,AY=sY,bY=Eu,PY=tf,RY=1,CY=2,xY=4,LR="[object Arguments]",kY="[object Array]",DY="[object Boolean]",OY="[object Date]",NY="[object Error]",jR="[object Function]",MY="[object GeneratorFunction]",LY="[object Map]",jY="[object Number]",$R="[object Object]",$Y="[object RegExp]",VY="[object Set]",FY="[object String]",UY="[object Symbol]",BY="[object WeakMap]",zY="[object ArrayBuffer]",WY="[object DataView]",HY="[object Float32Array]",qY="[object Float64Array]",KY="[object Int8Array]",GY="[object Int16Array]",YY="[object Int32Array]",QY="[object Uint8Array]",XY="[object Uint8ClampedArray]",JY="[object Uint16Array]",ZY="[object Uint32Array]",we={};we[LR]=we[kY]=we[zY]=we[WY]=we[DY]=we[OY]=we[HY]=we[qY]=we[KY]=we[GY]=we[YY]=we[LY]=we[jY]=we[$R]=we[$Y]=we[VY]=we[FY]=we[UY]=we[QY]=we[XY]=we[JY]=we[ZY]=!0;we[NY]=we[jR]=we[BY]=!1;function Kc(t,e,n,r,i,s){var o,a=e&RY,l=e&CY,c=e&xY;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!IY(t))return t;var h=EY(t);if(h){if(o=yY(t),!a)return dY(t,o)}else{var d=vY(t),f=d==jR||d==MY;if(TY(t))return hY(t,a);if(d==$R||d==LR||f&&!i){if(o=l||f?{}:wY(t),!a)return l?pY(t,cY(o,t)):fY(t,uY(o,t))}else{if(!we[d])return i?t:{};o=_Y(t,d,a)}}s||(s=new oY);var g=s.get(t);if(g)return g;s.set(t,o),AY(t)?t.forEach(function(S){o.add(Kc(S,e,n,S,t,s))}):SY(t)&&t.forEach(function(S,E){o.set(E,Kc(S,e,n,E,t,s))});var w=c?l?gY:mY:l?PY:bY,y=h?void 0:w(t);return aY(y||t,function(S,E){y&&(E=S,S=t[E]),lY(o,E,Kc(S,e,n,E,t,s))}),o}var eQ=Kc;function tQ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nQ=tQ,rQ=Jd,iQ=BP;function sQ(t,e){return e.length<2?t:rQ(t,iQ(e,0,-1))}var oQ=sQ,aQ=Xd,lQ=nQ,uQ=oQ,cQ=Tu;function hQ(t,e){return e=aQ(e,t),t=uQ(t,e),t==null||delete t[cQ(lQ(e))]}var dQ=hQ,fQ=qo,pQ=nf,mQ=Ri,gQ="[object Object]",vQ=Function.prototype,yQ=Object.prototype,VR=vQ.toString,_Q=yQ.hasOwnProperty,wQ=VR.call(Object);function EQ(t){if(!mQ(t)||fQ(t)!=gQ)return!1;var e=pQ(t);if(e===null)return!0;var n=_Q.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&VR.call(n)==wQ}var TQ=EQ,SQ=TQ;function IQ(t){return SQ(t)?void 0:t}var AQ=IQ,bQ=IR;function PQ(t){var e=t==null?0:t.length;return e?bQ(t,1):[]}var RQ=PQ,CQ=RQ,xQ=AR,kQ=PR;function DQ(t){return kQ(xQ(t,void 0,CQ),t+"")}var OQ=DQ,NQ=Uy,MQ=eQ,LQ=dQ,jQ=Xd,$Q=Su,VQ=AQ,FQ=OQ,UQ=NR,BQ=1,zQ=2,WQ=4,HQ=FQ(function(t,e){var n={};if(t==null)return n;var r=!1;e=NQ(e,function(s){return s=jQ(s,t),r||(r=s.length>1),s}),$Q(t,UQ(t),n),r&&(n=MQ(n,BQ|zQ|WQ,VQ));for(var i=e.length;i--;)LQ(n,e[i]);return n}),qQ=HQ;const KQ=Kt(qQ);var GQ=kR,YQ=MR,QQ=By,XQ=ef,JQ=nf,ZQ=_n,eX=Gd,tX=py,nX=xr,rX=Ly;function iX(t,e,n){var r=ZQ(t),i=r||eX(t)||rX(t);if(e=XQ(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:nX(t)?n=tX(s)?YQ(JQ(t)):{}:n={}}return(i?GQ:QQ)(t,function(o,a,l){return e(n,o,a,l)}),n}var sX=iX;const oX=Kt(sX);var aX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var c=i(s),h=i(o),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(f?this.isBefore(h,a):!this.isAfter(h,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(f?this.isAfter(h,a):!this.isBefore(h,a))}}})})(aX);var lX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(lX);var uX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(uX);var cX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,g,w,y){var S=d.name?d:d.$locale(),E=o(S[f]),_=o(S[g]),I=E||_.map(function(O){return O.slice(0,w)});if(!y)return I;var P=S.weekStart;return I.map(function(O,N){return I[(N+(P||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,y,S){return y||S.slice(1)})}(d.formats[f.toUpperCase()])},h=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return h.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(cX);var hX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,h=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,w,y){var S=y&&y.toUpperCase();return w||f[y]||n[y]||f[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,_,I){return _||I.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,h)}}})})(hX);var dX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(h){return h}))[0];for(var c=1;c<a.length;c+=1)a[c].isValid()&&!a[c][o](l)||(l=a[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(dX);var fX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(y){var S={date:y,utc:!0,args:arguments};return new o(S)},l.utc=function(y){var S=a(this.toDate(),{locale:this.$L,utc:!0});return y?S.add(this.utcOffset(),n):S},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),c.call(this,y)};var h=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else h.call(this)};var d=l.utcOffset;l.utcOffset=function(y,S){var E=this.$utils().u;if(E(y))return this.$u?0:E(this.$offset)?d.call(this):this.$offset;if(typeof y=="string"&&(y=function(O){O===void 0&&(O="");var N=O.match(r);if(!N)return null;var A=(""+N[0]).match(i)||["-",0,0],T=A[0],b=60*+A[1]+ +A[2];return b===0?0:T==="+"?b:-b}(y),y===null))return this;var _=Math.abs(y)<=16?60*y:y;if(_===0)return this.utc(S);var I=this.clone();if(S)return I.$offset=_,I.$u=!1,I;var P=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(I=this.local().add(_+P,n)).$offset=_,I.$x.$localOffset=P,I};var f=l.format;l.format=function(y){var S=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,S)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=l.diff;l.diff=function(y,S,E){if(y&&this.$u===y.$u)return w.call(this,y,S,E);var _=this.local(),I=a(y).local();return w.call(_,I,S,E)}}})})(fX);var pX={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(hn,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(pX);function Vn(t){return t.children}var qt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},kt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},eT=Object.keys(kt).map(function(t){return kt[t]});z.oneOfType([z.string,z.func]);z.any;z.func;z.oneOfType([z.arrayOf(z.oneOf(eT)),z.objectOf(function(t,e){var n=eT.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return z.elementType.apply(z,[t,e].concat(i))})]);z.oneOfType([z.oneOf(["overlap","no-overlap"]),z.func]);var tT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function FR(t,e){var n=dt(t,"month");return dt(n,"week",e.startOfWeek())}function UR(t,e){var n=Wh(t,"month");return Wh(n,"week",e.startOfWeek())}function mX(t,e){for(var n=FR(t,e),r=UR(t,e),i=[];zo(n,r,"day");)i.push(n),n=Ln(n,1,"day");return i}function gX(t,e){var n=dt(t,e);return Bo(n,t)?n:Ln(n,1,e)}function vX(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];zo(r,e,n);)i.push(r),r=Ln(r,1,n);return i}function yX(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=dt(t,"day"),t=Bl(t,Bl(e)),t=bo(t,bo(e)),t=Ul(t,Ul(e)),Fl(t,Fl(e)))}function nT(t){return Bl(t)===0&&bo(t)===0&&Ul(t)===0&&Fl(t)===0}function _X(t,e,n,r){return n==="day"&&(n="date"),Math.abs($E[n](t,void 0,r)-$E[n](e,void 0,r))}function Hy(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+dt(t,n)/tT[n]-+dt(e,n)/tT[n]))}var wX=z.oneOfType([z.string,z.func]);function EX(t,e,n,r,i){var s=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return Nl(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function TX(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function qy(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function SX(t,e){return Hy(t,e,"minutes")+qy(t,e)}function IX(t){var e=dt(t,"day");return Hy(e,t,"minutes")+qy(e,t)}function AX(t,e){return fy(t,e,"day")}function bX(t,e,n){var r=Bo(t,e,"minutes");return r?pu(e,n,"minutes"):Ud(e,n,"minutes")}function ig(t,e){return _X(t,e,"day")}function PX(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,c=+dt(n,"day")-+dt(o,"day"),h=ig(n,r),d=ig(o,a);return c||d-h||!!l-!!i||+n-+o||+r-+a}function RX(t){var e=t.event,n=e.start,r=e.end,i=t.range,s=i.start,o=i.end,a=dt(n,"day"),l=zo(a,o,"day"),c=dy(a,r,"minutes"),h=c?Ud(r,s,"minutes"):pu(r,s,"minutes");return l&&h}function CX(t,e){return Bo(t,e,"day")}function xX(t,e){return nT(t)&&nT(e)}var kX=Ye(function t(e){var n=this;Ge(this,t),Nl(typeof e.format=="function","date localizer `format(..)` must be a function"),Nl(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||wX,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return EX.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||yX,this.inRange=e.inRange||jP,this.lt=e.lt||fy,this.lte=e.lte||zo,this.gt=e.gt||Ud,this.gte=e.gte||pu,this.eq=e.eq||Bo,this.neq=e.neq||dy,this.startOf=e.startOf||dt,this.endOf=e.endOf||Wh,this.add=e.add||Ln,this.range=e.range||vX,this.diff=e.diff||Hy,this.ceil=e.ceil||gX,this.min=e.min||MP,this.max=e.max||LP,this.minutes=e.minutes||bo,this.daySpan=e.daySpan||ig,this.firstVisibleDay=e.firstVisibleDay||FR,this.lastVisibleDay=e.lastVisibleDay||UR,this.visibleDays=e.visibleDays||mX,this.getSlotDate=e.getSlotDate||TX,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||qy,this.getTotalMin=e.getTotalMin||SX,this.getMinutesFromMidnight=e.getMinutesFromMidnight||IX,this.continuesPrior=e.continuesPrior||AX,this.continuesAfter=e.continuesAfter||bX,this.sortEvents=e.sortEvents||PX,this.inEventRange=e.inEventRange||RX,this.isSameDate=e.isSameDate||CX,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||xX,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function DX(t,e,n,r){var i=_e(_e({},t.formats),n);return _e(_e({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,i[a]||a,e)}})}var OX=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return M.createElement("div",{className:"rbc-toolbar"},M.createElement("span",{className:"rbc-btn-group"},M.createElement("button",{type:"button",onClick:this.navigate.bind(null,qt.TODAY)},i.today),M.createElement("button",{type:"button",onClick:this.navigate.bind(null,qt.PREVIOUS)},i.previous),M.createElement("button",{type:"button",onClick:this.navigate.bind(null,qt.NEXT)},i.next)),M.createElement("span",{className:"rbc-toolbar-label"},s),M.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return M.createElement("button",{type:"button",key:a,className:je({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])}(M.Component);function Ae(t,e){t&&t.apply(null,[].concat(e))}var NX={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function MX(t){return _e(_e({},NX),t)}function LX(t){var e=t.ref,n=t.callback;j.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var jX=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],BR=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,c=r.onSelect,h=r.onDoubleClick,d=r.onKeyPress,f=r.localizer,g=r.continuesPrior,w=r.continuesAfter,y=r.accessors,S=r.getters,E=r.children,_=r.components,I=_.event,P=_.eventWrapper,O=r.slotStart,N=r.slotEnd,A=er(r,jX);delete A.resizable;var T=y.title(o),b=y.tooltip(o),C=y.end(o),k=y.start(o),D=y.allDay(o),x=l||D||f.diff(k,f.ceil(C,"day"),"day")>1,G=S.eventProp(o,k,C,a),Q=M.createElement("div",{className:"rbc-event-content",title:b||void 0},I?M.createElement(I,{event:o,continuesPrior:g,continuesAfter:w,title:T,isAllDay:D,localizer:f,slotStart:O,slotEnd:N}):T);return M.createElement(P,Object.assign({},this.props,{type:"date"}),M.createElement("div",Object.assign({},A,{style:_e(_e({},G.style),i),className:je("rbc-event",s,G.className,{"rbc-selected":a,"rbc-event-allday":x,"rbc-event-continues-prior":g,"rbc-event-continues-after":w}),onClick:function(te){return c&&c(o,te)},onDoubleClick:function(te){return h&&h(o,te)},onKeyDown:function(te){return d&&d(o,te)}}),typeof E=="function"?E(Q):Q))}}])}(M.Component);function rf(t,e){return!t||e==null?!1:t7(t,e)}function zR(t,e){var n=t.right-t.left,r=n/e;return r}function WR(t,e,n,r){var i=zR(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function $X(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function VX(t,e,n,r,i){var s=-1,o=-1,a=r-1,l=zR(e,r),c=WR(e,n.x,i,r),h=e.top<n.y&&e.bottom>n.y,d=e.top<t.y&&e.bottom>t.y,f=t.y>e.bottom,g=e.top>t.y,w=n.top<e.top&&n.bottom>e.bottom;return w&&(s=0,o=a),h&&(g?(s=0,o=c):f&&(s=c,o=a)),d&&(s=o=i?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),h?c<s?s=c:o=c:t.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function FX(t){var e=t.target,n=t.offset,r=t.container,i=t.box,s=Xi(e),o=s.top,a=s.left,l=s.width,c=s.height,h=Xi(r),d=h.top,f=h.left,g=h.width,w=h.height,y=Xi(i),S=y.width,E=y.height,_=d+w,I=f+g,P=o+E,O=a+S,N=n.x,A=n.y,T=P>_?o-E-A:o+A+c,b=O>I?a+N-S+l:a+N;return{topOffset:T,leftOffset:b}}function UX(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,c=t.events,h=t.slotStart,d=t.slotEnd,f=t.onSelect,g=t.onDoubleClick,w=t.onKeyPress,y=t.handleDragStart,S=t.popperRef,E=t.target,_=t.offset;LX({ref:S,callback:l}),j.useLayoutEffect(function(){var O=FX({target:E,offset:_,container:e.current,box:S.current}),N=O.topOffset,A=O.leftOffset;S.current.style.top="".concat(N,"px"),S.current.style.left="".concat(A,"px")},[_.x,_.y,E]);var I=a.width,P={minWidth:I+I/2};return M.createElement("div",{style:P,className:"rbc-overlay",ref:S},M.createElement("div",{className:"rbc-overlay-header"},o.format(h,"dayHeaderFormat")),c.map(function(O,N){return M.createElement(BR,{key:N,type:"popup",localizer:o,event:O,getters:r,onSelect:f,accessors:n,components:s,onDoubleClick:g,onKeyPress:w,continuesPrior:o.lt(n.end(O),h,"day"),continuesAfter:o.gte(n.start(O),d,"day"),slotStart:h,slotEnd:d,selected:rf(O,i),draggable:!0,onDragStart:function(){return y(O)},onDragEnd:function(){return l()}})}))}var HR=M.forwardRef(function(t,e){return M.createElement(UX,Object.assign({},t,{popperRef:e}))});HR.propTypes={accessors:z.object.isRequired,getters:z.object.isRequired,selected:z.object,components:z.object.isRequired,localizer:z.object.isRequired,position:z.object.isRequired,show:z.func.isRequired,events:z.array.isRequired,slotStart:z.instanceOf(Date).isRequired,slotEnd:z.instanceOf(Date),onSelect:z.func,onDoubleClick:z.func,onKeyPress:z.func,handleDragStart:z.func,style:z.object,offset:z.shape({x:z.number,y:z.number})};function BX(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,c=t.selected,h=t.handleSelectEvent,d=t.handleDoubleClickEvent,f=t.handleKeyPressEvent,g=t.handleDragStart,w=t.onHide,y=t.overlayDisplay,S=j.useRef(null);if(!i.position)return null;var E=r;isNaN(r)||(E={x:r,y:r});var _=i.position,I=i.events,P=i.date,O=i.end;return M.createElement(Ry,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(N){var A=N.props;return M.createElement(HR,Object.assign({},A,{containerRef:e,ref:S,target:i.target,offset:E,accessors:s,getters:l,selected:c,components:a,localizer:o,position:_,show:y,events:I,slotStart:P,slotEnd:O,onSelect:h,onDoubleClick:d,onKeyPress:f,handleDragStart:g}))})}var Ky=M.forwardRef(function(t,e){return M.createElement(BX,Object.assign({},t,{containerRef:e}))});Ky.propTypes={popupOffset:z.oneOfType([z.number,z.shape({x:z.number,y:z.number})]),overlay:z.shape({position:z.object,events:z.array,date:z.instanceOf(Date),end:z.instanceOf(Date)}),accessors:z.object.isRequired,localizer:z.object.isRequired,components:z.object.isRequired,getters:z.object.isRequired,selected:z.object,handleSelectEvent:z.func,handleDoubleClickEvent:z.func,handleKeyPressEvent:z.func,handleDragStart:z.func,onHide:z.func,overlayDisplay:z.func};function wt(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Ba(n,t,e,{passive:!1})}function zX(t,e,n){return!t||zl(t,document.elementFromPoint(e,n))}function WX(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return vR(i,".rbc-event",t)}function HX(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return vR(i,".rbc-show-more",t)}function Xh(t,e){return!!WX(t,e)}function qX(t,e){return!!HX(t,e)}function Ca(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var rT=5,KX=250,qR=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;Ge(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=wt("touchmove",function(){},window),this._removeKeyDownListener=wt("keydown",this._keyListener),this._removeKeyUpListener=wt("keyup",this._keyListener),this._removeDropFromOutsideListener=wt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=wt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ye(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:iT(r,vs(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(f){s=setTimeout(function(){h(),n(f)},i.longPressThreshold),o=wt("touchmove",function(){return h()}),a=wt("touchend",function(){return h()})},c=wt("touchstart",l),h=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){h(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=wt("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=wt("mousedown",n._handleInitialEvent)}),i=wt("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Ca(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Ca(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Ca(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),c,h;if(!(n.which===3||n.button===2||!zX(l,i,s))){if(!this.globalMouse&&l&&!zl(l,n.target)){var d=GX(0),f=d.top,g=d.left,w=d.bottom,y=d.right;if(h=vs(l),c=iT({top:h.top-f,left:h.left-g,bottom:h.bottom+w,right:h.right+y},{top:a,left:o}),!c)return}var S=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(S!==!1)switch(n.type){case"mousedown":this._removeEndListener=wt("mouseup",this._handleTerminatingEvent),this._onEscListener=wt("keydown",this._handleTerminatingEvent),this._removeMoveListener=wt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=wt("touchend",this._handleTerminatingEvent),this._removeMoveListener=wt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var s=!this.container||zl(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Ca(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<KX?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Ca(n),a=o.pageX,l=o.pageY,c=Math.abs(i-a),h=Math.abs(s-l),d=Math.min(a,i),f=Math.min(l,s),g=this.selecting,w=this.isClick(a,l);w&&!g&&!(c||h)||(!g&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:f,left:d,x:a,y:l,right:d+c,bottom:f+h},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=rT&&Math.abs(r-o)<=rT}}])}();function GX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Mn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function iT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=vs(t),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,c=l===void 0?i:l,h=vs(e),d=h.top,f=h.left,g=h.right,w=g===void 0?f:g,y=h.bottom,S=y===void 0?d:y;return!(c-n<d||i+n>S||a-n<f||s+n>w)}function vs(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+sT("left"),r=e.top+sT("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function sT(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var YX=function(t){function e(n,r){var i;return Ge(this,e),i=bt(this,e,[n,r]),i.state={selecting:!1},i.containerRef=j.createRef(),i}return Pt(e,t),Ye(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,c=r.localizer,h=this.state,d=h.selecting,f=h.startIdx,g=h.endIdx,w=s();return M.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(y,S){var E=d&&S>=f&&S<=g,_=o.dayProp(y),I=_.className,P=_.style;return M.createElement(l,{key:S,value:y,range:i},M.createElement("div",{style:P,className:je("rbc-day-bg",I,E&&"rbc-selected-cell",c.isSameDate(y,w)&&"rbc-today",a&&c.neq(a,y,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new qR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!Xh(i,l)&&!qX(i,l)){var h=vs(i),d=r.props,f=d.range,g=d.rtl;if($X(h,l)){var w=WR(h,l.x,g,f.length);r._selectSlot({startIdx:w,endIdx:w,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,c=l.range,h=l.rtl,d=-1,f=-1;if(r.state.selecting||(Ae(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var g=vs(i),w=VX(r._initial,g,a,c.length,h);d=w.startIdx,f=w.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:f})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Xh(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(_e(_e({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),Ae(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])}(M.Component),ln={propTypes:{slotMetrics:z.object.isRequired,selected:z.object,isAllDay:z.bool,accessors:z.object.isRequired,localizer:z.object.isRequired,components:z.object.isRequired,getters:z.object.isRequired,onSelect:z.func,onDoubleClick:z.func,onKeyPress:z.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,h=e.slotMetrics,d=e.components,f=e.resizable,g=h.continuesPrior(n),w=h.continuesAfter(n);return M.createElement(BR,{event:n,getters:s,localizer:c,accessors:i,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:g,continuesAfter:w,slotStart:h.first,slotEnd:h.last,selected:rf(n,r),resizable:f})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/e*100+"%";return M.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},KR=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return M.createElement("div",{className:je(a,"rbc-row")},s.reduce(function(c,h,d){var f=h.event,g=h.left,w=h.right,y=h.span,S="_lvl_"+d,E=g-l,_=ln.renderEvent(r.props,f);return E&&c.push(ln.renderSpan(o,E,"".concat(S,"_gap"))),c.push(ln.renderSpan(o,y,S,_)),l=w+1,c},[]))}}])}(M.Component);KR.defaultProps=_e({},ln.defaultProps);function GR(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function QX(t,e,n,r){var i=GR({dateRange:e,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(t),"day"),s),c=r.min(r.ceil(n.end(t),"day"),o),h=eH(e,function(f){return r.isSameDate(f,l)}),d=r.diff(l,c,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:t,span:d,left:h+1,right:Math.max(h+d,1)}}function sg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<s.length&&XX(i,s[r]);r++);r>=e?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function ql(t,e,n,r,i){var s={start:r.start(t),end:r.end(t)},o={start:e,end:n};return i.inEventRange({event:s,range:o})}function XX(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function JX(t,e,n){var r=Hc(t),i=[],s=[];r.forEach(function(l){var c=e.start(l),h=e.end(l);n.daySpan(c,h)>1?i.push(l):s.push(l)});var o=i.sort(function(l,c){return og(l,c,e,n)}),a=s.sort(function(l,c){return og(l,c,e,n)});return[].concat(Hc(o),Hc(a))}function og(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},s={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:s})}var ag=function(e,n){return e.left<=n&&e.right>=n},Ep=function(e,n){return e.filter(function(r){return ag(r,n)}).map(function(r){return r.event})},YR=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=sg(i).levels[0],a=1,l=1,c=[];a<=s;){var h="_lvl_"+a,d=o.filter(function(P){return ag(P,a)})[0]||{},f=d.event,g=d.left,w=d.right,y=d.span;if(!f){var S=this.getHiddenEventsForSlot(i,a);if(S.length>0){var E=a-l;E&&c.push(ln.renderSpan(s,E,h+"_gap")),c.push(ln.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1;continue}a++;continue}var _=Math.max(0,g-l);if(this.canRenderSlotEvent(g,y)){var I=ln.renderEvent(this.props,f);_&&c.push(ln.renderSpan(s,_,h+"_gap")),c.push(ln.renderSpan(s,y,h,I)),l=a=w+1}else _&&c.push(ln.renderSpan(s,_,h+"_gap")),c.push(ln.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1}return M.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(r,i){var s=Ep(r,i),o=sg(r).levels[0],a=o.filter(function(l){return ag(l,i)}).map(function(l){return l.event});return s.filter(function(l){return!a.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return dH(r,r+i).every(function(o){var a=Ep(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,c=o.components,h=l.getEventsForSlot(i),d=Ep(r,i),f=d.length;if(c!=null&&c.showMore){var g=c.showMore,w=l.getDateForSlot(i-1);return f?M.createElement(g,{localizer:a,slotDate:w,slot:i,count:f,events:h,remainingEvents:d}):!1}return f?M.createElement("button",{type:"button",key:"sm_"+i,className:je("rbc-button-link","rbc-show-more"),onClick:function(S){return s.showMore(i,S)}},a.messages.showMore(f,d,h)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(M.Component);YR.defaultProps=_e({},ln.defaultProps);var ZX=function(e){var n=e.children;return M.createElement("div",{className:"rbc-row-content-scroll-container"},n)},eJ=function(e,n){return e.left<=n&&e.right>=n},tJ=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function QR(){return TR(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,s=t.accessors,o=t.localizer,a=GR({dateRange:e,localizer:o}),l=a.first,c=a.last,h=n.map(function(y){return QX(y,e,s,o)}),d=sg(h,Math.max(r-1,1)),f=d.levels,g=d.extra,w=g.length>0?i-1:i;f.length<w;)f.push([]);return{first:l,last:c,levels:f,extra:g,range:e,slots:e.length,clone:function(S){var E=QR();return E(_e(_e({},t),S))},getDateForSlot:function(S){return e[S]},getSlotForDate:function(S){return e.find(function(E){return o.isSameDate(E,S)})},getEventsForSlot:function(S){return h.filter(function(E){return eJ(E,S)}).map(function(E){return E.event})},continuesPrior:function(S){return o.continuesPrior(s.start(S),l)},continuesAfter:function(S){var E=s.start(S),_=s.end(S);return o.continuesAfter(E,_,c)}}},tJ)}var Kl=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,c=a.onSelectSlot;c(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,c=l.range,h=l.onShowMore,d=n.slotMetrics(n.props),f=eU(n.containerRef.current,".rbc-row-bg")[0],g;f&&(g=f.children[o-1]);var w=d.getEventsForSlot(o);h(w,c[o-1],g,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,c=l.renderHeader,h=l.getNow,d=l.localizer;return c({date:o,key:"header_".concat(a),className:je("rbc-date-cell",d.isSameDate(o,h())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,c=o.renderHeader,h=o.showAllEvents;return M.createElement("div",{className:a,ref:n.containerRef},M.createElement("div",{className:je("rbc-row-content",h&&"rbc-row-content-scrollable")},c&&M.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),M.createElement("div",{className:"rbc-row",ref:n.eventRowRef},M.createElement("div",{className:"rbc-row-segment"},M.createElement("div",{className:"rbc-event"},M.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=j.createRef(),n.headingRowRef=j.createRef(),n.eventRowRef=j.createRef(),n.slotMetrics=QR(),n}return Pt(e,t),Ye(e,[{key:"getRowLimit",value:function(){var r,i=yp(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?yp(this.headingRowRef.current):0,o=yp(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,c=r.selectable,h=r.renderForMeasure,d=r.accessors,f=r.getters,g=r.components,w=r.getNow,y=r.renderHeader,S=r.onSelect,E=r.localizer,_=r.onSelectStart,I=r.onSelectEnd,P=r.onDoubleClick,O=r.onKeyPress,N=r.resourceId,A=r.longPressThreshold,T=r.isAllDay,b=r.resizable,C=r.showAllEvents;if(h)return this.renderDummy();var k=this.slotMetrics(this.props),D=k.levels,x=k.extra,G=C?ZX:Vn,Q=g.weekWrapper,X={selected:l,accessors:d,getters:f,localizer:E,components:g,onSelect:S,onDoubleClick:P,onKeyPress:O,resourceId:N,slotMetrics:k,resizable:b};return M.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},M.createElement(YX,{localizer:E,date:i,getNow:w,rtl:s,range:o,selectable:c,container:this.getContainer,getters:f,onSelectStart:_,onSelectEnd:I,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:A,resourceId:N}),M.createElement("div",{className:je("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},y&&M.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),M.createElement(G,null,M.createElement(Q,Object.assign({isAllDay:T},X,{rtl:this.props.rtl}),D.map(function(te,B){return M.createElement(KR,Object.assign({key:B,segments:te},X))}),!!x.length&&M.createElement(YR,Object.assign({segments:x,onShowMore:this.handleShowMore},X))))))}}])}(M.Component);Kl.defaultProps={minRows:0,maxRows:1/0};var Gy=function(e){var n=e.label;return M.createElement("span",{role:"columnheader","aria-sort":"none"},n)},nJ=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?M.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):M.createElement("span",null,n)},rJ=["date","className"],iJ=function(e,n,r,i,s){return e.filter(function(o){return ql(o,n,r,i,s)})},sf=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,c=l.events,h=l.components,d=l.selectable,f=l.getNow,g=l.selected,w=l.date,y=l.localizer,S=l.longPressThreshold,E=l.accessors,_=l.getters,I=l.showAllEvents,P=n.state,O=P.needLimitMeasure,N=P.rowLimit,A=iJ(Hc(c),o[0],o[o.length-1],E,y),T=JX(A,E,y);return M.createElement(Kl,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:f,date:w,range:o,events:T,maxRows:I?1/0:N,selected:g,selectable:d,components:h,accessors:E,getters:_,localizer:y,renderHeader:n.readerDateHeading,renderForMeasure:O,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:S,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:I})},n.readerDateHeading=function(o){var a=o.date,l=o.className,c=er(o,rJ),h=n.props,d=h.date,f=h.getDrilldownView,g=h.localizer,w=g.neq(d,a,"month"),y=g.isSameDate(a,d),S=f(a),E=g.format(a,"dateFormat"),_=n.props.components.dateHeader||nJ;return M.createElement("div",Object.assign({},c,{className:je(l,w&&"rbc-off-range",y&&"rbc-current"),role:"cell"}),M.createElement(_,{label:E,date:a,drilldownView:S,isOffRange:w,onDrillDown:function(P){return n.handleHeadingClick(a,S,P)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),Ae(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,c,h){var d=n.props,f=d.popup,g=d.onDrillDown,w=d.onShowMore,y=d.getDrilldownView,S=d.doShowMoreDrillDown;if(n.clearSelection(),f){var E=QP(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:E,target:h}})}else S&&Ae(g,[a,y(a)||kt.DAY]);Ae(w,[o,a,c])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=j.createRef(),n.slotRowRef=j.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Pt(e,t),Ye(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||XP(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=$F(a,7);return this._weekCount=l.length,M.createElement("div",{className:je("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},M.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],c=o.header||Gy;return s.range(a,l,"day").map(function(h,d){return M.createElement("div",{key:"header_"+d,className:"rbc-header"},M.createElement(c,{date:h,localizer:s,label:s.format(h,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,h=a.components,d=a.getters,f=a.selected,g=a.popupOffset,w=a.handleDragStart,y=function(){return s.setState({overlay:null})};return M.createElement(Ky,{overlay:o,accessors:l,localizer:c,components:h,getters:d,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),Ae(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(M.Component);sf.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};sf.navigate=function(t,e,n){var r=n.localizer;switch(e){case qt.PREVIOUS:return r.add(t,-1,"month");case qt.NEXT:return r.add(t,1,"month");default:return t}};sf.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var oT=function(e){var n=e.min,r=e.max,i=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function Yy(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,s=t.localizer,o=oT({step:r,localizer:s}),a=1+s.getTotalMin(e,n),l=s.getMinutesFromMidnight(e),c=Math.ceil((a-1)/(r*i)),h=c*i,d=new Array(c),f=new Array(h),g=0;g<c;g++){d[g]=new Array(i);for(var w=0;w<i;w++){var y=g*i+w,S=y*r;f[y]=d[g][w]=s.getSlotDate(e,l,S)}}var E=f.length*r;f.push(s.getSlotDate(e,l,E));function _(I){var P=s.diff(e,I,"minutes")+s.getDstOffset(e,I);return Math.min(P,a)}return{groups:d,update:function(P){return oT(P)!==o?Yy(P):this},dateIsInGroup:function(P,O){var N=d[O+1];return s.inRange(P,d[O][0],N?N[0]:n,"minutes")},nextSlot:function(P){var O=f[Math.min(f.findIndex(function(N){return N===P||s.eq(N,P)})+1,f.length-1)];return s.eq(O,P)&&(O=s.add(P,r,"minutes")),O},closestSlotToPosition:function(P){var O=Math.min(f.length-1,Math.max(0,Math.floor(P*h)));return f[O]},closestSlotFromPoint:function(P,O){var N=Math.abs(O.top-O.bottom);return this.closestSlotToPosition((P.y-O.top)/N)},closestSlotFromDate:function(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(P,e,"minutes"))return f[0];if(s.gt(P,n,"minutes"))return f[f.length-1];var N=s.diff(e,P,"minutes");return f[(N-N%r)/r+O]},startsBeforeDay:function(P){return s.lt(P,e,"day")},startsAfterDay:function(P){return s.gt(P,n,"day")},startsBefore:function(P){return s.lt(s.merge(e,P),e,"minutes")},startsAfter:function(P){return s.gt(s.merge(n,P),n,"minutes")},getRange:function(P,O,N,A){N||(P=s.min(n,s.max(e,P))),A||(O=s.min(n,s.max(e,O)));var T=_(P),b=_(O),C=b>r*h&&!s.eq(n,O)?(T-r)/(r*h)*100:T/(r*h)*100;return{top:C,height:b/(r*h)*100-C,start:_(P),startDate:P,end:_(O),endDate:O}},getCurrentTimePosition:function(P){var O=_(P),N=O/(r*h)*100;return N}}}var sJ=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;Ge(this,t);var s=i.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,c=s.endDate,h=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+c,this.top=h,this.height=d,this.data=e}return Ye(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}])}();function oJ(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function aJ(t){for(var e=Dq(t,["startMs",function(a){return-a.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var s=e[i];if(!(r.endMs>s.startMs)){if(i>0){var o=e.splice(i,1)[0];n.push(o)}break}}}return n}function XR(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=e.map(function(h){return new sJ(h,{slotMetrics:r,accessors:i})}),o=aJ(s),a=[],l=function(){var d=o[c],f=a.find(function(y){return y.end>d.start||Math.abs(d.start-y.start)<n});if(!f)return d.rows=[],a.push(d),1;d.container=f;for(var g=null,w=f.rows.length-1;!g&&w>=0;w--)oJ(f.rows[w],d,n)&&(g=f.rows[w]);g?(g.leaves.push(d),d.row=g):(d.leaves=[],f.rows.push(d))},c=0;c<o.length;c++)l();return o.map(function(h){return{event:h.data,style:{top:h.top,height:h.height,width:h.width,xOffset:Math.max(0,h.xOffset)}}})}function JR(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=JR(t.friends[r],e,n);e=e>i?e:i}return e}function lJ(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=XR({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(Q,X){return Q=Q.style,X=X.style,Q.top!==X.top?Q.top>X.top?1:-1:Q.height!==X.height?Q.top+Q.height<X.top+X.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],c=l.style.top,h=l.style.top+l.style.height,d=a+1;d<s.length;++d){var f=s[d],g=f.style.top,w=f.style.top+f.style.height;(g>=c&&w<=h||w>c&&w<=h||g>=c&&g<h)&&(l.friends.push(f),f.friends.push(l))}for(var y=0;y<s.length;++y){for(var S=s[y],E=[],_=0;_<100;++_)E.push(1);for(var I=0;I<S.friends.length;++I)S.friends[I].idx!==void 0&&(E[S.friends[I].idx]=0);S.idx=E.indexOf(1)}for(var P=0;P<s.length;++P){var O=0;if(!s[P].size){var N=[],A=JR(s[P],0,N);O=100/(A+1),s[P].size=O;for(var T=0;T<N.length;++T)N[T].size=O}}for(var b=0;b<s.length;++b){var C=s[b];C.style.left=C.idx*C.size;for(var k=0,D=0;D<C.friends.length;++D){var x=C.friends[D].idx;k=k>x?k:x}k<=C.idx&&(C.size=100-C.idx*C.size);var G=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(G,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(G,"px)")}return s}var aT={overlap:XR,"no-overlap":lJ};function uJ(t){return!!(t&&t.constructor&&t.call&&t.apply)}function cJ(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in aT&&(n=aT[e]),uJ(n)?n.apply(this,arguments):[]}var ZR=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,c=l===void 0?{}:l,h=c.timeSlotWrapper,d=h===void 0?Vn:h,f=a?a.slotGroupProp(o):{};return M.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(g,w){var y=a?a.slotProp(g,s):{};return M.createElement(d,{key:w,value:g,resource:s},M.createElement("div",Object.assign({},y,{className:je("rbc-time-slot",y.className)}),i&&i(g,w)))}))}}])}(j.Component);function wc(t){return typeof t=="string"?t:t+"%"}function hJ(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,c=t.continuesAfter,h=t.getters,d=t.onClick,f=t.onDoubleClick,g=t.isBackgroundEvent,w=t.onKeyPress,y=t.components,S=y.event,E=y.eventWrapper,_=i.title(r),I=i.tooltip(r),P=i.end(r),O=i.start(r),N=h.eventProp(r,O,P,o),A=[M.createElement("div",{key:"1",className:"rbc-event-label"},a),M.createElement("div",{key:"2",className:"rbc-event-content"},S?M.createElement(S,{event:r,title:_}):_)],T=e.height,b=e.top,C=e.width,k=e.xOffset,D=_e(_e({},N.style),{},zi({top:wc(b),height:wc(T),width:wc(C)},s?"right":"left",wc(k)));return M.createElement(E,Object.assign({type:"time"},t),M.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:f,style:D,onKeyDown:w,title:I?(typeof a=="string"?a+": ":"")+I:void 0,className:je(g?"rbc-background-event":"rbc-event",n,N.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},A))}var dJ=function(e){var n=e.children,r=e.className,i=e.style,s=e.innerRef;return M.createElement("div",{className:r,style:i,ref:s},n)},fJ=M.forwardRef(function(t,e){return M.createElement(dJ,Object.assign({},t,{innerRef:e}))}),pJ=["dayProp"],mJ=["eventContainerWrapper","timeIndicatorWrapper"],eC=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,c=n.props,h=c.rtl,d=c.selected,f=c.accessors,g=c.localizer,w=c.getters,y=c.components,S=c.step,E=c.timeslots,_=c.dayLayoutAlgorithm,I=c.resizable,P=n,O=P.slotMetrics,N=g.messages,A=cJ({events:a,accessors:f,slotMetrics:O,minimumStartDifference:Math.ceil(S*E/2),dayLayoutAlgorithm:_});return A.map(function(T,b){var C,k=T.event,D=T.style,x=f.end(k),G=f.start(k),Q=(C=f.eventId(k))!==null&&C!==void 0?C:"evt_"+b,X="eventTimeRangeFormat",te,B=O.startsBeforeDay(G),q=O.startsAfterDay(x);B?X="eventTimeRangeEndFormat":q&&(X="eventTimeRangeStartFormat"),B&&q?te=N.allDay:te=g.format({start:G,end:x},X);var J=B||O.startsBefore(G),ae=q||O.startsAfter(x);return M.createElement(hJ,{style:D,event:k,label:te,key:Q,getters:w,rtl:h,components:y,continuesPrior:J,continuesAfter:ae,accessors:f,resource:n.props.resource,selected:rf(k,d),onClick:function(ue){return n._select(_e(_e(_e({},k),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),ue)},onDoubleClick:function(ue){return n._doubleClick(k,ue)},isBackgroundEvent:l,onKeyPress:function(ue){return n._keyPress(k,ue)},resizable:I})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,c=a.localizer,h=n._selector=new qR(function(){return o},{longPressThreshold:l}),d=function(y){var S=n.props.onSelecting,E=n.state||{},_=f(y),I=_.startDate,P=_.endDate;S&&(c.eq(E.startDate,I,"minutes")&&c.eq(E.endDate,P,"minutes")||S({start:I,end:P,resourceId:n.props.resource})===!1)||(n.state.start!==_.start||n.state.end!==_.end||n.state.selecting!==_.selecting)&&n.setState(_)},f=function(y){var S=n.slotMetrics.closestSlotFromPoint(y,vs(o));n.state.selecting||(n._initialSlot=S);var E=n._initialSlot;c.lte(E,S)?S=n.slotMetrics.nextSlot(S):c.gt(E,S)&&(E=n.slotMetrics.nextSlot(E));var _=n.slotMetrics.getRange(c.min(E,S),c.max(E,S));return _e(_e({},_),{},{selecting:!0,top:"".concat(_.top,"%"),height:"".concat(_.height,"%")})},g=function(y,S){if(!Xh(n.containerRef.current,y)){var E=f(y),_=E.startDate,I=E.endDate;n._selectSlot({startDate:_,endDate:I,action:S,box:y})}n.setState({selecting:!1})};h.on("selecting",d),h.on("selectStart",d),h.on("beforeSelect",function(w){if(n.props.selectable==="ignoreEvents")return!Xh(n.containerRef.current,w)}),h.on("click",function(w){return g(w,"click")}),h.on("doubleClick",function(w){return g(w,"doubleClick")}),h.on("select",function(w){n.state.selecting&&(n._selectSlot(_e(_e({},n.state),{},{action:"select",bounds:w})),n.setState({selecting:!1}))}),h.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,c=o.action,h=o.bounds,d=o.box,f=a,g=[];n.props.localizer.lte(f,l);)g.push(f),f=new Date(+f+n.props.step*60*1e3);Ae(n.props.onSelectSlot,{slots:g,start:a,end:l,resourceId:n.props.resource,action:c,bounds:h,box:d})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onKeyPressEvent,a)},n.slotMetrics=Yy(n.props),n.containerRef=j.createRef(),n}return Pt(e,t),Ye(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,c=s.date,h=s.min,d=s.max,f=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||f){if(this.clearTimeIndicatorInterval(),a){var g=!f&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else a&&(l.neq(r.min,h,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,c=r.accessors,h=r.localizer,d=r.getters,f=d.dayProp,g=er(d,pJ),w=r.components,y=w.eventContainerWrapper,S=w.timeIndicatorWrapper,E=er(w,mJ);this.slotMetrics=this.slotMetrics.update(this.props);var _=this.slotMetrics,I=this.state,P=I.selecting,O=I.top,N=I.height,A=I.startDate,T=I.endDate,b={start:A,end:T},C=f(s,l),k=C.className,D=C.style,x={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},G=E.dayColumnWrapper||fJ;return M.createElement(G,{ref:this.containerRef,date:i,style:D,className:je(k,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",P&&"rbc-slot-selecting"),slotMetrics:_,resource:l},_.groups.map(function(Q,X){return M.createElement(ZR,{key:X,group:Q,resource:l,getters:g,components:E})}),M.createElement(y,{localizer:h,resource:l,accessors:c,getters:g,components:E,slotMetrics:_},M.createElement("div",{className:je("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),P&&M.createElement("div",{className:"rbc-slot-selection",style:{top:O,height:N}},M.createElement("span",null,h.format(b,"selectRangeFormat"))),a&&this.intervalTriggered&&M.createElement(S,x,M.createElement("div",x)))}}])}(M.Component);eC.defaultProps={dragThroughEvents:!0,timeslots:2};var tC=function(e){var n=e.label;return M.createElement(M.Fragment,null,n)},gJ=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Ae(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,c=a.rtl,h=a.selectable,d=a.getNow,f=a.range,g=a.getters,w=a.localizer,y=a.accessors,S=a.components,E=a.resizable,_=y.resourceId(o),I=o?l.filter(function(P){return y.resource(P)===_}):l;return M.createElement(Kl,{isAllDay:!0,rtl:c,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:f,events:I,resourceId:_,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:S,accessors:y,getters:g,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E})},n}return Pt(e,t),Ye(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,h=s.components.header,d=h===void 0?Gy:h,f=l();return r.map(function(g,w){var y=a(g),S=o.format(g,"dayFormat"),E=c(g),_=E.className,I=E.style,P=M.createElement(d,{date:g,label:S,localizer:o});return M.createElement("div",{key:w,style:I,className:je("rbc-header",_,o.isSameDate(g,f)&&"rbc-today")},y?M.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(N){return i.handleHeaderClick(g,y,N)}},P):M.createElement("span",null,P))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,c=i.events,h=i.getNow,d=i.accessors,f=i.selectable,g=i.components,w=i.getters,y=i.scrollRef,S=i.localizer,E=i.isOverflowing,_=i.components,I=_.timeGutterHeader,P=_.resourceHeader,O=P===void 0?tC:P,N=i.resizable,A={};E&&(A[o?"marginLeft":"marginRight"]="".concat(Py()-1,"px"));var T=a.groupEvents(c);return M.createElement("div",{style:A,ref:y,className:je("rbc-time-header",E&&"rbc-overflowing")},M.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},I&&M.createElement(I,null)),a.map(function(b,C){var k=cs(b,2),D=k[0],x=k[1];return M.createElement("div",{className:"rbc-time-header-content",key:D||C},x&&M.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},M.createElement("div",{className:"rbc-header"},M.createElement(O,{index:C,label:d.resourceTitle(x),resource:x}))),M.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),M.createElement(Kl,{isAllDay:!0,rtl:o,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:T.get(D)||[],resourceId:x&&D,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:g,accessors:d,getters:w,localizer:S,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:N}))}))}}])}(M.Component),vJ=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Ae(n.props.onDrillDown,[o,a])},n}return Pt(e,t),Ye(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,h=s.components,d=h.header,f=d===void 0?Gy:d,g=h.resourceHeader,w=g===void 0?tC:g,y=s.resources,S=s.accessors,E=s.events,_=s.rtl,I=s.selectable,P=s.components,O=s.getters,N=s.resizable,A=l(),T=y.groupEvents(E);return r.map(function(b,C){var k=a(b),D=o.format(b,"dayFormat"),x=c(b),G=x.className,Q=x.style,X=M.createElement(f,{date:b,label:D,localizer:o});return M.createElement("div",{key:C,className:"rbc-time-header-content rbc-resource-grouping"},M.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},M.createElement("div",{style:Q,className:je("rbc-header",G,o.isSameDate(b,A)&&"rbc-today")},k?M.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(B){return i.handleHeaderClick(b,k,B)}},X):M.createElement("span",null,X))),M.createElement("div",{className:"rbc-row"},y.map(function(te,B){var q=cs(te,2),J=q[0],ae=q[1];return M.createElement("div",{key:"resource_".concat(J,"_").concat(B),className:je("rbc-header",G,o.isSameDate(b,A)&&"rbc-today")},M.createElement(w,{index:B,label:S.resourceTitle(ae),resource:ae}))})),M.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},y.map(function(te,B){var q=cs(te,2),J=q[0],ae=q[1],se=(T.get(J)||[]).filter(function(ue){return o.isSameDate(ue.start,b)||o.isSameDate(ue.end,b)});return M.createElement(Kl,{key:"resource_".concat(J,"_").concat(B),isAllDay:!0,rtl:_,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[b],events:se,resourceId:ae&&J,className:"rbc-allday-cell",selectable:I,selected:i.props.selected,components:P,accessors:S,getters:O,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:N})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,h={};return l&&(h[s?"marginLeft":"marginRight"]="".concat(Py()-1,"px")),M.createElement("div",{style:h,ref:a,className:je("rbc-time-header",l&&"rbc-overflowing")},M.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&M.createElement(c,null)),this.renderHeaderCells(o))}}])}(M.Component);function yJ(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var _J=function(e){var n=e.min,r=e.max,i=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,c=e.components,h=e.getters,d=e.gutterRef,f=c.timeGutterWrapper,g=j.useMemo(function(){return yJ({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),w=g.start,y=g.end,S=j.useState(Yy({min:w,max:y,timeslots:i,step:s,localizer:o})),E=cs(S,2),_=E[0],I=E[1];j.useEffect(function(){_&&I(_.update({min:w,max:y,timeslots:i,step:s,localizer:o}))},[w==null?void 0:w.toISOString(),y==null?void 0:y.toISOString(),i,s]);var P=j.useCallback(function(O,N){if(N)return null;var A=_.dateIsInGroup(a(),N);return M.createElement("span",{className:je("rbc-label",A&&"rbc-now")},o.format(O,"timeGutterFormat"))},[_,o,a]);return M.createElement(f,{slotMetrics:_},M.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},_.groups.map(function(O,N){return M.createElement(ZR,{key:N,group:O,resource:l,components:c,renderSlot:P,getters:h})})))},wJ=M.forwardRef(function(t,e){return M.createElement(_J,Object.assign({gutterRef:e},t))}),Tp={};function EJ(t,e){return{map:function(r){return t?t.map(function(i,s){return r([e.resourceId(i),i],s)}):[r([Tp,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||Tp;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(s),i.set(l,c)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(Tp,r),i)}}}var Jo=function(t){function e(n){var r;return Ge(this,e),r=bt(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){KE(r.rafHandle),r.rafHandle=XP(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ae(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ae(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ae(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var c=r.props,h=c.popup,d=c.onDrillDown,f=c.onShowMore,g=c.getDrilldownView,w=c.doShowMoreDrillDown;if(r.clearSelection(),h){var y=QP(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:_e(_e({},y),{},{width:"200px"}),target:l}})}else w&&Ae(d,[s,g(s)||kt.DAY]);Ae(f,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Ae(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=TR(function(i,s){return EJ(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=M.createRef(),r.contentRef=M.createRef(),r.containerRef=M.createRef(),r._scrollRatio=null,r.gutterRef=j.createRef(),r}return Pt(e,t),Ye(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),KE(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,c,h,d,f){var g=this.props,w=g.min,y=g.max,S=(o.get(i)||[]).filter(function(_){return l.inRange(r,c.start(_),c.end(_),"day")}),E=(a.get(i)||[]).filter(function(_){return l.inRange(r,c.start(_),c.end(_),"day")});return M.createElement(eC,Object.assign({},this.props,{localizer:l,min:l.merge(r,w),max:l.merge(r,y),resource:s&&i,components:h,isNow:l.isSameDate(r,f),key:"".concat(i,"-").concat(r),date:r,events:S,backgroundEvents:E,dayLayoutAlgorithm:d}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,c,h,d){var f=this;return i.map(function(g){var w=cs(g,2),y=w[0],S=w[1];return r.map(function(E){return f.renderDayColumn(E,y,S,s,o,a,l,h,d,c)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,c,h,d){var f=this;return r.map(function(g){return M.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},i.map(function(w){var y=cs(w,2),S=y[0],E=y[1];return M.createElement("div",{style:{flex:1},key:l.resourceId(E)},f.renderDayColumn(g,S,E,s,o,a,l,h,d,c))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,c=a.localizer,h=a.resourceGroupingLayout,d=a.components,f=a.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,l),w=g.groupEvents(i),y=g.groupEvents(s);return h?this.renderRangeFirst(r,g,w,y,c,l,o,d,f):this.renderResourcesFirst(r,g,w,y,c,l,o,d,f)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,c=i.rtl,h=i.selected,d=i.getNow,f=i.resources,g=i.components,w=i.accessors,y=i.getters,S=i.localizer,E=i.min,_=i.max,I=i.showMultiDayTimes,P=i.longPressThreshold,O=i.resizable,N=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=a[0],T=a[a.length-1];this.slots=a.length;var b=[],C=[],k=[];s.forEach(function(x){if(ql(x,A,T,w,S)){var G=w.start(x),Q=w.end(x);w.allDay(x)||S.startAndEndAreDateOnly(G,Q)||!I&&!S.isSameDate(G,Q)?b.push(x):C.push(x)}}),o.forEach(function(x){ql(x,A,T,w,S)&&k.push(x)}),b.sort(function(x,G){return og(x,G,w,S)});var D={range:a,events:b,width:l,rtl:c,getNow:d,localizer:S,selected:h,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(f,w),selectable:this.props.selectable,accessors:w,getters:y,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:P,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:O};return M.createElement("div",{className:je("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&N?M.createElement(vJ,D):M.createElement(gJ,D),this.props.popup&&this.renderOverlay(),M.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},M.createElement(wJ,{date:A,ref:this.gutterRef,localizer:S,min:S.merge(A,E),max:S.merge(A,_),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:y}),this.renderEvents(a,C,k,d())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,h=a.components,d=a.getters,f=a.selected,g=a.popupOffset,w=a.handleDragStart,y=function(){return s.setState({overlay:null})};return M.createElement(Ky,{overlay:o,accessors:l,localizer:c,components:h,getters:d,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?rg(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),c=a.diff(i,s,"milliseconds");this._scrollRatio=l/c}}])}(j.Component);Jo.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var TJ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],of=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,w=er(r,TJ),y=e.range(i,{localizer:s});return M.createElement(Jo,Object.assign({},w,{range:y,eventOffset:10,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(M.Component);of.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};of.navigate=function(t,e,n){var r=n.localizer;switch(e){case qt.PREVIOUS:return r.add(t,-1,"day");case qt.NEXT:return r.add(t,1,"day");default:return t}};of.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var SJ=["date","localizer","min","max","scrollToTime","enableAutoScroll"],yi=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,w=er(r,SJ),y=e.range(i,this.props);return M.createElement(Jo,Object.assign({},w,{range:y,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(M.Component);yi.defaultProps=Jo.defaultProps;yi.navigate=function(t,e,n){var r=n.localizer;switch(e){case qt.PREVIOUS:return r.add(t,-1,"week");case qt.NEXT:return r.add(t,1,"week");default:return t}};yi.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),s=n.endOf(t,"week",r);return n.range(i,s)};yi.title=function(t,e){var n=e.localizer,r=yi.range(t,{localizer:n}),i=CR(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var IJ=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Qy(t,e){return yi.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Iu=function(t){function e(){return Ge(this,e),bt(this,e,arguments)}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,w=er(r,IJ),y=Qy(i,this.props);return M.createElement(Jo,Object.assign({},w,{range:y,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(M.Component);Iu.defaultProps=Jo.defaultProps;Iu.range=Qy;Iu.navigate=yi.navigate;Iu.title=function(t,e){var n=e.localizer,r=Qy(t,{localizer:n}),i=CR(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var af=30;function lf(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,s=t.getters,o=t.length,a=o===void 0?af:o,l=t.localizer,c=t.onDoubleClickEvent,h=t.onSelectEvent,d=t.selected,f=j.useRef(null),g=j.useRef(null),w=j.useRef(null),y=j.useRef(null),S=j.useRef(null);j.useEffect(function(){I()});var E=function(T,b,C){var k=n.event,D=n.date;return b=b.filter(function(x){return ql(x,l.startOf(T,"day"),l.endOf(T,"day"),e,l)}),b.map(function(x,G){var Q=e.title(x),X=e.end(x),te=e.start(x),B=s.eventProp(x,te,X,rf(x,d)),q=G===0&&l.format(T,"agendaDateFormat"),J=G===0?M.createElement("td",{rowSpan:b.length,className:"rbc-agenda-date-cell"},D?M.createElement(D,{day:T,label:q}):q):!1;return M.createElement("tr",{key:C+"_"+G,className:B.className,style:B.style},J,M.createElement("td",{className:"rbc-agenda-time-cell"},_(T,x)),M.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(se){return h&&h(x,se)},onDoubleClick:function(se){return c&&c(x,se)}},k?M.createElement(k,{event:x,title:Q}):Q))},[])},_=function(T,b){var C="",k=n.time,D=l.messages.allDay,x=e.end(b),G=e.start(b);return e.allDay(b)||(l.eq(G,x)?D=l.format(G,"agendaTimeFormat"):l.isSameDate(G,x)?D=l.format({start:G,end:x},"agendaTimeRangeFormat"):l.isSameDate(T,G)?D=l.format(G,"agendaTimeFormat"):l.isSameDate(T,x)&&(D=l.format(x,"agendaTimeFormat"))),l.gt(T,G,"day")&&(C="rbc-continues-prior"),l.lt(T,x,"day")&&(C+=" rbc-continues-after"),M.createElement("span",{className:C.trim()},k?M.createElement(k,{event:b,day:T,label:D}):D)},I=function(){if(S.current){var T=f.current,b=S.current.firstChild;if(b){var C=y.current.scrollHeight>y.current.clientHeight,k=[],D=k;k=[rg(b.children[0]),rg(b.children[1])],(D[0]!==k[0]||D[1]!==k[1])&&(g.current.style.width=k[0]+"px",w.current.style.width=k[1]+"px"),C?(A6(T,"rbc-header-overflowing"),T.style.marginRight=Py()+"px"):b6(T,"rbc-header-overflowing")}}},P=l.messages,O=l.add(r,a,"day"),N=l.range(r,O,"day");return i=i.filter(function(A){return ql(A,l.startOf(r,"day"),l.endOf(O,"day"),e,l)}),i.sort(function(A,T){return+e.start(A)-+e.start(T)}),M.createElement("div",{className:"rbc-agenda-view"},i.length!==0?M.createElement(M.Fragment,null,M.createElement("table",{ref:f,className:"rbc-agenda-table"},M.createElement("thead",null,M.createElement("tr",null,M.createElement("th",{className:"rbc-header",ref:g},P.date),M.createElement("th",{className:"rbc-header",ref:w},P.time),M.createElement("th",{className:"rbc-header"},P.event)))),M.createElement("div",{className:"rbc-agenda-content",ref:y},M.createElement("table",{className:"rbc-agenda-table"},M.createElement("tbody",{ref:S},N.map(function(A,T){return E(A,i,T)}))))):M.createElement("span",{className:"rbc-agenda-empty"},P.noEventsInRange))}lf.range=function(t,e){var n=e.length,r=n===void 0?af:n,i=e.localizer,s=i.add(t,r,"day");return{start:t,end:s}};lf.navigate=function(t,e,n){var r=n.length,i=r===void 0?af:r,s=n.localizer;switch(e){case qt.PREVIOUS:return s.add(t,-i,"day");case qt.NEXT:return s.add(t,i,"day");default:return t}};lf.title=function(t,e){var n=e.length,r=n===void 0?af:n,i=e.localizer,s=i.add(t,r,"day");return i.format({start:t,end:s},"agendaHeaderFormat")};var Gc=zi(zi(zi(zi(zi({},kt.MONTH,sf),kt.WEEK,yi),kt.WORK_WEEK,Iu),kt.DAY,of),kt.AGENDA,lf),AJ=["action","date","today"];function bJ(t,e){var n=e.action,r=e.date,i=e.today,s=er(e,AJ);switch(t=typeof t=="string"?Gc[t]:t,n){case qt.TODAY:r=i||new Date;break;case qt.DATE:break;default:Nl(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,s)}return r}function PJ(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&Mn(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var lr=function(e){return function(n){return PJ(n,e)}},RJ=["view","date","getNow","onNavigate"],CJ=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function nC(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=cs(r[n],2),s=i[0],o=i[1];o&&e.push(s)}return e}function xJ(t,e){var n=e.views,r=nC(n);return r.indexOf(t)!==-1}var rC=function(t){function e(){var n;Ge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bt(this,e,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?oX(o,function(a,l){return a[l]=Gc[l]},{}):Mn(o)==="object"?oK(o,function(a,l){return a===!0?Gc[l]:a}):Gc},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,c=a.drilldownView,h=a.getDrilldownView;return h?h(o,l,Object.keys(n.getViews())):c},n.handleRangeChange=function(o,a,l){var c=n.props,h=c.onRangeChange,d=c.localizer;h&&a.range&&h(a.range(o,{localizer:d}),l)},n.handleNavigate=function(o,a){var l=n.props,c=l.view,h=l.date,d=l.getNow,f=l.onNavigate,g=er(l,RJ),w=n.getView(),y=d();h=bJ(w,_e(_e({},g),{},{action:o,date:a||h||y,today:y})),f(h,c,o),n.handleRangeChange(h,w)},n.handleViewChange=function(o){o!==n.props.view&&xJ(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ae(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){Ae(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(qt.DATE,o)},n.state={context:e.getContext(n.props)},n}return Pt(e,t),Ye(e,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,h=r.className,d=r.elementProps,f=r.date,g=r.getNow,w=r.length,y=r.showMultiDayTimes,S=r.onShowMore,E=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var _=er(r,CJ);f=f||g();var I=this.getView(),P=this.state.context,O=P.accessors,N=P.components,A=P.getters,T=P.localizer,b=P.viewNames,C=N.toolbar||OX,k=I.title(f,{localizer:T,length:w});return M.createElement("div",Object.assign({},d,{className:je(h,"rbc-calendar",_.rtl&&"rbc-rtl"),style:c}),s&&M.createElement(C,{date:f,view:i,views:b,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T}),M.createElement(I,Object.assign({},_,{events:o,backgroundEvents:a,date:f,getNow:g,length:w,localizer:T,getters:A,components:N,accessors:O,showMultiDayTimes:y,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:E,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,h=r.resourceIdAccessor,d=r.resourceTitleAccessor,f=r.eventIdAccessor,g=r.eventPropGetter,w=r.backgroundEventPropGetter,y=r.slotPropGetter,S=r.slotGroupPropGetter,E=r.dayPropGetter,_=r.view,I=r.views,P=r.localizer,O=r.culture,N=r.messages,A=N===void 0?{}:N,T=r.components,b=T===void 0?{}:T,C=r.formats,k=C===void 0?{}:C,D=nC(I),x=MX(A);return{viewNames:D,localizer:DX(P,O,k,x),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return y&&y.apply(void 0,arguments)||{}},slotGroupProp:function(){return S&&S.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:Zq(b[_]||{},KQ(b,D),{eventWrapper:Vn,backgroundEventWrapper:Vn,eventContainerWrapper:Vn,dateCellWrapper:Vn,weekWrapper:Vn,timeSlotWrapper:Vn,timeGutterWrapper:Vn,timeIndicatorWrapper:Vn}),accessors:{start:lr(i),end:lr(s),allDay:lr(o),tooltip:lr(a),title:lr(l),resource:lr(c),resourceId:lr(h),resourceTitle:lr(d),eventId:lr(f)}}}}])}(M.Component);rC.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:kt.MONTH,views:[kt.MONTH,kt.WEEK,kt.DAY,kt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:kt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var iC=OP(rC,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),kJ=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"P",n),"  ").concat(r.format(s,"P",n))},Sp=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"p",n),"  ").concat(r.format(s,"p",n))},DJ=function(e,n,r){var i=e.start;return"".concat(r.format(i,"h:mma",n),"  ")},OJ=function(e,n,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",n))},NJ=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"MMMM dd",n),"  ").concat(r.format(s,Bo(i,s,"month")?"dd":"MMMM dd",n))},MJ={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:Sp,eventTimeRangeFormat:Sp,eventTimeRangeStartFormat:DJ,eventTimeRangeEndFormat:OJ,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:NJ,agendaHeaderFormat:kJ,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:Sp},sC=function(e){var n=e.startOfWeek,r=e.getDay,i=e.format,s=e.locales;return new kX({formats:MJ,firstOfWeek:function(a){return r(n(new Date,{locale:s[a]}))},format:function(a,l,c){return i(new Date(a),l,{locale:s[c]})}})};function ft(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function LJ(t){return ft(1,arguments),t instanceof Date||Mn(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wn(t){ft(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Mn(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function jJ(t){if(ft(1,arguments),!LJ(t)&&typeof t!="number")return!1;var e=wn(t);return!isNaN(Number(e))}function _i(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function $J(t,e){ft(2,arguments);var n=wn(t).getTime(),r=_i(e);return new Date(n+r)}function VJ(t,e){ft(2,arguments);var n=_i(e);return $J(t,-n)}var FJ=864e5;function UJ(t){ft(1,arguments);var e=wn(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/FJ)+1}function Jh(t){ft(1,arguments);var e=1,n=wn(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function oC(t){ft(1,arguments);var e=wn(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Jh(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Jh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function BJ(t){ft(1,arguments);var e=oC(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Jh(n);return r}var zJ=6048e5;function WJ(t){ft(1,arguments);var e=wn(t),n=Jh(e).getTime()-BJ(e).getTime();return Math.round(n/zJ)+1}var HJ={};function Au(){return HJ}function Zh(t,e){var n,r,i,s,o,a,l,c;ft(1,arguments);var h=Au(),d=_i((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=wn(t),g=f.getUTCDay(),w=(g<d?7:0)+g-d;return f.setUTCDate(f.getUTCDate()-w),f.setUTCHours(0,0,0,0),f}function aC(t,e){var n,r,i,s,o,a,l,c;ft(1,arguments);var h=wn(t),d=h.getUTCFullYear(),f=Au(),g=_i((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(d+1,0,g),w.setUTCHours(0,0,0,0);var y=Zh(w,e),S=new Date(0);S.setUTCFullYear(d,0,g),S.setUTCHours(0,0,0,0);var E=Zh(S,e);return h.getTime()>=y.getTime()?d+1:h.getTime()>=E.getTime()?d:d-1}function qJ(t,e){var n,r,i,s,o,a,l,c;ft(1,arguments);var h=Au(),d=_i((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=aC(t,e),g=new Date(0);g.setUTCFullYear(f,0,d),g.setUTCHours(0,0,0,0);var w=Zh(g,e);return w}var KJ=6048e5;function GJ(t,e){ft(1,arguments);var n=wn(t),r=Zh(n,e).getTime()-qJ(n,e).getTime();return Math.round(r/KJ)+1}function me(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var $r={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return me(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):me(r+1,2)},d:function(e,n){return me(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return me(e.getUTCHours()%12||12,n.length)},H:function(e,n){return me(e.getUTCHours(),n.length)},m:function(e,n){return me(e.getUTCMinutes(),n.length)},s:function(e,n){return me(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return me(s,n.length)}},Ms={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YJ={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return $r.y(e,n)},Y:function(e,n,r,i){var s=aC(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return me(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):me(o,n.length)},R:function(e,n){var r=oC(e);return me(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return me(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return me(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return me(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return $r.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return me(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=GJ(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):me(s,n.length)},I:function(e,n,r){var i=WJ(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):me(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):$r.d(e,n)},D:function(e,n,r){var i=UJ(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):me(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return me(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return me(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return me(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Ms.noon:i===0?s=Ms.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Ms.evening:i>=12?s=Ms.afternoon:i>=4?s=Ms.morning:s=Ms.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return $r.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):$r.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):me(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):me(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):$r.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):$r.s(e,n)},S:function(e,n){return $r.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return uT(o);case"XXXX":case"XX":return Bi(o);case"XXXXX":case"XXX":default:return Bi(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return uT(o);case"xxxx":case"xx":return Bi(o);case"xxxxx":case"xxx":default:return Bi(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lT(o,":");case"OOOO":default:return"GMT"+Bi(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lT(o,":");case"zzzz":default:return"GMT"+Bi(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return me(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return me(o,n.length)}};function lT(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+me(s,2)}function uT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+me(Math.abs(t)/60,2)}return Bi(t,e)}function Bi(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=me(Math.floor(i/60),2),o=me(i%60,2);return r+s+n+o}var cT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},lC=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},QJ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return cT(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",cT(i,n)).replace("{{time}}",lC(s,n))},XJ={p:lC,P:QJ};function JJ(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var ZJ=["D","DD"],eZ=["YY","YYYY"];function tZ(t){return ZJ.indexOf(t)!==-1}function nZ(t){return eZ.indexOf(t)!==-1}function hT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iZ=function(e,n,r){var i,s=rZ[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Ip(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var sZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lZ={date:Ip({formats:sZ,defaultWidth:"full"}),time:Ip({formats:oZ,defaultWidth:"full"}),dateTime:Ip({formats:aZ,defaultWidth:"full"})},uZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cZ=function(e,n,r,i){return uZ[e]};function xa(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var hZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vZ=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yZ={ordinalNumber:vZ,era:xa({values:hZ,defaultWidth:"wide"}),quarter:xa({values:dZ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xa({values:fZ,defaultWidth:"wide"}),day:xa({values:pZ,defaultWidth:"wide"}),dayPeriod:xa({values:mZ,defaultWidth:"wide",formattingValues:gZ,defaultFormattingWidth:"wide"})};function ka(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?wZ(a,function(d){return d.test(o)}):_Z(a,function(d){return d.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var h=e.slice(o.length);return{value:c,rest:h}}}function _Z(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function wZ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function EZ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var TZ=/^(\d+)(th|st|nd|rd)?/i,SZ=/\d+/i,IZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AZ={any:[/^b/i,/^(a|c)/i]},bZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PZ={any:[/1/i,/2/i,/3/i,/4/i]},RZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NZ={ordinalNumber:EZ({matchPattern:TZ,parsePattern:SZ,valueCallback:function(e){return parseInt(e,10)}}),era:ka({matchPatterns:IZ,defaultMatchWidth:"wide",parsePatterns:AZ,defaultParseWidth:"any"}),quarter:ka({matchPatterns:bZ,defaultMatchWidth:"wide",parsePatterns:PZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ka({matchPatterns:RZ,defaultMatchWidth:"wide",parsePatterns:CZ,defaultParseWidth:"any"}),day:ka({matchPatterns:xZ,defaultMatchWidth:"wide",parsePatterns:kZ,defaultParseWidth:"any"}),dayPeriod:ka({matchPatterns:DZ,defaultMatchWidth:"any",parsePatterns:OZ,defaultParseWidth:"any"})},MZ={code:"en-US",formatDistance:iZ,formatLong:lZ,formatRelative:cZ,localize:yZ,match:NZ,options:{weekStartsOn:0,firstWeekContainsDate:1}},LZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$Z=/^'([^]*?)'?$/,VZ=/''/g,FZ=/[a-zA-Z]/;function uC(t,e,n){var r,i,s,o,a,l,c,h,d,f,g,w,y,S,E,_,I,P;ft(2,arguments);var O=String(e),N=Au(),A=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:N.locale)!==null&&r!==void 0?r:MZ,T=_i((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:N.firstWeekContainsDate)!==null&&o!==void 0?o:(d=N.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=_i((g=(w=(y=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(E=n.locale)===null||E===void 0||(_=E.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&y!==void 0?y:N.weekStartsOn)!==null&&w!==void 0?w:(I=N.locale)===null||I===void 0||(P=I.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&g!==void 0?g:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var C=wn(t);if(!jJ(C))throw new RangeError("Invalid time value");var k=JJ(C),D=VJ(C,k),x={firstWeekContainsDate:T,weekStartsOn:b,locale:A,_originalDate:C},G=O.match(jZ).map(function(Q){var X=Q[0];if(X==="p"||X==="P"){var te=XJ[X];return te(Q,A.formatLong)}return Q}).join("").match(LZ).map(function(Q){if(Q==="''")return"'";var X=Q[0];if(X==="'")return UZ(Q);var te=YJ[X];if(te)return!(n!=null&&n.useAdditionalWeekYearTokens)&&nZ(Q)&&hT(Q,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&tZ(Q)&&hT(Q,e,String(t)),te(D,Q,A.localize,x);if(X.match(FZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return Q}).join("");return G}function UZ(t){var e=t.match($Z);return e?e[1].replace(VZ,"'"):t}function cC(t,e){var n,r,i,s,o,a,l,c;ft(1,arguments);var h=Au(),d=_i((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=wn(t),g=f.getDay(),w=(g<d?7:0)+g-d;return f.setDate(f.getDate()-w),f.setHours(0,0,0,0),f}function hC(t){ft(1,arguments);var e=wn(t),n=e.getDay();return n}const BZ={},zZ=sC({format:uC,startOfWeek:t=>cC(t,{weekStartsOn:1}),getDay:hC,locales:BZ});function WZ(){const[t,e]=j.useState([]);return j.useEffect(()=>{const n=Fb(ls(Dt,"events"),r=>{e(r.docs.map(i=>{const s=i.data();return{id:i.id,title:s.title,start:s.start.toDate?s.start.toDate():new Date(s.start),end:s.end.toDate?s.end.toDate():new Date(s.end),desc:s.desc}}))});return()=>n()},[]),m.jsxs("div",{className:"page",children:[m.jsx("h2",{children:"Temple Events Calendar"}),m.jsx("div",{style:{height:600,marginTop:30},children:m.jsx(iC,{localizer:zZ,events:t,startAccessor:"start",endAccessor:"end",style:{height:"100%"}})})]})}function HZ(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),o=OI(),a=async l=>{l.preventDefault(),s("");try{const c=await e$(IP,t,n);(await $b(br(Dt,"admins",c.user.uid))).exists()?o("/admin/dashboard"):s("You are not an admin")}catch{s("Invalid email or password")}};return m.jsxs("div",{className:"page",style:{maxWidth:420,margin:"auto",padding:20,marginTop:40},children:[m.jsx("h2",{style:{textAlign:"center",marginBottom:25},children:"Admin Login"}),m.jsx("div",{style:{background:"#ffffffdd",padding:25,borderRadius:14,boxShadow:"0 8px 25px rgba(0,0,0,0.12)"},children:m.jsxs("form",{className:"form",onSubmit:a,children:[m.jsx("label",{children:"Admin Email"}),m.jsx("input",{type:"email",placeholder:"Enter Admin Email",value:t,onChange:l=>e(l.target.value),required:!0}),m.jsx("label",{children:"Password"}),m.jsx("input",{type:"password",placeholder:"Enter Password",value:n,onChange:l=>r(l.target.value),required:!0}),m.jsx("button",{className:"btn primary",type:"submit",style:{marginTop:10,width:"100%"},children:"Login"})]})}),i&&m.jsx("p",{style:{color:"red",marginTop:12,textAlign:"center"},children:i})]})}function qZ(){return m.jsxs("div",{className:"page",style:{maxWidth:900,margin:"auto"},children:[m.jsx("h1",{style:{marginBottom:20,textAlign:"center"},children:"Admin Dashboard"}),m.jsxs("div",{className:"admin-grid",children:[m.jsxs("div",{className:"admin-card",children:[m.jsx("h2",{children:"Pooja Bookings"}),m.jsx("p",{children:"Approve / Reject Pooja Requests"}),m.jsx(Ce,{to:"/admin/bookings",children:m.jsx("button",{className:"btn primary",children:"Manage Bookings"})})]}),m.jsxs("div",{className:"admin-card",children:[m.jsx("h2",{children:"Donations"}),m.jsx("p",{children:"View Donation Records"}),m.jsx(Ce,{to:"/admin/donations",children:m.jsx("button",{className:"btn primary",children:"Manage Donations"})})]}),m.jsxs("div",{className:"admin-card",children:[m.jsx("h2",{children:"Temple Events"}),m.jsx("p",{children:"Add, Edit, Delete Events"}),m.jsx(Ce,{to:"/admin/events",children:m.jsx("button",{className:"btn primary",children:"Manage Events"})})]})]})]})}function KZ(){const[t,e]=j.useState([]);j.useEffect(()=>{n()},[]);const n=async()=>{const s=Ob(ls(Dt,"poojaBookings"),Nb("timestamp","desc")),o=await Vb(s);e(o.docs.map(a=>({id:a.id,...a.data()})))},r=async(s,o)=>{await Xv(br(Dt,"poojaBookings",s),{status:o}),n()},i=async s=>{window.confirm("Are you sure you want to delete this booking?")&&(await Jv(br(Dt,"poojaBookings",s)),n())};return m.jsxs("div",{className:"page",style:{padding:"20px"},children:[m.jsx("h2",{style:{textAlign:"center",marginBottom:20},children:"Pooja Bookings"}),m.jsx("div",{style:{overflowX:"auto",background:"#fff",padding:16,borderRadius:12,boxShadow:"0 6px 20px rgba(0,0,0,0.08)"},children:m.jsxs("table",{className:"admin-table",style:{width:"100%",minWidth:700},children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Name"}),m.jsx("th",{children:"Nakshatra"}),m.jsx("th",{children:"Pooja"}),m.jsx("th",{children:"Date"}),m.jsx("th",{children:"Status"}),m.jsx("th",{style:{width:240},children:"Actions"})]})}),m.jsxs("tbody",{children:[t.map(s=>m.jsxs("tr",{children:[m.jsx("td",{children:s.name}),m.jsx("td",{children:s.nakshatra}),m.jsx("td",{children:s.poojaType}),m.jsx("td",{children:s.date||"-"}),m.jsx("td",{style:{textTransform:"capitalize"},children:m.jsx("span",{style:{padding:"4px 10px",borderRadius:6,fontWeight:600,color:s.status==="approved"?"#0b6e22":s.status==="rejected"?"#8a0b0b":"#444",background:s.status==="approved"?"#d2f5d8":s.status==="rejected"?"#f7d2d2":"#eaeaea"},children:s.status})}),m.jsxs("td",{style:{whiteSpace:"nowrap"},children:[s.status!=="approved"&&m.jsx("button",{className:"btn primary",style:{padding:"6px 10px",marginRight:6,fontSize:13},onClick:()=>r(s.id,"approved"),children:"Approve"}),s.status!=="rejected"&&m.jsx("button",{className:"btn ghost",style:{padding:"6px 10px",marginRight:6,fontSize:13},onClick:()=>r(s.id,"rejected"),children:"Reject"}),m.jsx("button",{className:"btn delete",style:{padding:"6px 10px",background:"#ffefef",border:"1px solid #ffbcbc",color:"#d60000",fontSize:13},onClick:()=>i(s.id),children:"Delete"})]})]},s.id)),t.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:22},children:"No bookings found."})})]})]})}),m.jsx("p",{style:{textAlign:"center",marginTop:15,opacity:.8,fontSize:14}})]})}function GZ(){const[t,e]=j.useState([]);j.useEffect(()=>{n()},[]);const n=async()=>{const i=Ob(ls(Dt,"donations"),Nb("timestamp","desc")),s=await Vb(i);e(s.docs.map(o=>({id:o.id,...o.data()})))},r=async i=>{window.confirm("Are you sure you want to delete this donation?")&&(await Jv(br(Dt,"donations",i)),n())};return m.jsxs("div",{className:"page",children:[m.jsx("h1",{children:"Donations"}),m.jsxs("table",{className:"admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Name"}),m.jsx("th",{children:"Spouse"}),m.jsx("th",{children:"Amount"}),m.jsx("th",{children:"Date"}),m.jsx("th",{style:{width:"140px"},children:"Actions"})]})}),m.jsxs("tbody",{children:[t.map(i=>{var s;return m.jsxs("tr",{children:[m.jsx("td",{children:i.name}),m.jsx("td",{children:i.spouse||"-"}),m.jsxs("td",{children:["",i.amount]}),m.jsx("td",{children:(s=i.timestamp)==null?void 0:s.toDate().toLocaleString()}),m.jsx("td",{children:m.jsx("button",{className:"btn-delete",onClick:()=>r(i.id),children:"Delete"})})]},i.id)}),t.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:20},children:"No donation records found."})})]})]})]})}const YZ={},QZ=sC({format:uC,startOfWeek:t=>cC(t,{weekStartsOn:1}),getDay:hC,locales:YZ});function XZ(){const[t,e]=j.useState([]),[n,r]=j.useState(null),[i,s]=j.useState({title:"",desc:"",start:"",end:""});j.useEffect(()=>{Fb(ls(Dt,"events"),c=>{e(c.docs.map(h=>{const d=h.data();return{id:h.id,title:d.title,desc:d.desc,start:d.start.toDate(),end:d.end.toDate()}}))})},[]);const o=async c=>{c.preventDefault();const h={title:i.title,desc:i.desc,start:new Date(i.start),end:new Date(i.end),timestamp:new Date};n?(await Xv(br(Dt,"events",n),h),alert("Event Updated")):(await Zv(ls(Dt,"events"),h),alert("Event Added")),s({title:"",desc:"",start:"",end:""}),r(null)},a=c=>{r(c.id),s({title:c.title,desc:c.desc,start:c.start.toISOString().slice(0,16),end:c.end.toISOString().slice(0,16)})},l=async c=>{window.confirm("Delete this event?")&&await Jv(br(Dt,"events",c))};return m.jsxs("div",{className:"page",children:[m.jsx("h1",{children:"Manage Events"}),m.jsxs("form",{onSubmit:o,style:{display:"flex",gap:10,flexWrap:"wrap",marginBottom:20,padding:10,background:"#fff",borderRadius:10,boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[m.jsx("input",{required:!0,placeholder:"Title",value:i.title,onChange:c=>s({...i,title:c.target.value})}),m.jsx("input",{required:!0,type:"datetime-local",value:i.start,onChange:c=>s({...i,start:c.target.value})}),m.jsx("input",{required:!0,type:"datetime-local",value:i.end,onChange:c=>s({...i,end:c.target.value})}),m.jsx("input",{placeholder:"Description",value:i.desc,onChange:c=>s({...i,desc:c.target.value})}),m.jsx("button",{className:"btn primary",children:n?"Update Event":"Add Event"})]}),m.jsxs("table",{className:"admin-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Title"}),m.jsx("th",{children:"Start"}),m.jsx("th",{children:"End"}),m.jsx("th",{children:"Description"}),m.jsx("th",{children:"Action"})]})}),m.jsx("tbody",{children:t.map(c=>m.jsxs("tr",{children:[m.jsx("td",{children:c.title}),m.jsx("td",{children:c.start.toLocaleString()}),m.jsx("td",{children:c.end.toLocaleString()}),m.jsx("td",{children:c.desc}),m.jsxs("td",{children:[m.jsx("button",{className:"btn-edit",onClick:()=>a(c),children:"Edit"}),m.jsx("button",{className:"btn-delete",onClick:()=>l(c.id),children:"Delete"})]})]},c.id))})]}),m.jsx("div",{style:{height:600,marginTop:20},children:m.jsx(iC,{localizer:QZ,events:t,startAccessor:"start",endAccessor:"end"})})]})}function Ec({children:t}){const[e,n]=j.useState(null);return j.useEffect(()=>{const r=IP.onAuthStateChanged(async i=>{if(!i)return n(!1);const s=await $b(br(Dt,"admins",i.uid));n(s.exists())});return()=>r()},[]),e===null?m.jsx("h2",{style:{textAlign:"center"},children:"Checking admin"}):e?t:m.jsx("h2",{style:{textAlign:"center"},children:"Access Denied"})}function JZ(){return m.jsxs(uD,{basename:"/Temple_management/temple-react/",children:[m.jsx(fD,{}),m.jsx("div",{style:{paddingTop:"90px",minHeight:"80vh"},children:m.jsxs(nD,{children:[m.jsx(Yt,{path:"/",element:m.jsx(DD,{})}),m.jsx(Yt,{path:"/about",element:m.jsx(zD,{})}),m.jsx(Yt,{path:"/services",element:m.jsx(HD,{})}),m.jsx(Yt,{path:"/gallery",element:m.jsx(ZD,{})}),m.jsx(Yt,{path:"/donate",element:m.jsx(HV,{})}),m.jsx(Yt,{path:"/book-pooja",element:m.jsx(GV,{})}),m.jsx(Yt,{path:"/events",element:m.jsx(WZ,{})}),m.jsx(Yt,{path:"/admin-login",element:m.jsx(HZ,{})}),m.jsx(Yt,{path:"/admin/dashboard",element:m.jsx(Ec,{children:m.jsx(qZ,{})})}),m.jsx(Yt,{path:"/admin/bookings",element:m.jsx(Ec,{children:m.jsx(KZ,{})})}),m.jsx(Yt,{path:"/admin/donations",element:m.jsx(Ec,{children:m.jsx(GZ,{})})}),m.jsx(Yt,{path:"/admin/events",element:m.jsx(Ec,{children:m.jsx(XZ,{})})})]})}),m.jsx(PD,{})]})}Ap.createRoot(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(JZ,{})}));
